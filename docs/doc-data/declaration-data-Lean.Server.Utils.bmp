{"declarations":[{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#String.Range.toLspRange\"><span class=\"name\">String</span>.<span class=\"name\">Range</span>.<span class=\"name\">toLspRange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">text</span> : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">Lean.FileMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">r</span> : <a href=\"./Lean/Syntax.html#String.Range\">String.Range</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/BasicAux.html#Lean.Lsp.Range\">Lean.Lsp.Range</a></div></div>","info":{"doc":"Converts an UTF-8-based `String.range` in `text` to an equivalent LSP UTF-16-based `Lsp.Range`\nin `text`.\n","docLink":"./Lean/Server/Utils.html#String.Range.toLspRange","kind":"def","line":220,"name":"String.Range.toLspRange","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L220-L225"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.moduleFromDocumentUri\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">moduleFromDocumentUri</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">uri</span> : <a href=\"./Lean/Data/Lsp/BasicAux.html#Lean.Lsp.DocumentUri\">Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Lean.Name\">Name</a></span></div></div>","info":{"doc":"Finds the module name corresponding to `uri` in `srcSearchPath`. ","docLink":"./Lean/Server/Utils.html#Lean.Server.moduleFromDocumentUri","kind":"def","line":208,"name":"Lean.Server.moduleFromDocumentUri","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L208-L216"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.documentUriFromModule?\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">documentUriFromModule?</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">modName</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<a href=\"./Init/Prelude.html#Option\">Option</a> <a href=\"./Lean/Data/Lsp/BasicAux.html#Lean.Lsp.DocumentUri\">Lsp.DocumentUri</a>)</span></span></div></div>","info":{"doc":"Finds the URI corresponding to `modName` in `searchSearchPath`.\nYields `none` if the file corresponding to `modName` has been deleted in the mean-time.\n","docLink":"./Lean/Server/Utils.html#Lean.Server.documentUriFromModule?","kind":"def","line":194,"name":"Lean.Server.documentUriFromModule?","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L194-L206"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.mkApplyWorkspaceEditRequest\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">mkApplyWorkspaceEditRequest</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">params</span> : <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.ApplyWorkspaceEditParams\">Lsp.ApplyWorkspaceEditParams</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Request\">JsonRpc.Request</a> <a href=\"./Lean/Data/Lsp/Basic.html#Lean.Lsp.ApplyWorkspaceEditParams\">Lsp.ApplyWorkspaceEditParams</a></span></div></div>","info":{"doc":"","docLink":"./Lean/Server/Utils.html#Lean.Server.mkApplyWorkspaceEditRequest","kind":"def","line":181,"name":"Lean.Server.mkApplyWorkspaceEditRequest","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L181-L183"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.mkFileProgressDoneNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">mkFileProgressDoneNotification</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">m</span> : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Notification\">JsonRpc.Notification</a> <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanFileProgressParams\">Lsp.LeanFileProgressParams</a></span></div></div>","info":{"doc":"Constructs a `$/lean/fileProgress` notification marking processing as done. ","docLink":"./Lean/Server/Utils.html#Lean.Server.mkFileProgressDoneNotification","kind":"def","line":176,"name":"Lean.Server.mkFileProgressDoneNotification","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L176-L178"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.mkFileProgressAtPosNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">mkFileProgressAtPosNotification</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">m</span> : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">pos</span> : <a href=\"./Init/Prelude.html#String.Pos.Raw\">String.Pos.Raw</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">kind</span> : <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanFileProgressKind\">Lsp.LeanFileProgressKind</a> := <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanFileProgressKind.processing\">Lsp.LeanFileProgressKind.processing</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Notification\">JsonRpc.Notification</a> <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanFileProgressParams\">Lsp.LeanFileProgressParams</a></span></div></div>","info":{"doc":"Constructs a `$/lean/fileProgress` notification from the given position onwards. ","docLink":"./Lean/Server/Utils.html#Lean.Server.mkFileProgressAtPosNotification","kind":"def","line":170,"name":"Lean.Server.mkFileProgressAtPosNotification","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L170-L174"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.mkFileProgressNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">mkFileProgressNotification</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">m</span> : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">processing</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanFileProgressProcessingInfo\">Lsp.LeanFileProgressProcessingInfo</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Notification\">JsonRpc.Notification</a> <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.LeanFileProgressParams\">Lsp.LeanFileProgressParams</a></span></div></div>","info":{"doc":"Constructs a `$/lean/fileProgress` notification. ","docLink":"./Lean/Server/Utils.html#Lean.Server.mkFileProgressNotification","kind":"def","line":161,"name":"Lean.Server.mkFileProgressNotification","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L161-L168"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.mkPublishDiagnosticsNotification\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">mkPublishDiagnosticsNotification</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">m</span> : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">diagnostics</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/Diagnostics.html#Lean.Lsp.Diagnostic\">Lsp.Diagnostic</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/JsonRpc.html#Lean.JsonRpc.Notification\">JsonRpc.Notification</a> <a href=\"./Lean/Data/Lsp/Diagnostics.html#Lean.Lsp.PublishDiagnosticsParams\">Lsp.PublishDiagnosticsParams</a></span></div></div>","info":{"doc":"Constructs a `textDocument/publishDiagnostics` notification. ","docLink":"./Lean/Server/Utils.html#Lean.Server.mkPublishDiagnosticsNotification","kind":"def","line":151,"name":"Lean.Server.mkPublishDiagnosticsNotification","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L151-L159"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.foldDocumentChanges\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">foldDocumentChanges</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">changes</span> : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Data/Lsp/TextSync.html#Lean.Lsp.TextDocumentContentChangeEvent\">Lsp.TextDocumentContentChangeEvent</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">oldText</span> : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">FileMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Position.html#Lean.FileMap\">FileMap</a></div></div>","info":{"doc":"Returns the document contents with all changes applied. ","docLink":"./Lean/Server/Utils.html#Lean.Server.foldDocumentChanges","kind":"def","line":147,"name":"Lean.Server.foldDocumentChanges","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L147-L149"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.applyDocumentChange\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">applyDocumentChange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">oldText</span> : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">FileMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">change</span> : <a href=\"./Lean/Data/Lsp/TextSync.html#Lean.Lsp.TextDocumentContentChangeEvent\">Lsp.TextDocumentContentChangeEvent</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Position.html#Lean.FileMap\">FileMap</a></div></div>","info":{"doc":"Returns the document contents with the change applied. ","docLink":"./Lean/Server/Utils.html#Lean.Server.applyDocumentChange","kind":"def","line":140,"name":"Lean.Server.applyDocumentChange","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L140-L145"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.maybeTee\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">maybeTee</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">fName</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">isOut</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">h</span> : <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/System/IO.html#IO.FS.Stream\">IO.FS.Stream</a></span></div></div>","info":{"doc":"Duplicates an I/O stream to a log file `fName` in LEAN_SERVER_LOG_DIR\nif that envvar is set.\n","docLink":"./Lean/Server/Utils.html#Lean.Server.maybeTee","kind":"def","line":122,"name":"Lean.Server.maybeTee","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L122-L136"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.replaceLspRange\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">replaceLspRange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">text</span> : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">FileMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">r</span> : <a href=\"./Lean/Data/Lsp/BasicAux.html#Lean.Lsp.Range\">Lsp.Range</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">newText</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Position.html#Lean.FileMap\">FileMap</a></div></div>","info":{"doc":"Replaces the range `r` (using LSP UTF-16 positions) in `text` (using UTF-8 positions)\nwith `newText`.\n","docLink":"./Lean/Server/Utils.html#Lean.Server.replaceLspRange","kind":"def","line":105,"name":"Lean.Server.replaceLspRange","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L105-L118"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.mkInputContext\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">mkInputContext</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">doc</span> : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Parser/Types.html#Lean.Parser.InputContext\">Parser.InputContext</a></div></div>","info":{"doc":"Extracts an `InputContext` from `doc`. ","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.mkInputContext","kind":"def","line":98,"name":"Lean.Server.DocumentMeta.mkInputContext","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L98-L103"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.instInhabitedDocumentMeta.default\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">instInhabitedDocumentMeta</span>.<span class=\"name\">default</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a></div></div>","info":{"doc":"","docLink":"./Lean/Server/Utils.html#Lean.Server.instInhabitedDocumentMeta.default","kind":"def","line":96,"name":"Lean.Server.instInhabitedDocumentMeta.default","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L96-L96"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.instInhabitedDocumentMeta\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">instInhabitedDocumentMeta</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Inhabited\">Inhabited</a> <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a></span></div></div>","info":{"doc":"","docLink":"./Lean/Server/Utils.html#Lean.Server.instInhabitedDocumentMeta","kind":"instance","line":96,"name":"Lean.Server.instInhabitedDocumentMeta","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L96-L96"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.dependencyBuildMode\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">dependencyBuildMode</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.DependencyBuildMode\">Lsp.DependencyBuildMode</a></div></div>","info":{"doc":"Controls when dependencies of the document are built on `textDocument/didOpen` notifications.\n","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.dependencyBuildMode","kind":"def","line":95,"name":"Lean.Server.DocumentMeta.dependencyBuildMode","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L95-L95"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.text\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">text</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Position.html#Lean.FileMap\">FileMap</a></div></div>","info":{"doc":"Current text of the document.\nIt is maintained such that it is normalized using `String.crlfToLf`, which preserves logical line/column numbers.\n(Note: we assume that edit operations never split or merge `\\r\\n` line endings.) ","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.text","kind":"def","line":91,"name":"Lean.Server.DocumentMeta.text","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L91-L91"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.version\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">version</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Nat\">Nat</a></div></div>","info":{"doc":"Version number of the document. Incremented whenever the document is edited. ","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.version","kind":"def","line":86,"name":"Lean.Server.DocumentMeta.version","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L86-L86"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.mod\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">mod</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Name\">Name</a></div></div>","info":{"doc":"Module name corresponding to `uri`.\nWe store the module name instead of recomputing it as needed to ensure that we can still\ndetermine the original module name even when the file has been deleted in the mean-time.\n","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.mod","kind":"def","line":84,"name":"Lean.Server.DocumentMeta.mod","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L84-L84"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.uri\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">uri</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Data/Lsp/BasicAux.html#Lean.Lsp.DocumentUri\">Lsp.DocumentUri</a></div></div>","info":{"doc":"URI where the document is located. ","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.uri","kind":"def","line":78,"name":"Lean.Server.DocumentMeta.uri","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L78-L78"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">uri</span> : <a href=\"./Lean/Data/Lsp/BasicAux.html#Lean.Lsp.DocumentUri\">Lsp.DocumentUri</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">mod</span> : <a href=\"./Init/Prelude.html#Lean.Name\">Name</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">version</span> : <a href=\"./Init/Prelude.html#Nat\">Nat</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">text</span> : <a href=\"./Lean/Data/Position.html#Lean.FileMap\">FileMap</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">dependencyBuildMode</span> : <a href=\"./Lean/Data/Lsp/Extra.html#Lean.Lsp.DependencyBuildMode\">Lsp.DependencyBuildMode</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">DocumentMeta</a></div></div>","info":{"doc":"","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta.mk","kind":"ctor","line":76,"name":"Lean.Server.DocumentMeta.mk","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L76-L76"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">DocumentMeta</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>","info":{"doc":"Meta-Data of a document. ","docLink":"./Lean/Server/Utils.html#Lean.Server.DocumentMeta","kind":"structure","line":75,"name":"Lean.Server.DocumentMeta","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L75-L96"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#IO.FS.Stream.withPrefix\"><span class=\"name\">IO</span>.<span class=\"name\">FS</span>.<span class=\"name\">Stream</span>.<span class=\"name\">withPrefix</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">a</span> : <a href=\"./Init/System/IO.html#IO.FS.Stream\">Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">pre</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">Stream</a></div></div>","info":{"doc":"Prefixes all written outputs with `pre`. ","docLink":"./Lean/Server/Utils.html#IO.FS.Stream.withPrefix","kind":"def","line":61,"name":"IO.FS.Stream.withPrefix","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L61-L68"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#IO.FS.Stream.chainLeft\"><span class=\"name\">IO</span>.<span class=\"name\">FS</span>.<span class=\"name\">Stream</span>.<span class=\"name\">chainLeft</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">a </span><span class=\"fn\">b</span> : <a href=\"./Init/System/IO.html#IO.FS.Stream\">Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">flushEagerly</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">Stream</a></div></div>","info":{"doc":"Like `tee a | b` on Unix. See `chainOut`. ","docLink":"./Lean/Server/Utils.html#IO.FS.Stream.chainLeft","kind":"def","line":48,"name":"IO.FS.Stream.chainLeft","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L48-L59"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#IO.FS.Stream.chainRight\"><span class=\"name\">IO</span>.<span class=\"name\">FS</span>.<span class=\"name\">Stream</span>.<span class=\"name\">chainRight</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">a </span><span class=\"fn\">b</span> : <a href=\"./Init/System/IO.html#IO.FS.Stream\">Stream</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">flushEagerly</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a> := <a href=\"./Init/Prelude.html#Bool.false\">false</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/System/IO.html#IO.FS.Stream\">Stream</a></div></div>","info":{"doc":"Chains two streams by creating a new stream s.t. writing to it\njust writes to `a` but reading from it also duplicates the read output\ninto `b`, c.f. `a | tee b` on Unix.\nNB: if `a` is written to but this stream is never read from,\nthe output will *not* be duplicated. Use this if you only care\nabout the data that was actually read.\n","docLink":"./Lean/Server/Utils.html#IO.FS.Stream.chainRight","kind":"def","line":26,"name":"IO.FS.Stream.chainRight","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L26-L46"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Utils.html#IO.throwServerError\"><span class=\"name\">IO</span>.<span class=\"name\">throwServerError</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">err</span> : <a href=\"./Init/Prelude.html#String\">String</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">α</span></span></div></div>","info":{"doc":"Throws an `IO.userError`. ","docLink":"./Lean/Server/Utils.html#IO.throwServerError","kind":"def","line":20,"name":"IO.throwServerError","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Server/Utils.lean#L20-L22"}}],"imports":["Init.System.Uri","Lean.Data.Lsp.Communication","Lean.Data.Lsp.Diagnostics","Lean.Data.Lsp.Extra","Lean.Server.InfoUtils"],"instances":[{"className":"Inhabited","name":"Lean.Server.instInhabitedDocumentMeta","typeNames":["Lean.Server.DocumentMeta"]}],"name":"Lean.Server.Utils"}