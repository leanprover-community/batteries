{"declarations":[{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.shareCommonAlphaInc\"><span class=\"name\">Lean</span>.<span class=\"name\">Meta</span>.<span class=\"name\">Sym</span>.<span class=\"name\">shareCommonAlphaInc</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">e</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaShareCommonM\">AlphaShareCommonM</a> <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></span></div></div>","info":{"doc":"Incremental variant of `shareCommonAlpha` for expressions constructed from already-shared subterms.\n\nUse this when an expression `e` was produced by a Lean API (e.g., `inferType`, `mkApp4`) that\ndoes not preserve maximal sharing, but the inputs to that API were already maximally shared.\nIn this case, only the newly constructed nodes need processing—the shared subterms can be\nlooked up directly in the `AlphaShareCommonM` state without building a temporary hashmap.\n\nUnlike `shareCommonAlpha`, this function does not use a local `Std.HashMap ExprPtr Expr` to\ntrack visited nodes. This is more efficient when the number of new (unshared) nodes is small,\nwhich is the common case when wrapping API calls that build a few constructor nodes around\nshared inputs.\n\nExample:\n```\n-- `a` and `b` are already maximally shared\nlet result := mkApp2 f a b  -- result is not maximally shared\nlet result ← shareCommonAlphaInc result -- efficiently restore sharing\n```\n","docLink":"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.shareCommonAlphaInc","kind":"def","line":150,"name":"Lean.Meta.Sym.shareCommonAlphaInc","sourceLink":"https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/Sym/AlphaShareCommon.lean#L150-L181"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.shareCommonAlpha\"><span class=\"name\">Lean</span>.<span class=\"name\">Meta</span>.<span class=\"name\">Sym</span>.<span class=\"name\">shareCommonAlpha</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">e</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaShareCommonM\">AlphaShareCommonM</a> <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></span></div></div>","info":{"doc":"Similar to `shareCommon`, but handles alpha-equivalence. ","docLink":"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.shareCommonAlpha","kind":"def","line":125,"name":"Lean.Meta.Sym.shareCommonAlpha","sourceLink":"https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/Sym/AlphaShareCommon.lean#L125-L131"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaShareCommonM\"><span class=\"name\">Lean</span>.<span class=\"name\">Meta</span>.<span class=\"name\">Sym</span>.<span class=\"name\">AlphaShareCommonM</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">α</span> : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>","info":{"doc":"","docLink":"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaShareCommonM","kind":"def","line":64,"name":"Lean.Meta.Sym.AlphaShareCommonM","sourceLink":"https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/Sym/AlphaShareCommon.lean#L64-L64"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaShareCommon.State.set\"><span class=\"name\">Lean</span>.<span class=\"name\">Meta</span>.<span class=\"name\">Sym</span>.<span class=\"name\">AlphaShareCommon</span>.<span class=\"name\">State</span>.<span class=\"name\">set</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaShareCommon.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/PersistentHashSet.html#Lean.PHashSet\">PHashSet</a> <a href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaKey\">AlphaKey</a></span></div></div>","info":{"doc":"","docLink":"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaShareCommon.State.set","kind":"def","line":62,"name":"Lean.Meta.Sym.AlphaShareCommon.State.set","sourceLink":"https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/Sym/AlphaShareCommon.lean#L62-L62"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaShareCommon.State.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Meta</span>.<span class=\"name\">Sym</span>.<span class=\"name\">AlphaShareCommon</span>.<span class=\"name\">State</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">set</span> : <span class=\"fn\"><a href=\"./Lean/Data/PersistentHashSet.html#Lean.PHashSet\">PHashSet</a> <a href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaKey\">AlphaKey</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaShareCommon.State\">State</a></div></div>","info":{"doc":"","docLink":"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaShareCommon.State.mk","kind":"ctor","line":61,"name":"Lean.Meta.Sym.AlphaShareCommon.State.mk","sourceLink":"https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/Sym/AlphaShareCommon.lean#L61-L61"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaShareCommon.State\"><span class=\"name\">Lean</span>.<span class=\"name\">Meta</span>.<span class=\"name\">Sym</span>.<span class=\"name\">AlphaShareCommon</span>.<span class=\"name\">State</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>","info":{"doc":"","docLink":"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaShareCommon.State","kind":"structure","line":61,"name":"Lean.Meta.Sym.AlphaShareCommon.State","sourceLink":"https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/Sym/AlphaShareCommon.lean#L61-L62"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.instBEqAlphaKey\"><span class=\"name\">Lean</span>.<span class=\"name\">Meta</span>.<span class=\"name\">Sym</span>.<span class=\"name\">instBEqAlphaKey</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#BEq\">BEq</a> <a href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaKey\">AlphaKey</a></span></div></div>","info":{"doc":"","docLink":"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.instBEqAlphaKey","kind":"instance","line":58,"name":"Lean.Meta.Sym.instBEqAlphaKey","sourceLink":"https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/Sym/AlphaShareCommon.lean#L58-L59"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.instHashableAlphaKey\"><span class=\"name\">Lean</span>.<span class=\"name\">Meta</span>.<span class=\"name\">Sym</span>.<span class=\"name\">instHashableAlphaKey</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Hashable\">Hashable</a> <a href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaKey\">AlphaKey</a></span></div></div>","info":{"doc":"","docLink":"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.instHashableAlphaKey","kind":"instance","line":55,"name":"Lean.Meta.Sym.instHashableAlphaKey","sourceLink":"https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/Sym/AlphaShareCommon.lean#L55-L56"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaKey.expr\"><span class=\"name\">Lean</span>.<span class=\"name\">Meta</span>.<span class=\"name\">Sym</span>.<span class=\"name\">AlphaKey</span>.<span class=\"name\">expr</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaKey\">AlphaKey</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a></div></div>","info":{"doc":"","docLink":"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaKey.expr","kind":"def","line":53,"name":"Lean.Meta.Sym.AlphaKey.expr","sourceLink":"https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/Sym/AlphaShareCommon.lean#L53-L53"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaKey.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Meta</span>.<span class=\"name\">Sym</span>.<span class=\"name\">AlphaKey</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">expr</span> : <a href=\"./Lean/Expr.html#Lean.Expr\">Expr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaKey\">AlphaKey</a></div></div>","info":{"doc":"","docLink":"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaKey.mk","kind":"ctor","line":52,"name":"Lean.Meta.Sym.AlphaKey.mk","sourceLink":"https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/Sym/AlphaShareCommon.lean#L52-L52"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaKey\"><span class=\"name\">Lean</span>.<span class=\"name\">Meta</span>.<span class=\"name\">Sym</span>.<span class=\"name\">AlphaKey</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>","info":{"doc":"","docLink":"./Lean/Meta/Sym/AlphaShareCommon.html#Lean.Meta.Sym.AlphaKey","kind":"structure","line":52,"name":"Lean.Meta.Sym.AlphaKey","sourceLink":"https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/Sym/AlphaShareCommon.lean#L52-L53"}}],"imports":["Lean.Meta.Sym.ExprPtr"],"instances":[{"className":"Hashable","name":"Lean.Meta.Sym.instHashableAlphaKey","typeNames":["Lean.Meta.Sym.AlphaKey"]},{"className":"BEq","name":"Lean.Meta.Sym.instBEqAlphaKey","typeNames":["Lean.Meta.Sym.AlphaKey"]}],"name":"Lean.Meta.Sym.AlphaShareCommon"}