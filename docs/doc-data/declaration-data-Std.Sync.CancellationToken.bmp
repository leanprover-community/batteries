{"declarations":[{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.selector\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">selector</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">token</span> : <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken\">CancellationToken</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Std/Internal/Async/Select.html#Std.Internal.IO.Async.Selector\">Internal.IO.Async.Selector</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>","info":{"doc":"Creates a selector that waits for cancellation\n","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.selector","kind":"def","line":120,"name":"Std.CancellationToken.selector","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L120-L150"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.wait\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">wait</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken\">CancellationToken</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <span class=\"fn\">(<a href=\"./Std/Internal/Async/Basic.html#Std.Internal.IO.Async.AsyncTask\">Internal.IO.Async.AsyncTask</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a>)</span></span></div></div>","info":{"doc":"Wait for cancellation. Returns a task that completes when cancelled,\n","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.wait","kind":"def","line":102,"name":"Std.CancellationToken.wait","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L102-L118"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.isCancelled\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">isCancelled</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken\">CancellationToken</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>","info":{"doc":"Check if the token is cancelled.\n","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.isCancelled","kind":"def","line":94,"name":"Std.CancellationToken.isCancelled","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L94-L100"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.cancel\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">cancel</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">x</span> : <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken\">CancellationToken</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>","info":{"doc":"Cancel the token, notifying all currently waiting consumers with `true`.\nOnce cancelled, the token remains cancelled.\n","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.cancel","kind":"def","line":71,"name":"Std.CancellationToken.cancel","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L71-L92"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.new\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">new</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken\">CancellationToken</a></span></div></div>","info":{"doc":"Create a new cancellation token.\n","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.new","kind":"def","line":65,"name":"Std.CancellationToken.new","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L65-L69"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.state\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">state</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken\">CancellationToken</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Std/Sync/Mutex.html#Std.Mutex\">Mutex</a> <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.State\">State</a></span></div></div>","info":{"doc":"","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.state","kind":"def","line":61,"name":"Std.CancellationToken.state","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L61-L61"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.mk\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">state</span> : <span class=\"fn\"><a href=\"./Std/Sync/Mutex.html#Std.Mutex\">Mutex</a> <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.State\">State</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken\">CancellationToken</a></div></div>","info":{"doc":"","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.mk","kind":"ctor","line":60,"name":"Std.CancellationToken.mk","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L60-L60"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>","info":{"doc":"A cancellation token is a synchronization primitive that allows multiple consumers to wait\nuntil cancellation is requested.\n","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken","kind":"structure","line":56,"name":"Std.CancellationToken","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L56-L61"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.State.consumers\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">State</span>.<span class=\"name\">consumers</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/Queue.html#Std.Queue\">Queue</a> <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer\">Consumer</a></span></div></div>","info":{"doc":"Consumers that are blocked waiting for cancellation.\n-","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.State.consumers","kind":"def","line":54,"name":"Std.CancellationToken.State.consumers","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L54-L54"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.State.cancelled\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">State</span>.<span class=\"name\">cancelled</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">self</span> : <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.State\">State</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>","info":{"doc":"Whether this token has been cancelled.\n","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.State.cancelled","kind":"def","line":49,"name":"Std.CancellationToken.State.cancelled","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L49-L49"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.State.mk\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">State</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">cancelled</span> : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">consumers</span> : <span class=\"fn\"><a href=\"./Init/Data/Queue.html#Std.Queue\">Queue</a> <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer\">Consumer</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.State\">State</a></div></div>","info":{"doc":"","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.State.mk","kind":"ctor","line":45,"name":"Std.CancellationToken.State.mk","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L45-L45"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.State\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">State</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>","info":{"doc":"The central state structure for a `CancellationToken`.\n","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.State","kind":"structure","line":42,"name":"Std.CancellationToken.State","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L42-L54"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer.resolve\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">Consumer</span>.<span class=\"name\">resolve</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">c</span> : <a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer\">Consumer</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#BaseIO\">BaseIO</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>","info":{"doc":"","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer.resolve","kind":"def","line":30,"name":"Std.CancellationToken.Consumer.resolve","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L30-L40"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer.select\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">Consumer</span>.<span class=\"name\">select</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">finished</span> : <span class=\"fn\"><a href=\"./Std/Internal/Async/Select.html#Std.Internal.IO.Async.Waiter\">Internal.IO.Async.Waiter</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer\">Consumer</a></div></div>","info":{"doc":"","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer.select","kind":"ctor","line":28,"name":"Std.CancellationToken.Consumer.select","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L28-L28"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer.normal\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">Consumer</span>.<span class=\"name\">normal</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(<span class=\"fn\">promise</span> : <span class=\"fn\"><a href=\"./Init/System/Promise.html#IO.Promise\">IO.Promise</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer\">Consumer</a></div></div>","info":{"doc":"","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer.normal","kind":"ctor","line":27,"name":"Std.CancellationToken.Consumer.normal","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L27-L27"}},{"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer\"><span class=\"name\">Std</span>.<span class=\"name\">CancellationToken</span>.<span class=\"name\">Consumer</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>","info":{"doc":"","docLink":"./Std/Sync/CancellationToken.html#Std.CancellationToken.Consumer","kind":"inductive","line":26,"name":"Std.CancellationToken.Consumer","sourceLink":"https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Sync/CancellationToken.lean#L26-L28"}}],"imports":["Std.Data","Init.Data.Queue","Std.Sync.Mutex","Std.Internal.Async.Select"],"instances":[],"name":"Std.Sync.CancellationToken"}