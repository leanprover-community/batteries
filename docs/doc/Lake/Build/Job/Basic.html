<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Lake.Build.Job.Basic</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Lake.Build.Job.Basic";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lake</span>.<span class="name">Build</span>.<span class="name">Job</span>.<span class="name">Basic</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Lake/Build/Data.html">Lake.Build.Data</a></li><li><a href="../../.././Lake/Build/Trace.html">Lake.Build.Trace</a></li><li><a href="../../.././Lake/Util/Log.html">Lake.Util.Log</a></li><li><a href="../../.././Lake/Util/Opaque.html">Lake.Util.Opaque</a></li><li><a href="../../.././Lake/Util/Task.html">Lake.Util.Task</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lake.Build.Job.Basic" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lake.JobAction"><span class="name">Lake</span>.<span class="name">JobAction</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.instInhabitedJobAction"><span class="name">Lake</span>.<span class="name">instInhabitedJobAction</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.instInhabitedJobAction.default"><span class="name">Lake</span>.<span class="name">instInhabitedJobAction</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.instReprJobAction.repr"><span class="name">Lake</span>.<span class="name">instReprJobAction</span>.<span class="name">repr</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.instReprJobAction"><span class="name">Lake</span>.<span class="name">instReprJobAction</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.instDecidableEqJobAction"><span class="name">Lake</span>.<span class="name">instDecidableEqJobAction</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.instOrdJobAction"><span class="name">Lake</span>.<span class="name">instOrdJobAction</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.instOrdJobAction.ord"><span class="name">Lake</span>.<span class="name">instOrdJobAction</span>.<span class="name">ord</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobAction.instLT"><span class="name">Lake</span>.<span class="name">JobAction</span>.<span class="name">instLT</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobAction.instLE"><span class="name">Lake</span>.<span class="name">JobAction</span>.<span class="name">instLE</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobAction.instMin"><span class="name">Lake</span>.<span class="name">JobAction</span>.<span class="name">instMin</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobAction.instMax"><span class="name">Lake</span>.<span class="name">JobAction</span>.<span class="name">instMax</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobAction.merge"><span class="name">Lake</span>.<span class="name">JobAction</span>.<span class="name">merge</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobAction.verb"><span class="name">Lake</span>.<span class="name">JobAction</span>.<span class="name">verb</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobState"><span class="name">Lake</span>.<span class="name">JobState</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.instInhabitedJobState"><span class="name">Lake</span>.<span class="name">instInhabitedJobState</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.instInhabitedJobState.default"><span class="name">Lake</span>.<span class="name">instInhabitedJobState</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobState.merge"><span class="name">Lake</span>.<span class="name">JobState</span>.<span class="name">merge</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobState.modifyLog"><span class="name">Lake</span>.<span class="name">JobState</span>.<span class="name">modifyLog</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobState.logEntry"><span class="name">Lake</span>.<span class="name">JobState</span>.<span class="name">logEntry</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobResult"><span class="name">Lake</span>.<span class="name">JobResult</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobResult.prependLog"><span class="name">Lake</span>.<span class="name">JobResult</span>.<span class="name">prependLog</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobTask"><span class="name">Lake</span>.<span class="name">JobTask</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job"><span class="name">Lake</span>.<span class="name">Job</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.instInhabitedJob"><span class="name">Lake</span>.<span class="name">instInhabitedJob</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.cast"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">cast</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.ofTask"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">ofTask</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.error"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">error</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.pure"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">pure</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.instPure"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">instPure</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.traceRoot"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">traceRoot</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.nop"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">nop</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.nil"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">nil</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.getTrace"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">getTrace</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.setCaption"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">setCaption</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.setCaption?"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">setCaption?</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.mapResult"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">mapResult</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.mapOk"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">mapOk</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.map"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">map</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.instFunctor"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">instFunctor</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.OpaqueJobTask"><span class="name">Lake</span>.<span class="name">OpaqueJobTask</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.JobTask.toOpaque"><span class="name">Lake</span>.<span class="name">JobTask</span>.<span class="name">toOpaque</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.instCoeOutJobTaskOpaqueJobTask"><span class="name">Lake</span>.<span class="name">instCoeOutJobTaskOpaqueJobTask</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.OpaqueJob"><span class="name">Lake</span>.<span class="name">OpaqueJob</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.Job.toOpaque"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">toOpaque</span></a></div><div class="nav_link"><a class="break_within" href="#Lake.instCoeOutJobOpaqueJob"><span class="name">Lake</span>.<span class="name">instCoeOutJobOpaqueJob</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Job-Primitives">Job Primitives <a class="hover-link" href="#Job-Primitives">#</a></h1><p>This module contains the basic definitions of a Lake <code><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a></code>. In particular,
it defines <code><a href="../../.././Lake/Build/Job/Basic.html#Lake.OpaqueJob">OpaqueJob</a></code>, which is needed for <code>BuildContext</code>. More complex
utilities are defined in <code><a href="../../.././Lake/Build/Job/Monad.html">Lake.Build.Job.Monad</a></code>, which depends on <code>BuildContext</code>.</p></div><div class="mod_doc"><h2 class="markdown-heading" id="JobAction">JobAction <a class="hover-link" href="#JobAction">#</a></h2></div><div class="decl" id="Lake.JobAction"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L28-L38">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction"><span class="name">Lake</span>.<span class="name">JobAction</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Information on what this job did.</p><ul class="constructors"><li class="constructor" id="Lake.JobAction.unknown">unknown : <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a><div class="inductive_ctor_doc"><p>No information about this job's action is available.</p></div></li><li class="constructor" id="Lake.JobAction.replay">replay : <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a><div class="inductive_ctor_doc"><p>Tried to replay a cached build action (set by <code>buildFileUnlessUpToDate</code>)</p></div></li><li class="constructor" id="Lake.JobAction.fetch">fetch : <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a><div class="inductive_ctor_doc"><p>Tried to fetch a build from a store (can be set by <code>buildUnlessUpToDate?</code>)</p></div></li><li class="constructor" id="Lake.JobAction.build">build : <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a><div class="inductive_ctor_doc"><p>Tried to perform a build action (set by <code>buildUnlessUpToDate?</code>)</p></div></li></ul><details id="instances-for-list-Lake.JobAction" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.instInhabitedJobAction"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.instInhabitedJobAction"><span class="name">Lake</span>.<span class="name">instInhabitedJobAction</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instInhabitedJobAction">Lake.instInhabitedJobAction</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../../.././Lake/Build/Job/Basic.html#Lake.instInhabitedJobAction.default">Lake.instInhabitedJobAction.default</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lake.instInhabitedJobAction.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.instInhabitedJobAction.default"><span class="name">Lake</span>.<span class="name">instInhabitedJobAction</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instInhabitedJobAction.default">Lake.instInhabitedJobAction.default</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.unknown">Lake.JobAction.unknown</a></li></ul></details><details id="instances-for-list-Lake.instInhabitedJobAction.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.instReprJobAction.repr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.instReprJobAction.repr"><span class="name">Lake</span>.<span class="name">instReprJobAction</span>.<span class="name">repr</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a> → <span class="fn"><a href="../../.././Init/Prelude.html#Nat">Nat</a> → <a href="../../.././Init/Data/Format/Basic.html#Std.Format">Std.Format</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instReprJobAction.repr">Lake.instReprJobAction.repr</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.unknown">Lake.JobAction.unknown</a> <span class="fn">prec✝</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Data/Repr.html#Repr.addAppParen">Repr.addAppParen</a> <span class="fn"><span class="fn">(<a href="../../.././Init/Data/Format/Basic.html#Std.Format.nest">Std.Format.nest</a> (<a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">prec✝</span> <a href="../../.././Init/Prelude.html#GE.ge">≥</a> <span class="fn">1024</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">2</span>) <span class="fn">(<a href="../../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> <span class="fn">&quot;Lake.JobAction.unknown&quot;</span>)</span>)</span>.<a href="../../.././Init/Data/Format/Basic.html#Std.Format.group">group</a></span>
    <span class="fn">prec✝</span></span></li><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instReprJobAction.repr">Lake.instReprJobAction.repr</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.replay">Lake.JobAction.replay</a> <span class="fn">prec✝</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Data/Repr.html#Repr.addAppParen">Repr.addAppParen</a> <span class="fn"><span class="fn">(<a href="../../.././Init/Data/Format/Basic.html#Std.Format.nest">Std.Format.nest</a> (<a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">prec✝</span> <a href="../../.././Init/Prelude.html#GE.ge">≥</a> <span class="fn">1024</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">2</span>) <span class="fn">(<a href="../../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> <span class="fn">&quot;Lake.JobAction.replay&quot;</span>)</span>)</span>.<a href="../../.././Init/Data/Format/Basic.html#Std.Format.group">group</a></span>
    <span class="fn">prec✝</span></span></li><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instReprJobAction.repr">Lake.instReprJobAction.repr</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.fetch">Lake.JobAction.fetch</a> <span class="fn">prec✝</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Data/Repr.html#Repr.addAppParen">Repr.addAppParen</a> <span class="fn"><span class="fn">(<a href="../../.././Init/Data/Format/Basic.html#Std.Format.nest">Std.Format.nest</a> (<a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">prec✝</span> <a href="../../.././Init/Prelude.html#GE.ge">≥</a> <span class="fn">1024</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">2</span>) <span class="fn">(<a href="../../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> <span class="fn">&quot;Lake.JobAction.fetch&quot;</span>)</span>)</span>.<a href="../../.././Init/Data/Format/Basic.html#Std.Format.group">group</a></span>
    <span class="fn">prec✝</span></span></li><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instReprJobAction.repr">Lake.instReprJobAction.repr</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.build">Lake.JobAction.build</a> <span class="fn">prec✝</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Data/Repr.html#Repr.addAppParen">Repr.addAppParen</a> <span class="fn"><span class="fn">(<a href="../../.././Init/Data/Format/Basic.html#Std.Format.nest">Std.Format.nest</a> (<a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">prec✝</span> <a href="../../.././Init/Prelude.html#GE.ge">≥</a> <span class="fn">1024</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">2</span>) <span class="fn">(<a href="../../.././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> <span class="fn">&quot;Lake.JobAction.build&quot;</span>)</span>)</span>.<a href="../../.././Init/Data/Format/Basic.html#Std.Format.group">group</a></span>
    <span class="fn">prec✝</span></span></li></ul></details><details id="instances-for-list-Lake.instReprJobAction.repr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.instReprJobAction"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.instReprJobAction"><span class="name">Lake</span>.<span class="name">instReprJobAction</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instReprJobAction">Lake.instReprJobAction</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href="../../.././Lake/Build/Job/Basic.html#Lake.instReprJobAction.repr">Lake.instReprJobAction.repr</a> <a href="../../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="Lake.instDecidableEqJobAction"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.instDecidableEqJobAction"><span class="name">Lake</span>.<span class="name">instDecidableEqJobAction</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instDecidableEqJobAction">Lake.instDecidableEqJobAction</a> <span class="fn">x✝</span> <span class="fn">y✝</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">if h : <span class="fn"><span class="fn">x✝</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.ctorIdx">ctorIdx</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y✝</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.ctorIdx">ctorIdx</a></span> then <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.isTrue">isTrue</a> <span class="fn">⋯</span></span> else <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.isFalse">isFalse</a> <span class="fn">⋯</span></span></span></li></ul></details></div></div><div class="decl" id="Lake.instOrdJobAction"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.instOrdJobAction"><span class="name">Lake</span>.<span class="name">instOrdJobAction</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/Ord/Basic.html#Ord">Ord</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instOrdJobAction">Lake.instOrdJobAction</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Data/Ord/Basic.html#Ord.mk">{</a> <span class="fn">compare</span> := <a href="../../.././Lake/Build/Job/Basic.html#Lake.instOrdJobAction.ord">Lake.instOrdJobAction.ord</a> <a href="../../.././Init/Data/Ord/Basic.html#Ord.mk">}</a></li></ul></details></div></div><div class="decl" id="Lake.instOrdJobAction.ord"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.instOrdJobAction.ord"><span class="name">Lake</span>.<span class="name">instOrdJobAction</span>.<span class="name">ord</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a> → <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a> → <a href="../../.././Init/Data/Ord/Basic.html#Ordering">Ordering</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instOrdJobAction.ord">Lake.instOrdJobAction.ord</a> <span class="fn">x✝</span> <span class="fn">y✝</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/Ord/Basic.html#Ord.compare">compare</a> <span class="fn"><span class="fn">x✝</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.ctorIdx">ctorIdx</a></span> <span class="fn"><span class="fn">y✝</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.ctorIdx">ctorIdx</a></span></span></li></ul></details><details id="instances-for-list-Lake.instOrdJobAction.ord" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.JobAction.instLT"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L42-L42">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.instLT"><span class="name">Lake</span>.<span class="name">JobAction</span>.<span class="name">instLT</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#LT">LT</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.instLT">Lake.JobAction.instLT</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Data/Ord/Basic.html#ltOfOrd">ltOfOrd</a></li></ul></details></div></div><div class="decl" id="Lake.JobAction.instLE"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L43-L43">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.instLE"><span class="name">Lake</span>.<span class="name">JobAction</span>.<span class="name">instLE</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#LE">LE</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.instLE">Lake.JobAction.instLE</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Data/Ord/Basic.html#leOfOrd">leOfOrd</a></li></ul></details></div></div><div class="decl" id="Lake.JobAction.instMin"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L44-L44">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.instMin"><span class="name">Lake</span>.<span class="name">JobAction</span>.<span class="name">instMin</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Min">Min</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.instMin">Lake.JobAction.instMin</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#minOfLe">minOfLe</a></li></ul></details></div></div><div class="decl" id="Lake.JobAction.instMax"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L45-L45">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.instMax"><span class="name">Lake</span>.<span class="name">JobAction</span>.<span class="name">instMax</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Max">Max</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.instMax">Lake.JobAction.instMax</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#maxOfLe">maxOfLe</a></li></ul></details></div></div><div class="decl" id="Lake.JobAction.merge"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L47-L48">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.merge"><span class="name">Lake</span>.<span class="name">JobAction</span>.<span class="name">merge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.merge">merge</a></span> <span class="fn">b</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Max.max">max</a> <span class="fn">a</span> <span class="fn">b</span></span></li></ul></details><details id="instances-for-list-Lake.JobAction.merge" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.JobAction.verb"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L50-L54">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.verb"><span class="name">Lake</span>.<span class="name">JobAction</span>.<span class="name">verb</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">failed</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a> → <a href="../../.././Init/Prelude.html#String">String</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.verb">Lake.JobAction.verb</a> <span class="fn">failed</span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.unknown">Lake.JobAction.unknown</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">failed</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">&quot;Running&quot;</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">&quot;Ran&quot;</span></li><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.verb">Lake.JobAction.verb</a> <span class="fn">failed</span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.replay">Lake.JobAction.replay</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">failed</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">&quot;Replaying&quot;</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">&quot;Replayed&quot;</span></li><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.verb">Lake.JobAction.verb</a> <span class="fn">failed</span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.fetch">Lake.JobAction.fetch</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">failed</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">&quot;Fetching&quot;</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">&quot;Fetched&quot;</span></li><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.verb">Lake.JobAction.verb</a> <span class="fn">failed</span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.build">Lake.JobAction.build</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">failed</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">&quot;Building&quot;</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">&quot;Built&quot;</span></li></ul></details><details id="instances-for-list-Lake.JobAction.verb" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="JobState">JobState <a class="hover-link" href="#JobState">#</a></h2></div><div class="decl" id="Lake.JobState"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L60-L70">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobState"><span class="name">Lake</span>.<span class="name">JobState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Mutable state of a Lake job.</p><ul class="structure_fields" id="Lake.JobState.mk"><li id="Lake.JobState.log" class="structure_field"><div class="structure_field_info">log : <a href="../../.././Lake/Util/Log.html#Lake.Log">Log</a></div><div class="structure_field_doc"><p>The job's log.</p></div></li><li id="Lake.JobState.action" class="structure_field"><div class="structure_field_info">action : <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction">JobAction</a></div><div class="structure_field_doc"><p>Tracks whether this job performed any significant build action.</p></div></li><li id="Lake.JobState.trace" class="structure_field"><div class="structure_field_info">trace : <a href="../../.././Lake/Build/Trace.html#Lake.BuildTrace">BuildTrace</a></div><div class="structure_field_doc"><p>Current trace of a build job.</p></div></li><li id="Lake.JobState.buildTime" class="structure_field"><div class="structure_field_info">buildTime : <a href="../../.././Init/Prelude.html#Nat">Nat</a></div><div class="structure_field_doc"><p>How long the job spent building (in milliseconds).</p></div></li></ul><details id="instances-for-list-Lake.JobState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.instInhabitedJobState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L70-L70">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.instInhabitedJobState"><span class="name">Lake</span>.<span class="name">instInhabitedJobState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState">JobState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instInhabitedJobState">Lake.instInhabitedJobState</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../../.././Lake/Build/Job/Basic.html#Lake.instInhabitedJobState.default">Lake.instInhabitedJobState.default</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lake.instInhabitedJobState.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L70-L70">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.instInhabitedJobState.default"><span class="name">Lake</span>.<span class="name">instInhabitedJobState</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState">JobState</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instInhabitedJobState.default">Lake.instInhabitedJobState.default</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.mk">{</a> <span class="fn">log</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">action</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">trace</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">buildTime</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.mk">}</a></li></ul></details><details id="instances-for-list-Lake.instInhabitedJobState.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.JobState.merge"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L72-L76">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.merge"><span class="name">Lake</span>.<span class="name">JobState</span>.<span class="name">merge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState">JobState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState">JobState</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.merge">merge</a></span> <span class="fn">b</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.mk">{</a> <span class="fn">log</span> := <span class="fn"><span class="fn">a</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.log">log</a></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><span class="fn">b</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.log">log</a></span>, <span class="fn">action</span> := <span class="fn"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.action">action</a></span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobAction.merge">merge</a></span> <span class="fn"><span class="fn">b</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.action">action</a></span></span>, <span class="fn">trace</span> := <span class="fn"><a href="../../.././Lake/Build/Trace.html#Lake.MixTrace.mixTrace">Lake.mixTrace</a> <span class="fn"><span class="fn">a</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.trace">trace</a></span> <span class="fn"><span class="fn">b</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.trace">trace</a></span></span>,
    <span class="fn">buildTime</span> := <span class="fn"><span class="fn">a</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.buildTime">buildTime</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">b</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.buildTime">buildTime</a></span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.mk">}</a></li></ul></details><details id="instances-for-list-Lake.JobState.merge" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.JobState.modifyLog"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L78-L79">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.modifyLog"><span class="name">Lake</span>.<span class="name">JobState</span>.<span class="name">modifyLog</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../.././Lake/Util/Log.html#Lake.Log">Log</a> → <a href="../../.././Lake/Util/Log.html#Lake.Log">Log</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState">JobState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState">JobState</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.modifyLog">Lake.JobState.modifyLog</a> <span class="fn">f</span> <span class="fn">s</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.mk">{</a> <span class="fn">log</span> := <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">s</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.log">log</a></span></span>, <span class="fn">action</span> := <span class="fn"><span class="fn">s</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.action">action</a></span>, <span class="fn">trace</span> := <span class="fn"><span class="fn">s</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.trace">trace</a></span>, <span class="fn">buildTime</span> := <span class="fn"><span class="fn">s</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.buildTime">buildTime</a></span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.mk">}</a></li></ul></details><details id="instances-for-list-Lake.JobState.modifyLog" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.JobState.logEntry"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L81-L82">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.logEntry"><span class="name">Lake</span>.<span class="name">JobState</span>.<span class="name">logEntry</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lake/Util/Log.html#Lake.LogEntry">LogEntry</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState">JobState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState">JobState</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.logEntry">Lake.JobState.logEntry</a> <span class="fn">e</span> <span class="fn">s</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.modifyLog">Lake.JobState.modifyLog</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../../.././Lake/Util/Log.html#Lake.Log">Lake.Log</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Lake/Util/Log.html#Lake.Log.push">push</a></span> <span class="fn">e</span></span>)</span> <span class="fn">s</span></span></li></ul></details><details id="instances-for-list-Lake.JobState.logEntry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="JobTask">JobTask <a class="hover-link" href="#JobTask">#</a></h2></div><div class="decl" id="Lake.JobResult"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L86-L87">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult"><span class="name">Lake</span>.<span class="name">JobResult</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a> u_1</div></div><p>The result of a Lake job.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult">Lake.JobResult</a> <span class="fn">α</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lake/Util/EStateT.html#Lake.EResult">Lake.EResult</a> <a href="../../.././Lake/Util/Log.html#Lake.Log.Pos">Lake.Log.Pos</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState">Lake.JobState</a> <span class="fn">α</span></span></li></ul></details><details id="instances-for-list-Lake.JobResult" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.JobResult.prependLog"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L89-L93">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult.prependLog"><span class="name">Lake</span>.<span class="name">JobResult</span>.<span class="name">prependLog</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">log</span> : <a href="../../.././Lake/Util/Log.html#Lake.Log">Log</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">self</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult">JobResult</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult">JobResult</a> <span class="fn">α</span></span></div></div><p>Add log entries to the beginning of the job's log.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult.prependLog">Lake.JobResult.prependLog</a> <span class="fn">log</span> <span class="fn">(<a href="../../.././Lake/Util/EStateT.html#Lake.EResult.ok">Lake.EResult.ok</a> <span class="fn">a</span> <span class="fn">s</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lake/Util/EStateT.html#Lake.EResult.ok">Lake.EResult.ok</a> <span class="fn">a</span> <span class="fn">(<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.modifyLog">Lake.JobState.modifyLog</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../../.././Lake/Util/Log.html#Lake.Log">Lake.Log</a>) =&gt; <span class="fn">log</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">x</span>)</span> <span class="fn">s</span>)</span></span></li><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult.prependLog">Lake.JobResult.prependLog</a> <span class="fn">log</span> <span class="fn">(<a href="../../.././Lake/Util/EStateT.html#Lake.EResult.error">Lake.EResult.error</a> <span class="fn">e</span> <span class="fn">s</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lake/Util/EStateT.html#Lake.EResult.error">Lake.EResult.error</a> <a href="../../.././Lake/Util/Log.html#Lake.Log.Pos.mk">{</a> <span class="fn">val</span> := <span class="fn"><span class="fn">log</span>.<a href="../../.././Lake/Util/Log.html#Lake.Log.size">size</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">e</span>.<a href="../../.././Lake/Util/Log.html#Lake.Log.Pos.val">val</a></span> <a href="../../.././Lake/Util/Log.html#Lake.Log.Pos.mk">}</a> <span class="fn">(<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.modifyLog">Lake.JobState.modifyLog</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../../.././Lake/Util/Log.html#Lake.Log">Lake.Log</a>) =&gt; <span class="fn">log</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">x</span>)</span> <span class="fn">s</span>)</span></span></li></ul></details><details id="instances-for-list-Lake.JobResult.prependLog" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.JobTask"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L95-L96">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobTask"><span class="name">Lake</span>.<span class="name">JobTask</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a> u_1</div></div><p>The <code><a href="../../.././Init/Core.html#Task">Task</a></code> of a Lake job.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobTask">Lake.JobTask</a> <span class="fn">α</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lake/Util/Task.html#Lake.BaseIOTask">Lake.BaseIOTask</a> <span class="fn">(<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult">Lake.JobResult</a> <span class="fn">α</span>)</span></span></li></ul></details><details id="instances-for-list-Lake.JobTask" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="Job">Job <a class="hover-link" href="#Job">#</a></h2></div><div class="decl" id="Lake.Job"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L100-L112">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job"><span class="name">Lake</span>.<span class="name">Job</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a> u</div></div><p>A Lake job.</p><ul class="structure_fields" id="Lake.Job.mk"><li id="Lake.Job.task" class="structure_field"><div class="structure_field_info">task : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobTask">JobTask</a> <span class="fn">α</span></span></div><div class="structure_field_doc"><p>The Lean <code><a href="../../.././Init/Core.html#Task">Task</a></code> object for the job.</p></div></li><li id="Lake.Job.kind" class="structure_field"><div class="structure_field_info">kind : <span class="fn"><a href="../../.././Lake/Build/Data.html#Lake.OptDataKind">OptDataKind</a> <span class="fn">α</span></span></div><div class="structure_field_doc"><p>The kind of data this job produces.</p></div></li><li id="Lake.Job.caption" class="structure_field"><div class="structure_field_info">caption : <a href="../../.././Init/Prelude.html#String">String</a></div><div class="structure_field_doc"><p>A caption for the job in Lake's build monitor.
Will be formatted like <code>✔ [3/5] Ran &lt;caption&gt;</code>.</p></div></li><li id="Lake.Job.optional" class="structure_field"><div class="structure_field_info">optional : <a href="../../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>Whether this job failing should cause the build to fail.</p></div></li></ul><details id="instances-for-list-Lake.Job" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.instInhabitedJob"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L114-L114">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.instInhabitedJob"><span class="name">Lake</span>.<span class="name">instInhabitedJob</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instInhabitedJob">Lake.instInhabitedJob</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mk">{</a> <span class="fn">task</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">kind</span> := <a href="../../.././Lake/Build/Data.html#Lake.OptDataKind.anonymous">Lake.OptDataKind.anonymous</a>, <span class="fn">caption</span> := <a href="../../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mk">}</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lake.Job.cast"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L118-L125">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.cast"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">cast</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">self</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../../.././Init/Prelude.html#Not">¬</a><span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.kind">kind</a></span>.<a href="../../.././Lake/Build/Data.html#Lake.OptDataKind.isAnonymous">isAnonymous</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">(<a href="../../.././Lake/Build/Data.html#Lake.DataType">DataType</a> <span class="fn">(<a href="../../.././Lake/Build/Data.html#Lake.OptDataKind.name">OptDataKind.name</a> <span class="fn">α</span>)</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.cast">cast</a></span> <span class="fn">h</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#cast">cast</a> <span class="fn">⋯</span> <span class="fn">self</span></span></li></ul></details><details id="instances-for-list-Lake.Job.cast" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.ofTask"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L127-L128">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.ofTask"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">ofTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lake/Build/Data.html#Lake.OptDataKind">OptDataKind</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">task</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobTask">JobTask</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">caption</span> : <a href="../../.././Init/Prelude.html#String">String</a> := <span class="fn">&quot;&quot;</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.ofTask">Lake.Job.ofTask</a> <span class="fn">task</span> <span class="fn">caption</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mk">{</a> <span class="fn">task</span> := <span class="fn">task</span>, <span class="fn">kind</span> := <span class="fn">inst✝</span>, <span class="fn">caption</span> := <span class="fn">caption</span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mk">}</a></li></ul></details><details id="instances-for-list-Lake.Job.ofTask" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.error"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L130-L131">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.error"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">error</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lake/Build/Data.html#Lake.OptDataKind">OptDataKind</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">log</span> : <a href="../../.././Lake/Util/Log.html#Lake.Log">Log</a> := <a href="../../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">caption</span> : <a href="../../.././Init/Prelude.html#String">String</a> := <span class="fn">&quot;&quot;</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.error">Lake.Job.error</a> <span class="fn">log</span> <span class="fn">caption</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.ofTask">Lake.Job.ofTask</a> <a href="../../.././Init/Core.html#Task.pure">{</a> <span class="fn">get</span> := <span class="fn"><a href="../../.././Lake/Util/EStateT.html#Lake.EResult.error">Lake.EResult.error</a> <span class="fn">0</span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.mk">{</a> <span class="fn">log</span> := <span class="fn">log</span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.mk">}</a></span> <a href="../../.././Init/Core.html#Task.pure">}</a> <span class="fn">caption</span></span></li></ul></details><details id="instances-for-list-Lake.Job.error" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.pure"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L133-L134">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.pure"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">pure</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">kind</span> : <span class="fn"><a href="../../.././Lake/Build/Data.html#Lake.OptDataKind">OptDataKind</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">log</span> : <a href="../../.././Lake/Util/Log.html#Lake.Log">Log</a> := <a href="../../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">caption</span> : <a href="../../.././Init/Prelude.html#String">String</a> := <span class="fn">&quot;&quot;</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.pure">Lake.Job.pure</a> <span class="fn">a</span> <span class="fn">log</span> <span class="fn">caption</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.ofTask">Lake.Job.ofTask</a> <a href="../../.././Init/Core.html#Task.pure">{</a> <span class="fn">get</span> := <span class="fn"><a href="../../.././Lake/Util/EStateT.html#Lake.EResult.ok">Lake.EResult.ok</a> <span class="fn">a</span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.mk">{</a> <span class="fn">log</span> := <span class="fn">log</span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.mk">}</a></span> <a href="../../.././Init/Core.html#Task.pure">}</a> <span class="fn">caption</span></span></li></ul></details><details id="instances-for-list-Lake.Job.pure" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.instPure"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L136-L136">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.instPure"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">instPure</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Pure">Pure</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.instPure">Lake.Job.instPure</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Pure.mk">{</a> <span class="fn">pure</span> := <span class="fn">fun {<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> ?u.5} (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.pure">Lake.Job.pure</a> <span class="fn">a</span></span></span> <a href="../../.././Init/Prelude.html#Pure.mk">}</a></li></ul></details></div></div><div class="decl" id="Lake.Job.traceRoot"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L138-L140">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.traceRoot"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">traceRoot</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">caption</span> : <a href="../../.././Init/Prelude.html#String">String</a> := <span class="fn">&quot;&lt;root&gt;&quot;</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span></div></div><p><strong>For internal use.</strong></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.traceRoot">Lake.Job.traceRoot</a> <span class="fn">a</span> <span class="fn">caption</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.ofTask">Lake.Job.ofTask</a> <a href="../../.././Init/Core.html#Task.pure">{</a> <span class="fn">get</span> := <span class="fn"><a href="../../.././Lake/Util/EStateT.html#Lake.EResult.ok">Lake.EResult.ok</a> <span class="fn">a</span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.mk">{</a> <span class="fn">trace</span> := <span class="fn"><a href="../../.././Lake/Build/Trace.html#Lake.BuildTrace.nil">Lake.BuildTrace.nil</a> <span class="fn">caption</span></span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.mk">}</a></span> <a href="../../.././Init/Core.html#Task.pure">}</a></span></li></ul></details><details id="instances-for-list-Lake.Job.traceRoot" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.nop"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L142-L143">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.nop"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">nop</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">log</span> : <a href="../../.././Lake/Util/Log.html#Lake.Log">Log</a> := <a href="../../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">caption</span> : <a href="../../.././Init/Prelude.html#String">String</a> := <span class="fn">&quot;&quot;</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.nop">Lake.Job.nop</a> <span class="fn">log</span> <span class="fn">caption</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.pure">Lake.Job.pure</a> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a> <span class="fn">log</span> <span class="fn">caption</span></span></li></ul></details><details id="instances-for-list-Lake.Job.nop" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.nil"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L145-L146">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.nil"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">nil</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">traceCaption</span> : <a href="../../.././Init/Prelude.html#String">String</a> := <span class="fn">&quot;&lt;nil&gt;&quot;</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.nil">Lake.Job.nil</a> <span class="fn">traceCaption</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.traceRoot">Lake.Job.traceRoot</a> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a> <span class="fn">traceCaption</span></span></li></ul></details><details id="instances-for-list-Lake.Job.nil" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.getTrace"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L148-L153">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.getTrace"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">getTrace</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">job</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lake/Build/Trace.html#Lake.BuildTrace">BuildTrace</a></div></div><p>Waits for the job and returns it trace.
Useful if the job is already known to be completed.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.getTrace">getTrace</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href="../../.././Lake/Util/EStateT.html#Lake.EResult.state">Lake.EResult.state</a> <span class="fn"><span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.task">task</a></span>.<a href="../../.././Init/Core.html#Task.get">get</a></span>)</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState.trace">trace</a></span></li></ul></details><details id="instances-for-list-Lake.Job.getTrace" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.setCaption"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L155-L157">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.setCaption"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">setCaption</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">caption</span> : <a href="../../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">job</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span></div></div><p>Sets the job's caption.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.setCaption">Lake.Job.setCaption</a> <span class="fn">caption</span> <span class="fn">job</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mk">{</a> <span class="fn">task</span> := <span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.task">task</a></span>, <span class="fn">kind</span> := <span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.kind">kind</a></span>, <span class="fn">caption</span> := <span class="fn">caption</span>, <span class="fn">optional</span> := <span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.optional">optional</a></span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mk">}</a></li></ul></details><details id="instances-for-list-Lake.Job.setCaption" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.setCaption?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L159-L161">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.setCaption?"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">setCaption?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">caption</span> : <a href="../../.././Init/Prelude.html#String">String</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">job</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span></div></div><p>Sets the job's caption if the job's current caption is empty.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.setCaption?">Lake.Job.setCaption?</a> <span class="fn">caption</span> <span class="fn">job</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.caption">caption</a></span>.<a href="../../.././Init/Data/String/Basic.html#String.isEmpty">isEmpty</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a>
    <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mk">{</a> <span class="fn">task</span> := <span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.task">task</a></span>, <span class="fn">kind</span> := <span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.kind">kind</a></span>, <span class="fn">caption</span> := <span class="fn">caption</span>, <span class="fn">optional</span> := <span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.optional">optional</a></span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mk">}</a>
  <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">job</span></li></ul></details><details id="instances-for-list-Lake.Job.setCaption?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.mapResult"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L163-L166">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mapResult"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">mapResult</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lake/Build/Data.html#Lake.OptDataKind">OptDataKind</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult">JobResult</a> <span class="fn">α</span></span> → <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult">JobResult</a> <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">self</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a> := <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mapResult">Lake.Job.mapResult</a> <span class="fn">f</span> <span class="fn">self</span> <span class="fn">prio</span> <span class="fn">sync</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mk">{</a> <span class="fn">task</span> := <span class="fn"><a href="../../.././Init/Core.html#Task.map">Task.map</a> <span class="fn">f</span> <span class="fn"><span class="fn">self</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.task">task</a></span> <span class="fn">prio</span> <span class="fn">sync</span></span>, <span class="fn">kind</span> := <a href="../../.././Init/Prelude.html#inferInstance">inferInstance</a>, <span class="fn">caption</span> := <span class="fn"><span class="fn">self</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.caption">caption</a></span>, <span class="fn">optional</span> := <span class="fn"><span class="fn">self</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.optional">optional</a></span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mk">}</a></li></ul></details><details id="instances-for-list-Lake.Job.mapResult" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.mapOk"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L168-L174">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mapOk"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">mapOk</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lake/Build/Data.html#Lake.OptDataKind">OptDataKind</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobState">JobState</a> → <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult">JobResult</a> <span class="fn">β</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">self</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a> := <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lake.Job.mapOk" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.map"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L176-L179">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.map"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">map</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Lake/Build/Data.html#Lake.OptDataKind">OptDataKind</a> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">self</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">prio</span> : <a href="../../.././Init/Core.html#Task.Priority">Task.Priority</a> := <a href="../../.././Init/Core.html#Task.Priority.default">Task.Priority.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">sync</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a> := <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.map">Lake.Job.map</a> <span class="fn">f</span> <span class="fn">self</span> <span class="fn">prio</span> <span class="fn">sync</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mapResult">Lake.Job.mapResult</a> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult">Lake.JobResult</a> <span class="fn">α</span></span>) =&gt; <span class="fn"><a href="../../.././Lake/Util/EStateT.html#Lake.EResult.map">Lake.EResult.map</a> <span class="fn">f</span> <span class="fn">x</span></span>)</span> <span class="fn">self</span> <span class="fn">prio</span> <span class="fn">sync</span></span></li></ul></details><details id="instances-for-list-Lake.Job.map" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.instFunctor"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L181-L181">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.instFunctor"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">instFunctor</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Functor">Functor</a> <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.instFunctor">Lake.Job.instFunctor</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Functor.mk">{</a> <span class="fn">map</span> := <span class="fn">fun {<span class="fn">α </span><span class="fn">β</span> : <a href="../../.././foundational_types.html">Type</a> ?u.12} (<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn">β</span></span>) (<span class="fn">self</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Lake.Job</a> <span class="fn">α</span></span>) =&gt; <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.map">Lake.Job.map</a> <span class="fn">f</span> <span class="fn">self</span></span></span> <a href="../../.././Init/Prelude.html#Functor.mk">}</a></li></ul></details></div></div><div class="mod_doc"><h2 class="markdown-heading" id="OpaqueJob">OpaqueJob <a class="hover-link" href="#OpaqueJob">#</a></h2></div><div class="decl" id="Lake.OpaqueJobTask"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L187-L188">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.OpaqueJobTask"><span class="name">Lake</span>.<span class="name">OpaqueJobTask</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>A Lake job task with an opaque value in <code>Type</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.OpaqueJobTask">Lake.OpaqueJobTask</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobTask">Lake.JobTask</a> <a href="../../.././Lake/Util/Opaque.html#Opaque">Opaque</a></span></li></ul></details><details id="instances-for-list-Lake.OpaqueJobTask" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.JobTask.toOpaque"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L193-L196">source</a></div><div class="attributes">@[implemented_by _private.Lake.Build.Job.Basic.0.Lake.JobTask.toOpaqueImpl]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.JobTask.toOpaque"><span class="name">Lake</span>.<span class="name">JobTask</span>.<span class="name">toOpaque</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">self</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobTask">JobTask</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lake/Build/Job/Basic.html#Lake.OpaqueJobTask">OpaqueJobTask</a></div></div><p>Forget the value of a job task. Implemented as a no-op cast.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">self</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobTask.toOpaque">toOpaque</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Core.html#Task.map">Task.map</a> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.JobResult">Lake.JobResult</a> <span class="fn">α</span></span>) =&gt; <span class="fn"><a href="../../.././Lake/Util/EStateT.html#Lake.EResult.map">Lake.EResult.map</a> <a href="../../.././Lake/Util/Opaque.html#Opaque.mk">Opaque.mk</a> <span class="fn">x</span></span>)</span> <span class="fn">self</span></span></li></ul></details><details id="instances-for-list-Lake.JobTask.toOpaque" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.instCoeOutJobTaskOpaqueJobTask"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L198-L198">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.instCoeOutJobTaskOpaqueJobTask"><span class="name">Lake</span>.<span class="name">instCoeOutJobTaskOpaqueJobTask</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Coe.html#CoeOut">CoeOut</a> <span class="fn">(<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobTask">JobTask</a> <span class="fn">α</span>)</span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.OpaqueJobTask">OpaqueJobTask</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instCoeOutJobTaskOpaqueJobTask">Lake.instCoeOutJobTaskOpaqueJobTask</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Coe.html#CoeOut.mk">{</a> <span class="fn">coe</span> := <a href="../../.././Lake/Build/Job/Basic.html#Lake.JobTask.toOpaque">Lake.JobTask.toOpaque</a> <a href="../../.././Init/Coe.html#CoeOut.mk">}</a></li></ul></details></div></div><div class="decl" id="Lake.OpaqueJob"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L200-L201">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.OpaqueJob"><span class="name">Lake</span>.<span class="name">OpaqueJob</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>A Lake job with an opaque value in <code>Type</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.OpaqueJob">Lake.OpaqueJob</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Lake.Job</a> <a href="../../.././Lake/Util/Opaque.html#Opaque">Opaque</a></span></li></ul></details><details id="instances-for-list-Lake.OpaqueJob" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.Job.toOpaque"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L203-L205">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.Job.toOpaque"><span class="name">Lake</span>.<span class="name">Job</span>.<span class="name">toOpaque</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">job</span> : <span class="fn"><a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lake/Build/Job/Basic.html#Lake.OpaqueJob">OpaqueJob</a></div></div><p>Forget the value of a job. Implemented as a no-op cast on the task.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.toOpaque">toOpaque</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mk">{</a> <span class="fn">task</span> := <span class="fn"><span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.task">task</a></span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.JobTask.toOpaque">toOpaque</a></span>, <span class="fn">kind</span> := <a href="../../.././Lake/Build/Data.html#Lake.OptDataKind.anonymous">Lake.OptDataKind.anonymous</a>, <span class="fn">caption</span> := <span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.caption">caption</a></span>, <span class="fn">optional</span> := <span class="fn"><span class="fn">job</span>.<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.optional">optional</a></span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.mk">}</a></li></ul></details><details id="instances-for-list-Lake.Job.toOpaque" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lake.instCoeOutJobOpaqueJob"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/lake/Lake/Build/Job/Basic.lean#L207-L207">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lake/Build/Job/Basic.html#Lake.instCoeOutJobOpaqueJob"><span class="name">Lake</span>.<span class="name">instCoeOutJobOpaqueJob</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Coe.html#CoeOut">CoeOut</a> <span class="fn">(<a href="../../.././Lake/Build/Job/Basic.html#Lake.Job">Job</a> <span class="fn">α</span>)</span> <a href="../../.././Lake/Build/Job/Basic.html#Lake.OpaqueJob">OpaqueJob</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lake/Build/Job/Basic.html#Lake.instCoeOutJobOpaqueJob">Lake.instCoeOutJobOpaqueJob</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Coe.html#CoeOut.mk">{</a> <span class="fn">coe</span> := <a href="../../.././Lake/Build/Job/Basic.html#Lake.Job.toOpaque">Lake.Job.toOpaque</a> <a href="../../.././Init/Coe.html#CoeOut.mk">}</a></li></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>