<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../../../.././style.css"></link><link rel="icon" href="../../../../.././favicon.svg"></link><link rel="mask-icon" href="../../../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../../../.././/declarations/declaration-data.bmp" as="image"></link><title>Init.Data.Iterators.Consumers.Monadic.Collect</title><script defer="true" src="../../../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../../../.././";</script><script>const MODULE_NAME="Init.Data.Iterators.Consumers.Monadic.Collect";</script><script type="module" src="../../../../.././jump-src.js"></script><script type="module" src="../../../../.././search.js"></script><script type="module" src="../../../../.././expand-nav.js"></script><script type="module" src="../../../../.././how-about.js"></script><script type="module" src="../../../../.././instances.js"></script><script type="module" src="../../../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Init</span>.<span class="name">Data</span>.<span class="name">Iterators</span>.<span class="name">Consumers</span>.<span class="name">Monadic</span>.<span class="name">Collect</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../../../.././Init/Data/Iterators/Internal/LawfulMonadLiftFunction.html">Init.Data.Iterators.Internal.LawfulMonadLiftFunction</a></li><li><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html">Init.Data.Iterators.Consumers.Monadic.Partial</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Init.Data.Iterators.Consumers.Monadic.Collect" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IteratorCollect"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IteratorCollect</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IteratorCollectPartial"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IteratorCollectPartial</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IterM.DefaultConsumers.toArrayMapped"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">DefaultConsumers</span>.<span class="name">toArrayMapped</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IterM.DefaultConsumers.toArrayMapped.go"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">DefaultConsumers</span>.<span class="name">toArrayMapped</span>.<span class="name">go</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IteratorCollect.defaultImplementation"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IteratorCollect</span>.<span class="name">defaultImplementation</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.LawfulIteratorCollect"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">LawfulIteratorCollect</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.LawfulIteratorCollect.toArrayMapped_eq"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">LawfulIteratorCollect</span>.<span class="name">toArrayMapped_eq</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.instLawfulIteratorCollectOfIteratorOfFinite"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">instLawfulIteratorCollectOfIteratorOfFinite</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">DefaultConsumers</span>.<span class="name">toArrayMappedPartial</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial.go"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">DefaultConsumers</span>.<span class="name">toArrayMappedPartial</span>.<span class="name">go</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IteratorCollectPartial.defaultImplementation"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IteratorCollectPartial</span>.<span class="name">defaultImplementation</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IterM.toArray"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">toArray</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IterM.Partial.toArray"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">toArray</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IterM.toListRev"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">toListRev</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IterM.toListRev.go"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">toListRev</span>.<span class="name">go</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IterM.Partial.toListRev"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">toListRev</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IterM.Partial.toListRev.go"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">toListRev</span>.<span class="name">go</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IterM.toList"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">toList</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Iterators.IterM.Partial.toList"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">toList</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Collectors">Collectors <a class="hover-link" href="#Collectors">#</a></h1><p>This module provides consumers that collect the values emitted by an iterator in a data structure.
Concretely, the following operations are provided:</p><ul>
<li><code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toList">IterM.toList</a></code>, collecting the values in a list</li>
<li><code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toListRev">IterM.toListRev</a></code>, collecting the values in a list in reverse order but more efficiently</li>
<li><code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toArray">IterM.toArray</a></code>, collecting the values in an array</li>
</ul><p>Some producers and combinators provide specialized implementations. These are captured by the
<code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect">IteratorCollect</a></code> and <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollectPartial">IteratorCollectPartial</a></code> typeclasses. They should be implemented by all
types of iterators. A default implementation is provided. The typeclass <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.LawfulIteratorCollect">LawfulIteratorCollect</a></code>
asserts that an <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect">IteratorCollect</a></code> instance equals the default implementation.</p></div><div class="decl" id="Std.Iterators.IteratorCollect"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L35-L55">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IteratorCollect</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../../../.././foundational_types.html">Type</a> (max (max (w + 1) w') w'')</div></div><p><code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect">IteratorCollect</a> α m</code> provides efficient implementations of collectors for <code>α</code>-based
iterators. Right now, it is limited to a potentially optimized <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toArray">toArray</a></code> implementation.</p><p>This class is experimental and users of the iterator API should not explicitly depend on it.
They can, however, assume that consumers that require an instance will work for all iterators
provided by the standard library.</p><p>Note: For this to be compositional enough to be useful, <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect.toArrayMapped">toArrayMapped</a></code> would need to accept a
termination proof for the specific mapping function used instead of the blanket <code>Finite α m</code>
instance. Otherwise, most combinators like <code>map</code> cannot implement their own instance relying on
the instance of their base iterators. However, fixing this is currently low priority.</p><ul class="structure_fields" id="Std.Iterators.IteratorCollect.mk"><li id="Std.Iterators.IteratorCollect.toArrayMapped" class="structure_field"><div class="structure_field_info">toArrayMapped<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lift</span> : <span class="fn">⦃<span class="fn">δ</span> : <a href="../../../../.././foundational_types.html">Type</a> w⦄ → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">δ</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span> : <span class="fn"><span class="fn">(<span class="fn">β</span> → <span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span>)</span> → <span class="fn"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">γ</span>)</span></span></span></span></div><div class="structure_field_doc"><p>Maps the emitted values of an iterator using the given function and collects the results in an
<code><a href="../../../../.././Init/Prelude.html#Array">Array</a></code>. This is an internal implementation detail. Consider using <code>it.map f |&gt;.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toArray">toArray</a></code> instead.</p></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Std.Iterators.IteratorCollect" class="instances-list"></ul></details></div></div><div class="decl" id="Std.Iterators.IteratorCollectPartial"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L57-L73">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollectPartial"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IteratorCollectPartial</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../../../.././foundational_types.html">Type</a> (max (max (w + 1) w') w'')</div></div><p><code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollectPartial">IteratorCollectPartial</a> α m</code> provides efficient implementations of collectors for <code>α</code>-based
iterators. Right now, it is limited to a potentially optimized partial <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toArray">toArray</a></code> implementation.</p><p>This class is experimental and users of the iterator API should not explicitly depend on it.
They can, however, assume that consumers that require an instance will work for all iterators
provided by the standard library.</p><ul class="structure_fields" id="Std.Iterators.IteratorCollectPartial.mk"><li id="Std.Iterators.IteratorCollectPartial.toArrayMappedPartial" class="structure_field"><div class="structure_field_info">toArrayMappedPartial<span class="decl_args">
<span class="fn">(<span class="fn">lift</span> : <span class="fn">⦃<span class="fn">δ</span> : <a href="../../../../.././foundational_types.html">Type</a> w⦄ → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">δ</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span> : <span class="fn"><span class="fn">(<span class="fn">β</span> → <span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span>)</span> → <span class="fn"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">γ</span>)</span></span></span></span></div><div class="structure_field_doc"><p>Maps the emitted values of an iterator using the given function and collects the results in an
<code><a href="../../../../.././Init/Prelude.html#Array">Array</a></code>. This is an internal implementation detail.
Consider using <code>it.map f |&gt;.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toArray">toArray</a></code> instead.</p></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Std.Iterators.IteratorCollectPartial" class="instances-list"></ul></details></div></div><div class="decl" id="Std.Iterators.IterM.DefaultConsumers.toArrayMapped"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L79-L98">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.DefaultConsumers.toArrayMapped"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">DefaultConsumers</span>.<span class="name">toArrayMapped</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lift</span> : <span class="fn">⦃<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w⦄ → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">γ</span>)</span></span></div></div><p>This is an internal function used in <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect.defaultImplementation">IteratorCollect.defaultImplementation</a></code>.</p><p>It iterates over an iterator and applies <code>f</code> whenever a value is emitted before inserting the result
of <code>f</code> into an array.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.DefaultConsumers.toArrayMapped">Std.Iterators.IterM.DefaultConsumers.toArrayMapped</a> <span class="fn">lift</span> <span class="fn">f</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.DefaultConsumers.toArrayMapped.go">Std.Iterators.IterM.DefaultConsumers.toArrayMapped.go</a> <span class="fn">lift</span> <span class="fn">f</span> <span class="fn">it</span> <a href="../../../../.././Init/Prelude.html#List.toArray">#[</a><a href="../../../../.././Init/Prelude.html#List.toArray">]</a></span></li></ul></details><details id="instances-for-list-Std.Iterators.IterM.DefaultConsumers.toArrayMapped" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Iterators.IterM.DefaultConsumers.toArrayMapped.go"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L93-L97">source</a></div><div class="attributes">@[irreducible, specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.DefaultConsumers.toArrayMapped.go"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">DefaultConsumers</span>.<span class="name">toArrayMapped</span>.<span class="name">go</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lift</span> : <span class="fn">⦃<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w⦄ → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn"><a href="../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">γ</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">γ</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Iterators.IterM.DefaultConsumers.toArrayMapped.go" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Iterators.IteratorCollect.defaultImplementation"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L100-L110">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect.defaultImplementation"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IteratorCollect</span>.<span class="name">defaultImplementation</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect">IteratorCollect</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span></div></div><p>This is the default implementation of the <code>IteratorLoop</code> class.
It simply iterates through the iterator using <code>IterM.step</code>, incrementally building up the desired
data structure. For certain iterators, more efficient implementations are possible and should be
used instead.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect.defaultImplementation">Std.Iterators.IteratorCollect.defaultImplementation</a> <a href="../../../../.././Init/Prelude.html#Eq">=</a>   <a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect.mk">{</a> <span class="fn">toArrayMapped</span> := <span class="fn">fun [<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Std.Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>] =&gt; <a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.DefaultConsumers.toArrayMapped">Std.Iterators.IterM.DefaultConsumers.toArrayMapped</a></span> <a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect.mk">}</a></li></ul></details><details id="instances-for-list-Std.Iterators.IteratorCollect.defaultImplementation" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Iterators.LawfulIteratorCollect"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L112-L120">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.LawfulIteratorCollect"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">LawfulIteratorCollect</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">i</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect">IteratorCollect</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../../../.././foundational_types.html">Prop</a></div></div><p>Asserts that a given <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect">IteratorCollect</a></code> instance is equal to <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect.defaultImplementation">IteratorCollect.defaultImplementation</a></code>.
(Even though equal, the given instance might be vastly more efficient.)</p><ul class="structure_fields" id="Std.Iterators.LawfulIteratorCollect.mk"><li id="Std.Iterators.LawfulIteratorCollect.lawful_toArrayMapped" class="structure_field"><div class="structure_field_info">lawful_toArrayMapped<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lift</span> : <span class="fn">⦃<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w⦄ → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Internal/LawfulMonadLiftFunction.html#Std.Internal.LawfulMonadLiftFunction">Internal.LawfulMonadLiftFunction</a> <span class="fn">lift</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect.toArrayMapped">IteratorCollect.toArrayMapped</a> <span class="fn">lift</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect.toArrayMapped">IteratorCollect.toArrayMapped</a> <span class="fn">lift</span></span></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Std.Iterators.LawfulIteratorCollect" class="instances-list"></ul></details></div></div><div class="decl" id="Std.Iterators.LawfulIteratorCollect.toArrayMapped_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L122-L129">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.LawfulIteratorCollect.toArrayMapped_eq"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">LawfulIteratorCollect</span>.<span class="name">toArrayMapped_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect">IteratorCollect</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">hl</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.LawfulIteratorCollect">LawfulIteratorCollect</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">lift</span> : <span class="fn">⦃<span class="fn">δ</span> : <a href="../../../../.././foundational_types.html">Type</a> w⦄ → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">δ</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Internal/LawfulMonadLiftFunction.html#Std.Internal.LawfulMonadLiftFunction">Internal.LawfulMonadLiftFunction</a> <span class="fn">lift</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect.toArrayMapped">IteratorCollect.toArrayMapped</a> <span class="fn">lift</span> <span class="fn">f</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.DefaultConsumers.toArrayMapped">IterM.DefaultConsumers.toArrayMapped</a> <span class="fn">lift</span> <span class="fn">f</span> <span class="fn">it</span></span></div></div></div></div><div class="decl" id="Std.Iterators.instLawfulIteratorCollectOfIteratorOfFinite"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L131-L136">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.instLawfulIteratorCollectOfIteratorOfFinite"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">instLawfulIteratorCollectOfIteratorOfFinite</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.LawfulIteratorCollect">LawfulIteratorCollect</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span></div></div></div></div><div class="decl" id="Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L138-L156">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">DefaultConsumers</span>.<span class="name">toArrayMappedPartial</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lift</span> : <span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w} → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">γ</span>)</span></span></div></div><p>This is an internal function used in <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollectPartial.defaultImplementation">IteratorCollectPartial.defaultImplementation</a></code>.</p><p>It iterates over an iterator and applies <code>f</code> whenever a value is emitted before inserting the result
of <code>f</code> into an array.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial">Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial</a> <span class="fn">lift</span> <span class="fn">f</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial.go">Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial.go</a> <span class="fn">lift</span> <span class="fn">f</span> <span class="fn">it</span> <a href="../../../../.././Init/Prelude.html#List.toArray">#[</a><a href="../../../../.././Init/Prelude.html#List.toArray">]</a></span></li></ul></details><details id="instances-for-list-Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial.go"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L152-L156">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial.go"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">DefaultConsumers</span>.<span class="name">toArrayMappedPartial</span>.<span class="name">go</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lift</span> : <span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w} → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">α</span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn"><a href="../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">γ</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">γ</span>)</span></span></div></div></div></div><div class="decl" id="Std.Iterators.IteratorCollectPartial.defaultImplementation"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L158-L168">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollectPartial.defaultImplementation"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IteratorCollectPartial</span>.<span class="name">defaultImplementation</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollectPartial">IteratorCollectPartial</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span></div></div><p>This is the default implementation of the <code>IteratorLoopPartial</code> class.
It simply iterates through the iterator using <code>IterM.step</code>, incrementally building up the desired
data structure. For certain iterators, more efficient implementations are possible and should be
used instead.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollectPartial.defaultImplementation">Std.Iterators.IteratorCollectPartial.defaultImplementation</a> <a href="../../../../.././Init/Prelude.html#Eq">=</a>   <a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollectPartial.mk">{</a> <span class="fn">toArrayMappedPartial</span> := <a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial">Std.Iterators.IterM.DefaultConsumers.toArrayMappedPartial</a> <a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollectPartial.mk">}</a></li></ul></details><details id="instances-for-list-Std.Iterators.IteratorCollectPartial.defaultImplementation" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Iterators.IterM.toArray"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L170-L182">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toArray"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">toArray</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect">IteratorCollect</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">β</span>)</span></span></div></div><p>Traverses the given iterator and stores the emitted values in an array.</p><p>This function requires a <code>Finite</code> instance proving that the iterator will finish after a finite
number of steps. If the iterator is not finite or such an instance is not available, consider using
<code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toArray">toArray</a></code> instead of <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toArray">toArray</a></code>. However, it is not possible to formally
verify the behavior of the partial variant.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toArray">toArray</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect.toArrayMapped">Std.Iterators.IteratorCollect.toArrayMapped</a> <span class="fn">(fun ⦃<span class="fn">x</span> : <a href="../../../../.././foundational_types.html">Type</a> ?u.35⦄ =&gt; <a href="../../../../.././Init/Prelude.html#id">id</a>)</span> <a href="../../../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">it</span></span></li></ul></details><details id="instances-for-list-Std.Iterators.IterM.toArray" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Iterators.IterM.Partial.toArray"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L184-L193">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.Partial.toArray"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">toArray</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.Iterators.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollectPartial">IteratorCollectPartial</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">β</span>)</span></span></div></div><p>Traverses the given iterator and stores the emitted values in an array.</p><p>This is a partial, potentially nonterminating, function. It is not possible to formally verify
its behavior. If the iterator has a <code>Finite</code> instance, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toArray">IterM.toArray</a></code> instead.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.Partial.toArray">toArray</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollectPartial.toArrayMappedPartial">Std.Iterators.IteratorCollectPartial.toArrayMappedPartial</a> <span class="fn">(fun ⦃<span class="fn">x</span> : <a href="../../../../.././foundational_types.html">Type</a> ?u.60⦄ =&gt; <a href="../../../../.././Init/Prelude.html#id">id</a>)</span> <a href="../../../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.Iterators.IterM.Partial.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.Iterators.IterM.Partial.toArray" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Iterators.IterM.toListRev"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L197-L216">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toListRev"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">toListRev</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#List">List</a> <span class="fn">β</span>)</span></span></div></div><p>Traverses the given iterator and stores the emitted values in reverse order in a list. Because
lists are prepend-only, this <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toListRev">toListRev</a></code> is usually more efficient that <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toList">toList</a></code>.</p><p>This function requires a <code>Finite</code> instance proving that the iterator will finish after a finite
number of steps. If the iterator is not finite or such an instance is not available, consider using
<code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toListRev">toListRev</a></code> instead of <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toListRev">toListRev</a></code>. However, it is not possible to
formally verify the behavior of the partial variant.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toListRev">toListRev</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toListRev.go">Std.Iterators.IterM.toListRev.go</a> <span class="fn">it</span> <a href="../../../../.././Init/Prelude.html#List.nil">[</a><a href="../../../../.././Init/Prelude.html#List.nil">]</a></span></li></ul></details><details id="instances-for-list-Std.Iterators.IterM.toListRev" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Iterators.IterM.toListRev.go"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L211-L215">source</a></div><div class="attributes">@[irreducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toListRev.go"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">toListRev</span>.<span class="name">go</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">bs</span> : <span class="fn"><a href="../../../../.././Init/Prelude.html#List">List</a> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#List">List</a> <span class="fn">β</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Iterators.IterM.toListRev.go" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Iterators.IterM.Partial.toListRev"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L218-L235">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.Partial.toListRev"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">toListRev</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.Iterators.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#List">List</a> <span class="fn">β</span>)</span></span></div></div><p>Traverses the given iterator and stores the emitted values in reverse order in a list. Because
lists are prepend-only, this <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toListRev">toListRev</a></code> is usually more efficient that <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toList">toList</a></code>.</p><p>This is a partial, potentially nonterminating, function. It is not possible to formally verify
its behavior. If the iterator has a <code>Finite</code> instance, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toListRev">IterM.toListRev</a></code> instead.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.Partial.toListRev">toListRev</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.Partial.toListRev.go">Std.Iterators.IterM.Partial.toListRev.go</a> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.Iterators.IterM.Partial.it">it</a></span> <a href="../../../../.././Init/Prelude.html#List.nil">[</a><a href="../../../../.././Init/Prelude.html#List.nil">]</a></span></li></ul></details><details id="instances-for-list-Std.Iterators.IterM.Partial.toListRev" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Iterators.IterM.Partial.toListRev.go"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L231-L235">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.Partial.toListRev.go"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">toListRev</span>.<span class="name">go</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">bs</span> : <span class="fn"><a href="../../../../.././Init/Prelude.html#List">List</a> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#List">List</a> <span class="fn">β</span>)</span></span></div></div></div></div><div class="decl" id="Std.Iterators.IterM.toList"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L237-L249">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toList"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">toList</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollect">IteratorCollect</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#List">List</a> <span class="fn">β</span>)</span></span></div></div><p>Traverses the given iterator and stores the emitted values in a list. Because
lists are prepend-only, <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toListRev">toListRev</a></code> is usually more efficient that <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toList">toList</a></code>.</p><p>This function requires a <code>Finite</code> instance proving that the iterator will finish after a finite
number of steps. If the iterator is not finite or such an instance is not available, consider using
<code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toList">toList</a></code> instead of <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toList">toList</a></code>. However, it is not possible to
formally verify the behavior of the partial variant.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toList">toList</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../../.././Init/Prelude.html#Array.toList">Array.toList</a> <a href="../../../../.././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toArray">toArray</a></span></li></ul></details><details id="instances-for-list-Std.Iterators.IterM.toList" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Iterators.IterM.Partial.toList"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/Iterators/Consumers/Monadic/Collect.lean#L251-L262">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.Partial.toList"><span class="name">Std</span>.<span class="name">Iterators</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">toList</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.Iterators.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IteratorCollectPartial">IteratorCollectPartial</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#List">List</a> <span class="fn">β</span>)</span></span></div></div><p>Traverses the given iterator and stores the emitted values in a list. Because
lists are prepend-only, <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toListRev">toListRev</a></code> is usually more efficient that <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toList">toList</a></code>.</p><p>This is a partial, potentially nonterminating, function. It is not possible to formally verify
its behavior. If the iterator has a <code>Finite</code> instance, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.toList">IterM.toList</a></code> instead.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.Partial.toList">toList</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../../.././Init/Prelude.html#Array.toList">Array.toList</a> <a href="../../../../.././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Collect.html#Std.Iterators.IterM.Partial.toArray">toArray</a></span></li></ul></details><details id="instances-for-list-Std.Iterators.IterM.Partial.toList" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>