<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../../../.././style.css"></link><link rel="icon" href="../../../../.././favicon.svg"></link><link rel="mask-icon" href="../../../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../../../.././/declarations/declaration-data.bmp" as="image"></link><title>Init.Data.Iterators.Consumers.Monadic.Loop</title><script defer="true" src="../../../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../../../.././";</script><script>const MODULE_NAME="Init.Data.Iterators.Consumers.Monadic.Loop";</script><script type="module" src="../../../../.././jump-src.js"></script><script type="module" src="../../../../.././search.js"></script><script type="module" src="../../../../.././expand-nav.js"></script><script type="module" src="../../../../.././how-about.js"></script><script type="module" src="../../../../.././instances.js"></script><script type="module" src="../../../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Init</span>.<span class="name">Data</span>.<span class="name">Iterators</span>.<span class="name">Consumers</span>.<span class="name">Monadic</span>.<span class="name">Loop</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../../../.././Init/PropLemmas.html">Init.PropLemmas</a></li><li><a href="../../../../.././Init/WFExtrinsicFix.html">Init.WFExtrinsicFix</a></li><li><a href="../../../../.././Init/Data/Iterators/Internal/LawfulMonadLiftFunction.html">Init.Data.Iterators.Internal.LawfulMonadLiftFunction</a></li><li><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html">Init.Data.Iterators.Consumers.Monadic.Partial</a></li><li><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html">Init.Data.Iterators.Consumers.Monadic.Total</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Init.Data.Iterators.Consumers.Monadic.Loop" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Std.IteratorLoop.rel"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">rel</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IteratorLoop.WellFounded"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">WellFounded</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IteratorLoop"><span class="name">Std</span>.<span class="name">IteratorLoop</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IteratorLoop.ext_iff"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">ext_iff</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IteratorLoop.ext"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">ext</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IteratorLoop.WithWF"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">WithWF</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IteratorLoop.WithWF.instWellFoundedRelation"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">WithWF</span>.<span class="name">instWellFoundedRelation</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.DefaultConsumers.forIn'"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">DefaultConsumers</span>.<span class="name">forIn'</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.DefaultConsumers.forIn'.wf"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">DefaultConsumers</span>.<span class="name">forIn'</span>.<span class="name">wf</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IteratorLoop.defaultImplementation"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">defaultImplementation</span></a></div><div class="nav_link"><a class="break_within" href="#Std.LawfulIteratorLoop"><span class="name">Std</span>.<span class="name">LawfulIteratorLoop</span></a></div><div class="nav_link"><a class="break_within" href="#Std.instLawfulIteratorLoopDefaultImplementation"><span class="name">Std</span>.<span class="name">instLawfulIteratorLoopDefaultImplementation</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IteratorLoop.wellFounded_of_finite"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">wellFounded_of_finite</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IteratorLoop.wellFounded_of_productive"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">wellFounded_of_productive</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IteratorLoop.finiteForIn'"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">finiteForIn'</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.instForIn'"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">instForIn'</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.instForInOfIteratorLoop"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">instForInOfIteratorLoop</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.instForIn'"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">instForIn'</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.instForIn'"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">instForIn'</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.instForInOfIteratorLoop"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">instForInOfIteratorLoop</span></a></div><div class="nav_link"><a class="break_within" href="#Std.instForInTotalOfIteratorLoopOfMonadLiftTOfMonadOfFinite"><span class="name">Std</span>.<span class="name">instForInTotalOfIteratorLoopOfMonadLiftTOfMonadOfFinite</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.instForMOfIteratorLoop"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">instForMOfIteratorLoop</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.instForMOfItreratorLoop"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">instForMOfItreratorLoop</span></a></div><div class="nav_link"><a class="break_within" href="#Std.instForMTotalOfIteratorLoopOfMonadOfMonadLiftTOfFinite"><span class="name">Std</span>.<span class="name">instForMTotalOfIteratorLoopOfMonadOfMonadLiftTOfFinite</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.foldM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">foldM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.foldM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">foldM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.foldM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">foldM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.fold"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">fold</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.fold"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">fold</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.fold"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">fold</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.drain"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">drain</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.drain"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">drain</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.drain"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">drain</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.anyM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">anyM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.anyM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">anyM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.anyM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">anyM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.any"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">any</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.any"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">any</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.any"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">any</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.allM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">allM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.allM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">allM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.allM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">allM</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.all"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">all</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.all"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">all</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.all"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">all</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.findSomeM?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">findSomeM?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.findSomeM?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">findSomeM?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.findSomeM?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">findSomeM?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.findSome?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">findSome?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.findSome?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">findSome?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.findSome?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">findSome?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.findM?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">findM?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.findM?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">findM?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.findM?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">findM?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.find?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">find?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.find?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">find?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.find?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">find?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.first?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">first?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.first?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">first?</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.isEmpty"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">isEmpty</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Total.isEmpty"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">isEmpty</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.length"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">length</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.count"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">count</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.size"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">size</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.count"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">count</span></a></div><div class="nav_link"><a class="break_within" href="#Std.IterM.Partial.size"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">size</span></a></div></nav><main>
<div class="mod_doc"><h1 id="Loop-based-consumers" class="markdown-heading">Loop-based consumers <a class="hover-link" href="#Loop-based-consumers">#</a></h1><p>This module provides consumers that iterate over a given iterator, applying a certain user-supplied
function in every iteration. Concretely, the following operations are provided:</p><ul><li><code><a href="../../../../.././Init/Core.html#ForIn">ForIn</a></code> instances</li><li><code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.fold">IterM.fold</a></code>, the analogue of <code><a href="../../../../.././Init/Prelude.html#List.foldl">List.foldl</a></code></li><li><code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.foldM">IterM.foldM</a></code>, the analogue of <code><a href="../../../../.././Init/Data/List/Control.html#List.foldlM">List.foldlM</a></code></li><li><code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.drain">IterM.drain</a></code>, which iterates over the whole iterator and discards all emitted values. It can
be used to apply the monadic effects of the iterator.</li></ul><p>Some producers and combinators provide specialized implementations. These are captured by the
<code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a></code> type class. They should be implemented by all
types of iterators. A default implementation is provided. The typeclass <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.LawfulIteratorLoop">LawfulIteratorLoop</a></code>
asserts that an <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a></code> instance equals the default implementation.</p></div><div class="decl" id="Std.IteratorLoop.rel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L43-L53">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.rel"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">rel</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> x}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">plausible_forInStep</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn"><a href="../../../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">γ</span></span> → <a href="../../../../.././foundational_types.html">Prop</a></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p' </span><span class="fn">p</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span> <a href="../../../../.././Init/Prelude.html#Prod">×</a> <span class="fn">γ</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../../../.././foundational_types.html">Prop</a></div></div><p>Relation that needs to be well-formed in order for a loop over an iterator to terminate.
It is assumed that the <code>plausible_forInStep</code> predicate relates the input and output of the
stepper function.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.IteratorLoop.rel" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IteratorLoop.WellFounded"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L55-L61">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WellFounded"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">WellFounded</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> x}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">plausible_forInStep</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn"><a href="../../../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">γ</span></span> → <a href="../../../../.././foundational_types.html">Prop</a></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../../../.././foundational_types.html">Prop</a></div></div><p>Asserts that <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.rel">IteratorLoop.rel</a></code> is well-founded.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WellFounded">Std.IteratorLoop.WellFounded</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">plausible_forInStep</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/WF.html#WellFounded">WellFounded</a> <span class="fn">(<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.rel">Std.IteratorLoop.rel</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">plausible_forInStep</span>)</span></span></li></ul></details><details id="instances-for-list-Std.IteratorLoop.WellFounded" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IteratorLoop"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L63-L83">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop"><span class="name">Std</span>.<span class="name">IteratorLoop</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> x → <a href="../../../../.././foundational_types.html">Type</a> x'</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../../../.././foundational_types.html">Type</a> (max (max (max (w + 1) w') (x + 1)) x')</div></div><p><code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> α m</code> provides efficient implementations of loop-based consumers for <code>α</code>-based
iterators. The basis is a <code><a href="../../../../.././Init/Core.html#ForIn">ForIn</a></code>-style loop construct.</p><p>Its behavior for well-founded loops is fully characterized by the <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.LawfulIteratorLoop">LawfulIteratorLoop</a></code> type class.</p><p>This class is experimental and users of the iterator API should not explicitly depend on it.
They can, however, assume that consumers that require an instance will work for all iterators
provided by the standard library.</p><ul class="structure_fields" id="Std.IteratorLoop.mk"><li id="Std.IteratorLoop.forIn" class="structure_field"><div class="structure_field_info">forIn<span class="decl_args">
<span class="fn">(<span class="fn">_liftBind</span> : <span class="fn">(<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w) → <span class="fn">(<span class="fn">δ</span> : <a href="../../../../.././foundational_types.html">Type</a> x) → <span class="fn"><span class="fn">(<span class="fn">γ</span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span>)</span> → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">γ</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span></span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> x)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">plausible_forInStep</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn"><a href="../../../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">γ</span></span> → <a href="../../../../.././foundational_types.html">Prop</a></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
 : <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn">((<span class="fn">b</span> : <span class="fn">β</span>) → <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM.IsPlausibleIndirectOutput">IsPlausibleIndirectOutput</a></span> <span class="fn">b</span></span> → <span class="fn">(<span class="fn">c</span> : <span class="fn">γ</span>) → <span class="fn"><span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Subtype">Subtype</a> <span class="fn">(<span class="fn">plausible_forInStep</span> <span class="fn">b</span> <span class="fn">c</span>)</span>)</span></span></span></span>)</span> → <span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></span></span></div><div class="structure_field_doc"><p>Iteration over the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> in the manner expected by <code>for</code> loops.</p></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Std.IteratorLoop" class="instances-list"></ul></details></div></div><div class="decl" id="Std.IteratorLoop.ext_iff"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L73-L73">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.ext_iff"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">ext_iff</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">inst✝</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> x → <a href="../../../../.././foundational_types.html">Type</a> x'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">y</span> <a href="../../../../.././Init/Core.html#Iff">↔</a> <a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.forIn">forIn</a> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.forIn">forIn</a></div></div></div></div><div class="decl" id="Std.IteratorLoop.ext"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L73-L73">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.ext"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">ext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">inst✝</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> x → <a href="../../../../.././foundational_types.html">Type</a> x'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">forIn</span> : <a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.forIn">forIn</a> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.forIn">forIn</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">y</span></div></div></div></div><div class="decl" id="Std.IteratorLoop.WithWF"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L87-L94">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">WithWF</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> x}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">PlausibleForInStep</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn"><a href="../../../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">γ</span></span> → <a href="../../../../.././foundational_types.html">Prop</a></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hwf</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WellFounded">WellFounded</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">PlausibleForInStep</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../../../.././foundational_types.html">Type</a> (max w x)</div></div><p>Internal implementation detail of the iterator library.</p><ul class="structure_fields" id="Std.IteratorLoop.WithWF.mk"><li id="Std.IteratorLoop.WithWF.it" class="structure_field"><div class="structure_field_info">it : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span></div><div class="structure_field_doc"><p>Internal implementation detail of the iterator library.</p></div></li><li id="Std.IteratorLoop.WithWF.acc" class="structure_field"><div class="structure_field_info">acc : <span class="fn">γ</span></div><div class="structure_field_doc"><p>Internal implementation detail of the iterator library.</p></div></li></ul><details id="instances-for-list-Std.IteratorLoop.WithWF" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IteratorLoop.WithWF.instWellFoundedRelation"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L96-L102">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.instWellFoundedRelation"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">WithWF</span>.<span class="name">instWellFoundedRelation</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> x}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">PlausibleForInStep</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn"><a href="../../../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">γ</span></span> → <a href="../../../../.././foundational_types.html">Prop</a></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hwf</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WellFounded">WellFounded</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">PlausibleForInStep</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/WF.html#WellFoundedRelation">WellFoundedRelation</a> <span class="fn">(<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF">WithWF</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">PlausibleForInStep</span> <span class="fn">hwf</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Std.IterM.DefaultConsumers.forIn'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L104-L125">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.DefaultConsumers.forIn'"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">DefaultConsumers</span>.<span class="name">forIn'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> x → <a href="../../../../.././foundational_types.html">Type</a> x'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lift</span> : <span class="fn">(<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w) → <span class="fn">(<span class="fn">δ</span> : <a href="../../../../.././foundational_types.html">Type</a> x) → <span class="fn"><span class="fn">(<span class="fn">γ</span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span>)</span> → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">γ</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span></span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> x)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">PlausibleForInStep</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn"><a href="../../../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">γ</span></span> → <a href="../../../../.././foundational_types.html">Prop</a></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">γ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <span class="fn"><span class="fn">β</span> → <a href="../../../../.././foundational_types.html">Prop</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hP</span> : <span class="fn">∀ (<span class="fn">b</span> : <span class="fn">β</span>), <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM.IsPlausibleIndirectOutput">IsPlausibleIndirectOutput</a></span> <span class="fn">b</span></span> → <span class="fn"><span class="fn">P</span> <span class="fn">b</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn">(<span class="fn">b</span> : <span class="fn">β</span>) → <span class="fn"><span class="fn"><span class="fn">P</span> <span class="fn">b</span></span> → <span class="fn">(<span class="fn">c</span> : <span class="fn">γ</span>) → <span class="fn"><span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Subtype">Subtype</a> <span class="fn">(<span class="fn">PlausibleForInStep</span> <span class="fn">b</span> <span class="fn">c</span>)</span>)</span></span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></div></div><p>This is the loop implementation of the default instance <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.defaultImplementation">IteratorLoop.defaultImplementation</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.IterM.DefaultConsumers.forIn'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.DefaultConsumers.forIn'.wf"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L127-L155">source</a></div><div class="attributes">@[irreducible, specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.DefaultConsumers.forIn'.wf"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">DefaultConsumers</span>.<span class="name">forIn'</span>.<span class="name">wf</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> x → <a href="../../../../.././foundational_types.html">Type</a> x'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lift</span> : <span class="fn">(<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w) → <span class="fn">(<span class="fn">δ</span> : <a href="../../../../.././foundational_types.html">Type</a> x) → <span class="fn"><span class="fn">(<span class="fn">γ</span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span>)</span> → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">γ</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span></span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> x)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">PlausibleForInStep</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn"><a href="../../../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">γ</span></span> → <a href="../../../../.././foundational_types.html">Prop</a></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">wf</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WellFounded">IteratorLoop.WellFounded</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">PlausibleForInStep</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">γ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">P</span> : <span class="fn"><span class="fn">β</span> → <a href="../../../../.././foundational_types.html">Prop</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hP</span> : <span class="fn">∀ (<span class="fn">b</span> : <span class="fn">β</span>), <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM.IsPlausibleIndirectOutput">IsPlausibleIndirectOutput</a></span> <span class="fn">b</span></span> → <span class="fn"><span class="fn">P</span> <span class="fn">b</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn">(<span class="fn">b</span> : <span class="fn">β</span>) → <span class="fn"><span class="fn"><span class="fn">P</span> <span class="fn">b</span></span> → <span class="fn">(<span class="fn">c</span> : <span class="fn">γ</span>) → <span class="fn"><span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Subtype">Subtype</a> <span class="fn">(<span class="fn">PlausibleForInStep</span> <span class="fn">b</span> <span class="fn">c</span>)</span>)</span></span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></div></div><p>This is the loop implementation of the default instance <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.defaultImplementation">IteratorLoop.defaultImplementation</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.IterM.DefaultConsumers.forIn'.wf" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IteratorLoop.defaultImplementation"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L157-L166">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.defaultImplementation"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">defaultImplementation</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β </span><span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> x → <a href="../../../../.././foundational_types.html">Type</a> x'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span></div></div><p>This is the default implementation of the <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a></code> class.
It simply iterates through the iterator using <code>IterM.step</code>. For certain iterators, more efficient
implementations are possible and should be used instead.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.IteratorLoop.defaultImplementation" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.LawfulIteratorLoop"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L168-L179">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.LawfulIteratorLoop"><span class="name">Std</span>.<span class="name">LawfulIteratorLoop</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> x → <a href="../../../../.././foundational_types.html">Type</a> x'</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn">i</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../../../.././foundational_types.html">Prop</a></div></div><p>Asserts that a given <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a></code> instance is equal to <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.defaultImplementation">IteratorLoop.defaultImplementation</a></code>.
(Even though equal, the given instance might be vastly more efficient.)</p><ul class="structure_fields" id="Std.LawfulIteratorLoop.mk"><li id="Std.LawfulIteratorLoop.lawful" class="structure_field"><div class="structure_field_info">lawful<span class="decl_args">
<span class="fn">(<span class="fn">lift</span> : <span class="fn">(<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w) → <span class="fn">(<span class="fn">δ</span> : <a href="../../../../.././foundational_types.html">Type</a> x) → <span class="fn"><span class="fn">(<span class="fn">γ</span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span>)</span> → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">γ</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span></span></span></span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Internal/LawfulMonadLiftFunction.html#Std.Internal.LawfulMonadLiftBindFunction">Internal.LawfulMonadLiftBindFunction</a> <span class="fn">lift</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> x)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">γ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">Pl</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn"><a href="../../../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">γ</span></span> → <a href="../../../../.././foundational_types.html">Prop</a></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">wf</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WellFounded">IteratorLoop.WellFounded</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">Pl</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn">(<span class="fn">b</span> : <span class="fn">β</span>) → <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM.IsPlausibleIndirectOutput">IsPlausibleIndirectOutput</a></span> <span class="fn">b</span></span> → <span class="fn">(<span class="fn">c</span> : <span class="fn">γ</span>) → <span class="fn"><span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Subtype">Subtype</a> <span class="fn">(<span class="fn">Pl</span> <span class="fn">b</span> <span class="fn">c</span>)</span>)</span></span></span></span></span>)</span></span>
 : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.forIn">IteratorLoop.forIn</a> <span class="fn">lift</span> <span class="fn">γ</span> <span class="fn">Pl</span> <span class="fn">it</span> <span class="fn">init</span> <span class="fn">f</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.forIn">IteratorLoop.forIn</a> <span class="fn">lift</span> <span class="fn">γ</span> <span class="fn">Pl</span> <span class="fn">it</span> <span class="fn">init</span> <span class="fn">f</span></span></div><div class="structure_field_doc"><p>The implementation of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.forIn">IteratorLoop.forIn</a></code> in <code>i</code> is equal to the default implementation.</p></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Std.LawfulIteratorLoop" class="instances-list"></ul></details></div></div><div class="decl" id="Std.instLawfulIteratorLoopDefaultImplementation"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L181-L186">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.instLawfulIteratorLoopDefaultImplementation"><span class="name">Std</span>.<span class="name">instLawfulIteratorLoopDefaultImplementation</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> x → <a href="../../../../.././foundational_types.html">Type</a> x'</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.LawfulIteratorLoop">LawfulIteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span></div></div></div></div><div class="decl" id="Std.IteratorLoop.wellFounded_of_finite"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L188-L199">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.wellFounded_of_finite"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">wellFounded_of_finite</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> x}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">P</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn"><a href="../../../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">γ</span></span> → <a href="../../../../.././foundational_types.html">Prop</a></span></span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WellFounded">WellFounded</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">P</span></span></div></div></div></div><div class="decl" id="Std.IteratorLoop.wellFounded_of_productive"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L201-L209">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.wellFounded_of_productive"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">wellFounded_of_productive</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Productive">Iterators.Productive</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">P</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn"><a href="../../../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">γ</span></span> → <a href="../../../../.././foundational_types.html">Prop</a></span></span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hp</span> :
  <span class="fn">∀ {<span class="fn">b</span> : <span class="fn">β</span>} {<span class="fn">g</span> : <span class="fn">γ</span>} {<span class="fn">s</span> : <span class="fn"><a href="../../../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">γ</span></span>},
    <span class="fn"><span class="fn"><span class="fn">P</span> <span class="fn">b</span> <span class="fn">g</span> <span class="fn">s</span></span> →
      <span class="fn">(match <span class="fn">s</span> with
        | <span class="fn"><a href="../../../../.././Init/Core.html#ForInStep.done">ForInStep.done</a> <span class="fn">a</span></span> =&gt; <a href="../../../../.././Init/Prelude.html#Bool.true">true</a>
        | <span class="fn">x</span> =&gt; <a href="../../../../.././Init/Prelude.html#Bool.false">false</a>)</span> <a href="../../../../.././Init/Prelude.html#Eq">=</a>         <a href="../../../../.././Init/Prelude.html#Bool.true">true</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WellFounded">WellFounded</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">P</span></span></div></div></div></div><div class="decl" id="Std.IteratorLoop.finiteForIn'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L211-L220">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.finiteForIn'"><span class="name">Std</span>.<span class="name">IteratorLoop</span>.<span class="name">finiteForIn'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> x → <a href="../../../../.././foundational_types.html">Type</a> x'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lift</span> : <span class="fn">(<span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w) → <span class="fn">(<span class="fn">δ</span> : <a href="../../../../.././foundational_types.html">Type</a> x) → <span class="fn"><span class="fn">(<span class="fn">γ</span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span>)</span> → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">γ</span></span> → <span class="fn"><span class="fn">n</span> <span class="fn">δ</span></span></span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Core.html#ForIn'">ForIn'</a> <span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span>)</span> <span class="fn">β</span> <a href="../../../../.././Init/Prelude.html#Membership.mk">{</a> <span class="fn">mem</span> := <span class="fn">fun (<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>) (<span class="fn">out</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM.IsPlausibleIndirectOutput">IsPlausibleIndirectOutput</a></span> <span class="fn">out</span></span></span> <a href="../../../../.././Init/Prelude.html#Membership.mk">}</a></span></div></div><p>This <code><a href="../../../../.././Init/Core.html#ForIn'">ForIn'</a></code>-style loop construct traverses a finite iterator using an <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a></code> instance.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.IteratorLoop.finiteForIn'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.instForIn'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L222-L232">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.instForIn'"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">instForIn'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Core.html#ForIn'">ForIn'</a> <span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span>)</span> <span class="fn">β</span> <a href="../../../../.././Init/Prelude.html#Membership.mk">{</a> <span class="fn">mem</span> := <span class="fn">fun (<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>) (<span class="fn">out</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM.IsPlausibleIndirectOutput">IsPlausibleIndirectOutput</a></span> <span class="fn">out</span></span></span> <a href="../../../../.././Init/Prelude.html#Membership.mk">}</a></span></div></div><p>A <code><a href="../../../../.././Init/Core.html#ForIn'">ForIn'</a></code> instance for iterators. Its generic membership relation is not easy to use,
so this is not marked as <code>instance</code>. This way, more convenient instances can be built on top of it
or future library improvements will make it more comfortable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.instForIn'">Std.IterM.instForIn'</a> <a href="../../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.finiteForIn'">Std.IteratorLoop.finiteForIn'</a> <span class="fn">fun (<span class="fn">x</span> <span class="fn">x_1</span> : <a href="../../../../.././foundational_types.html">Type</a> ?u.69) (<span class="fn">f</span> : <span class="fn"><span class="fn">x</span> → <span class="fn"><span class="fn">n</span> <span class="fn">x_1</span></span></span>) (<span class="fn">x_2</span> : <span class="fn"><span class="fn">m</span> <span class="fn">x</span></span>) =&gt; <span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT.monadLift">monadLift</a> <span class="fn">x_2</span></span> <a href="../../../../.././Init/Prelude.html#Bind.bind">&gt;&gt;=</a> <span class="fn">f</span></span></span></li></ul></details><details id="instances-for-list-Std.IterM.instForIn'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.instForInOfIteratorLoop"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L234-L239">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.instForInOfIteratorLoop"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">instForInOfIteratorLoop</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Core.html#ForIn">ForIn</a> <span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span>)</span> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.instForInOfIteratorLoop">Std.IterM.instForInOfIteratorLoop</a> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../../.././Init/Control/Basic.html#instForInOfForIn'">instForInOfForIn'</a></li></ul></details></div></div><div class="decl" id="Std.IterM.Partial.instForIn'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L241-L247">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.instForIn'"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">instForIn'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Core.html#ForIn'">ForIn'</a> <span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span>)</span> <span class="fn">β</span> <a href="../../../../.././Init/Prelude.html#Membership.mk">{</a> <span class="fn">mem</span> := <span class="fn">fun (<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>) (<span class="fn">out</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM.IsPlausibleIndirectOutput">IsPlausibleIndirectOutput</a></span> <span class="fn">out</span></span></span> <a href="../../../../.././Init/Prelude.html#Membership.mk">}</a></span></div></div><p>Internal implementation detail of the iterator library.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.IterM.Partial.instForIn'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.instForIn'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L249-L255">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.instForIn'"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">instForIn'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Core.html#ForIn'">ForIn'</a> <span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span>)</span> <span class="fn">β</span> <a href="../../../../.././Init/Prelude.html#Membership.mk">{</a> <span class="fn">mem</span> := <span class="fn">fun (<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>) (<span class="fn">out</span> : <span class="fn">β</span>) =&gt; <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM.IsPlausibleIndirectOutput">IsPlausibleIndirectOutput</a></span> <span class="fn">out</span></span></span> <a href="../../../../.././Init/Prelude.html#Membership.mk">}</a></span></div></div><p>Internal implementation detail of the iterator library.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.instForIn'">Std.IterM.Total.instForIn'</a> <a href="../../../../.././Init/Prelude.html#Eq">=</a>   <a href="../../../../.././Init/Core.html#ForIn'.mk">{</a>     <span class="fn">forIn'</span> :=
      <span class="fn">fun {<span class="fn">β_1</span> : <a href="../../../../.././foundational_types.html">Type</a> ?u.81} (<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Std.IterM.Total</a> <span class="fn">m</span> <span class="fn">β</span></span>) (<span class="fn">init</span> : <span class="fn">β_1</span>) (<span class="fn">f</span> : <span class="fn">(<span class="fn">a</span> : <span class="fn">β</span>) → <span class="fn"><span class="fn">a</span> <a href="../../../../.././Init/Prelude.html#Membership.mem">∈</a> <span class="fn">it</span> → <span class="fn"><span class="fn">β_1</span> → <span class="fn"><span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Core.html#ForInStep">ForInStep</a> <span class="fn">β_1</span>)</span></span></span></span></span>) =&gt;
      <span class="fn"><a href="../../../../.././Init/Core.html#ForIn'.forIn'">forIn'</a> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span> <span class="fn">init</span> <span class="fn">f</span></span></span> <a href="../../../../.././Init/Core.html#ForIn'.mk">}</a></li></ul></details><details id="instances-for-list-Std.IterM.Total.instForIn'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.instForInOfIteratorLoop"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L257-L261">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.instForInOfIteratorLoop"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">instForInOfIteratorLoop</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Core.html#ForIn">ForIn</a> <span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span>)</span> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.instForInOfIteratorLoop">Std.IterM.Partial.instForInOfIteratorLoop</a> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../../.././Init/Control/Basic.html#instForInOfForIn'">instForInOfForIn'</a></li></ul></details></div></div><div class="decl" id="Std.instForInTotalOfIteratorLoopOfMonadLiftTOfMonadOfFinite"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L263-L268">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.instForInTotalOfIteratorLoopOfMonadLiftTOfMonadOfFinite"><span class="name">Std</span>.<span class="name">instForInTotalOfIteratorLoopOfMonadLiftTOfMonadOfFinite</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Core.html#ForIn">ForIn</a> <span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">IterM.Total</a> <span class="fn">m</span> <span class="fn">β</span>)</span> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.instForInTotalOfIteratorLoopOfMonadLiftTOfMonadOfFinite">Std.instForInTotalOfIteratorLoopOfMonadLiftTOfMonadOfFinite</a> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../../.././Init/Control/Basic.html#instForInOfForIn'">instForInOfForIn'</a></li></ul></details></div></div><div class="decl" id="Std.IterM.instForMOfIteratorLoop"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L270-L273">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.instForMOfIteratorLoop"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">instForMOfIteratorLoop</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Control/Basic.html#ForM">ForM</a> <span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span>)</span> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Std.IterM.Partial.instForMOfItreratorLoop"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L275-L278">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.instForMOfItreratorLoop"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">instForMOfItreratorLoop</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Control/Basic.html#ForM">ForM</a> <span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span>)</span> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Std.instForMTotalOfIteratorLoopOfMonadOfMonadLiftTOfFinite"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L280-L283">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.instForMTotalOfIteratorLoopOfMonadOfMonadLiftTOfFinite"><span class="name">Std</span>.<span class="name">instForMTotalOfIteratorLoopOfMonadOfMonadLiftTOfFinite</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../.././Init/Control/Basic.html#ForM">ForM</a> <span class="fn">n</span> <span class="fn">(<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">IterM.Total</a> <span class="fn">m</span> <span class="fn">β</span>)</span> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Std.IterM.foldM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L285-L297">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.foldM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">foldM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w''</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">γ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></div></div><p>Folds a monadic function over an iterator from the left, accumulating a value starting with <code>init</code>.
The accumulated value is combined with the each element of the list in order, using <code>f</code>.</p><p>The monadic effects of <code>f</code> are interleaved with potential effects caused by the iterator's step
function. Therefore, it may <em>not</em> be equivalent to <code>(← it.toList).foldlM</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.foldM">Std.IterM.foldM</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Core.html#ForIn.forIn">forIn</a> <span class="fn">it</span> <span class="fn">init</span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn">β</span>) (<span class="fn">acc</span> : <span class="fn">γ</span>) =&gt; <a href="../../../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <a href="../../../../.././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn"><span class="fn">f</span> <span class="fn">acc</span> <span class="fn">x</span></span></span></span></li></ul></details><details id="instances-for-list-Std.IterM.foldM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.foldM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L299-L312">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.foldM (since := &quot;2025-12-04&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.foldM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">foldM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m </span><span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">γ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></div></div><p>Folds a monadic function over an iterator from the left, accumulating a value starting with <code>init</code>.
The accumulated value is combined with the each element of the list in order, using <code>f</code>.</p><p>The monadic effects of <code>f</code> are interleaved with potential effects caused by the iterator's step
function. Therefore, it may <em>not</em> be equivalent to <code>it.toList.foldlM</code>.</p><p>This function is deprecated. Instead of <code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.foldM">foldM</a></code>, use <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.foldM">foldM</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.foldM">Std.IterM.Partial.foldM</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Core.html#ForIn.forIn">forIn</a> <span class="fn">it</span> <span class="fn">init</span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn">β</span>) (<span class="fn">acc</span> : <span class="fn">γ</span>) =&gt; <a href="../../../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <a href="../../../../.././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn"><span class="fn">f</span> <span class="fn">acc</span> <span class="fn">x</span></span></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.foldM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.foldM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L314-L328">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.foldM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">foldM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m </span><span class="fn">n</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">γ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">n</span> <span class="fn">γ</span></span></div></div><p>Folds a monadic function over an iterator from the left, accumulating a value starting with <code>init</code>.
The accumulated value is combined with the each element of the list in order, using <code>f</code>.</p><p>The monadic effects of <code>f</code> are interleaved with potential effects caused by the iterator's step
function. Therefore, it may <em>not</em> be equivalent to <code>it.toList.foldlM</code>.</p><p>This variant terminates after finitely many steps and requires a proof that the iterator is
finite. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.foldM">IterM.foldM</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.foldM">Std.IterM.Total.foldM</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.foldM">Std.IterM.foldM</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.foldM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.fold"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L330-L340">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.fold"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">fold</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn">β</span> → <span class="fn">γ</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">γ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">γ</span></span></div></div><p>Folds a function over an iterator from the left, accumulating a value starting with <code>init</code>.
The accumulated value is combined with the each element of the list in order, using <code>f</code>.</p><p>It is equivalent to <code>it.toList.foldl</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.fold">Std.IterM.fold</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Core.html#ForIn.forIn">forIn</a> <span class="fn">it</span> <span class="fn">init</span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn">β</span>) (<span class="fn">acc</span> : <span class="fn">γ</span>) =&gt; <span class="fn"><a href="../../../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href="../../../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <span class="fn">(<span class="fn">f</span> <span class="fn">acc</span> <span class="fn">x</span>)</span>)</span></span></span></span></li></ul></details><details id="instances-for-list-Std.IterM.fold" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.fold"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L342-L354">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.Partial.fold (since := &quot;2025-12-04&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.fold"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">fold</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn">β</span> → <span class="fn">γ</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">γ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">γ</span></span></div></div><p>Folds a function over an iterator from the left, accumulating a value starting with <code>init</code>.
The accumulated value is combined with the each element of the list in order, using <code>f</code>.</p><p>It is equivalent to <code>it.toList.foldl</code>.</p><p>This function is deprecated. Instead of <code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.fold">fold</a></code>, use <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.fold">fold</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.fold">Std.IterM.Partial.fold</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Core.html#ForIn.forIn">forIn</a> <span class="fn">it</span> <span class="fn">init</span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn">β</span>) (<span class="fn">acc</span> : <span class="fn">γ</span>) =&gt; <span class="fn"><a href="../../../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href="../../../../.././Init/Core.html#ForInStep.yield">ForInStep.yield</a> <span class="fn">(<span class="fn">f</span> <span class="fn">acc</span> <span class="fn">x</span>)</span>)</span></span></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.fold" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.fold"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L356-L369">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.fold"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">fold</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">γ</span> → <span class="fn"><span class="fn">β</span> → <span class="fn">γ</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">γ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">γ</span></span></div></div><p>Folds a function over an iterator from the left, accumulating a value starting with <code>init</code>.
The accumulated value is combined with the each element of the list in order, using <code>f</code>.</p><p>It is equivalent to <code>it.toList.foldl</code>.</p><p>This variant terminates after finitely many steps and requires a proof that the iterator is
finite. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.fold">IterM.fold</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.fold">Std.IterM.Total.fold</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.fold">Std.IterM.fold</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.fold" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.drain"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L371-L379">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.drain"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">drain</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../../../.././Init/Prelude.html#PUnit">PUnit</a></span></div></div><p>Iterates over the whole iterator, applying the monadic effects of each step, discarding all
emitted values.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.drain">drain</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.fold">Std.IterM.fold</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../../../../.././Init/Prelude.html#PUnit">PUnit</a>) (<span class="fn">x_1</span> : <span class="fn">β</span>) =&gt; <a href="../../../../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a>)</span> <a href="../../../../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a> <span class="fn">it</span></span></li></ul></details><details id="instances-for-list-Std.IterM.drain" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.drain"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L381-L390">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.drain (since := &quot;2025-12-04&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.drain"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">drain</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../../../.././Init/Prelude.html#PUnit">PUnit</a></span></div></div><p>Iterates over the whole iterator, applying the monadic effects of each step, discarding all
emitted values.</p><p>This function is deprecated. Instead of <code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.drain">drain</a></code>, use <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.drain">drain</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.drain">drain</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.fold">Std.IterM.fold</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../../../../.././Init/Prelude.html#PUnit">PUnit</a>) (<span class="fn">x_1</span> : <span class="fn">β</span>) =&gt; <a href="../../../../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a>)</span> <a href="../../../../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.drain" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.drain"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L392-L402">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.drain"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">drain</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../../../../.././Init/Prelude.html#PUnit">PUnit</a></span></div></div><p>Iterates over the whole iterator, applying the monadic effects of each step, discarding all
emitted values.</p><p>This variant terminates after finitely many steps and requires a proof that the iterator is
finite. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.drain">IterM.drain</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.drain">drain</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.drain">drain</a></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.drain" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.anyM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L405-L420">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.anyM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">anyM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the monadic predicate <code>p</code> returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> for
any element emitted by the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code>.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first match. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.IterM.anyM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.anyM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L423-L436">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.anyM (since := &quot;2025-12-04&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.anyM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">anyM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the monadic predicate <code>p</code> returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> for
any element emitted by the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code>.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first match. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><p>This function is deprecated. Instead of <code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.anyM">anyM</a></code>, use <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.anyM">anyM</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.anyM">Std.IterM.Partial.anyM</a> <span class="fn">p</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.anyM">Std.IterM.anyM</a> <span class="fn">p</span> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.anyM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.anyM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L439-L453">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.anyM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">anyM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the monadic predicate <code>p</code> returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> for
any element emitted by the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code>.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first match. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><p>This variant terminates after finitely many steps and requires a proof that the iterator is
finite. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.anyM">IterM.anyM</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.anyM">Std.IterM.Total.anyM</a> <span class="fn">p</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.anyM">Std.IterM.anyM</a> <span class="fn">p</span> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.anyM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.any"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L456-L467">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.any"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">any</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn">β</span> → <a href="../../../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the pure predicate <code>p</code> returns <code>true</code> for
any element emitted by the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code>.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first match. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.any">Std.IterM.any</a> <span class="fn">p</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.anyM">Std.IterM.anyM</a> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn">β</span>) =&gt; <span class="fn"><a href="../../../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../../../.././Init/Prelude.html#ULift.up">{</a> <span class="fn">down</span> := <span class="fn"><span class="fn">p</span> <span class="fn">x</span></span> <a href="../../../../.././Init/Prelude.html#ULift.up">}</a></span>)</span> <span class="fn">it</span></span></li></ul></details><details id="instances-for-list-Std.IterM.any" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.any"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L470-L482">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.any (since := &quot;2025-12-04&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.any"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">any</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn">β</span> → <a href="../../../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the pure predicate <code>p</code> returns <code>true</code> for
any element emitted by the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code>.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first match. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><p>This function is deprecated. Instead of <code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.any">any</a></code>, use <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.any">any</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.any">Std.IterM.Partial.any</a> <span class="fn">p</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.any">Std.IterM.any</a> <span class="fn">p</span> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.any" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.any"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L485-L499">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.any"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">any</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn">β</span> → <a href="../../../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the pure predicate <code>p</code> returns <code>true</code> for
any element emitted by the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code>.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first match. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><p>This variant terminates after finitely many steps and requires a proof that the iterator is
finite. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.any">IterM.any</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.any">Std.IterM.Total.any</a> <span class="fn">p</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.any">Std.IterM.any</a> <span class="fn">p</span> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.any" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.allM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L502-L516">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.allM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">allM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the monadic predicate <code>p</code> returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> for
all elements emitted by the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code>.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first mismatch. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.IterM.allM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.allM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L519-L532">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.allM (since := &quot;2025-12-04&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.allM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">allM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the monadic predicate <code>p</code> returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> for
all elements emitted by the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code>.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first mismatch. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><p>This function is deprecated. Instead of <code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.allM">allM</a></code>, use <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.allM">allM</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.allM">Std.IterM.Partial.allM</a> <span class="fn">p</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.allM">Std.IterM.allM</a> <span class="fn">p</span> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.allM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.allM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L535-L549">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.allM"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">allM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the monadic predicate <code>p</code> returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> for
all elements emitted by the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code>.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first mismatch. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><p>This variant terminates after finitely many steps and requires a proof that the iterator is
finite. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.allM">IterM.allM</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.allM">Std.IterM.Total.allM</a> <span class="fn">p</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.allM">Std.IterM.allM</a> <span class="fn">p</span> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.allM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.all"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L552-L565">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.all"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">all</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn">β</span> → <a href="../../../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the pure predicate <code>p</code> returns <code>true</code> for
all elements emitted by the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code>.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first mismatch. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><p>If the iterator is not finite, this function might run forever. The variant
<code>it.ensureTermination.toListRev</code> always terminates after finitely many steps.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.all">Std.IterM.all</a> <span class="fn">p</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.allM">Std.IterM.allM</a> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn">β</span>) =&gt; <span class="fn"><a href="../../../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../../../.././Init/Prelude.html#ULift.up">{</a> <span class="fn">down</span> := <span class="fn"><span class="fn">p</span> <span class="fn">x</span></span> <a href="../../../../.././Init/Prelude.html#ULift.up">}</a></span>)</span> <span class="fn">it</span></span></li></ul></details><details id="instances-for-list-Std.IterM.all" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.all"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L568-L580">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.all (since := &quot;2025-12-04&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.all"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">all</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn">β</span> → <a href="../../../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the pure predicate <code>p</code> returns <code>true</code> for
all elements emitted by the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code>.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first mismatch. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><p>This function is deprecated. Instead of <code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.allM">allM</a></code>, use <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.allM">allM</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.all">Std.IterM.Partial.all</a> <span class="fn">p</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.all">Std.IterM.all</a> <span class="fn">p</span> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.all" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.all"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L583-L597">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.all"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">all</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn">β</span> → <a href="../../../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the pure predicate <code>p</code> returns <code>true</code> for
all elements emitted by the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code>.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first mismatch. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><p>This variant terminates after finitely many steps and requires a proof that the iterator is
finite. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.all">IterM.all</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.all">Std.IterM.Total.all</a> <span class="fn">p</span> <span class="fn">it</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.all">Std.IterM.all</a> <span class="fn">p</span> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.all" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.findSomeM?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L599-L633">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSomeM?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">findSomeM?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span>)</span></span></div></div><p>Returns the first non-<code>none</code> result of applying the monadic function <code>f</code> to each output
of the iterator, in order. Returns <code>none</code> if <code>f</code> returns <code>none</code> for all outputs.</p><p><code>O(|it|)</code>. Short-circuits when <code>f</code> returns <code>some _</code>. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><p>If the iterator is not finite, this function might run forever. The variant
<code>it.ensureTermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSomeM?">findSomeM?</a></code> always terminates after finitely many steps.</p><p>Example:</p><pre><code class="language-lean">#eval ([7, 6, 5, 8, 1, 2, 6].iterM IO).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSomeM?">findSomeM?</a> fun i =&gt; do
  if i &lt; 5 then
    return some (i * 10)
  if i ≤ 6 then
    <a href="../../../../.././Init/System/IO.html#IO.println">IO.println</a> s!&quot;Almost! {i}&quot;
  return none
</code></pre><pre><code class="language-output">Almost! 6
Almost! 5
</code></pre><pre><code class="language-output">some 10
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.IterM.findSomeM?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.findSomeM?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L635-L665">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.findSomeM? (since := &quot;2025-12-04&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.findSomeM?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">findSomeM?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span>)</span></span></div></div><p>Returns the first non-<code>none</code> result of applying the monadic function <code>f</code> to each output
of the iterator, in order. Returns <code>none</code> if <code>f</code> returns <code>none</code> for all outputs.</p><p><code>O(|it|)</code>. Short-circuits when <code>f</code> returns <code>some _</code>. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><p>This function is deprecated. Instead of <code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSomeM?">findSomeM?</a></code>, use <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSomeM?">findSomeM?</a></code>.</p><p>Example:</p><pre><code class="language-lean">#eval ([7, 6, 5, 8, 1, 2, 6].iterM IO).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSomeM?">findSomeM?</a> fun i =&gt; do
  if i &lt; 5 then
    return some (i * 10)
  if i ≤ 6 then
    <a href="../../../../.././Init/System/IO.html#IO.println">IO.println</a> s!&quot;Almost! {i}&quot;
  return none
</code></pre><pre><code class="language-output">Almost! 6
Almost! 5
</code></pre><pre><code class="language-output">some 10
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.findSomeM?">findSomeM?</a></span> <span class="fn">f</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSomeM?">findSomeM?</a></span> <span class="fn">f</span></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.findSomeM?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.findSomeM?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L667-L698">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.findSomeM?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">findSomeM?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span>)</span></span></div></div><p>Returns the first non-<code>none</code> result of applying the monadic function <code>f</code> to each output
of the iterator, in order. Returns <code>none</code> if <code>f</code> returns <code>none</code> for all outputs.</p><p><code>O(|it|)</code>. Short-circuits when <code>f</code> returns <code>some _</code>. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are
examined in order of iteration.</p><p>This variant terminates after finitely many steps and requires a proof that the iterator is
finite. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSomeM?">IterM.findSomeM?</a></code>.</p><p>Example:</p><pre><code class="language-lean">#eval ([7, 6, 5, 8, 1, 2, 6].iterM IO).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSomeM?">findSomeM?</a> fun i =&gt; do
  if i &lt; 5 then
    return some (i * 10)
  if i ≤ 6 then
    <a href="../../../../.././Init/System/IO.html#IO.println">IO.println</a> s!&quot;Almost! {i}&quot;
  return none
</code></pre><pre><code class="language-output">Almost! 6
Almost! 5
</code></pre><pre><code class="language-output">some 10
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.findSomeM?">findSomeM?</a></span> <span class="fn">f</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSomeM?">findSomeM?</a></span> <span class="fn">f</span></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.findSomeM?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.findSome?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L700-L718">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">findSome?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span>)</span></span></div></div><p>Returns the first non-<code>none</code> result of applying <code>f</code> to each output of the iterator, in order.
Returns <code>none</code> if <code>f</code> returns <code>none</code> for all outputs.</p><p><code>O(|it|)</code>. Short-circuits when <code>f</code> returns <code>some _</code>.The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are examined in order of
iteration.</p><p>If the iterator is not finite, this function might run forever. The variant
<code>it.ensureTermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">findSome?</a></code> always terminates after finitely many steps.</p><p>Examples:</p><ul><li><code>([7, 6, 5, 8, 1, 2, 6].iterM Id).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">findSome?</a> (fun x =&gt; if x &lt; 5 then some (10 * x) else none) = pure (some 10)</code></li><li><code>([7, 6, 5, 8, 1, 2, 6].iterM Id).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">findSome?</a> (fun x =&gt; if x &lt; 1 then some (10 * x) else none) = pure none</code></li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">findSome?</a></span> <span class="fn">f</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSomeM?">findSomeM?</a></span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn">β</span>) =&gt; <span class="fn"><a href="../../../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn">f</span> <span class="fn">x</span>)</span></span></span></span></li></ul></details><details id="instances-for-list-Std.IterM.findSome?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.findSome?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L720-L737">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.findSome? (since := &quot;2025-12-04&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.findSome?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">findSome?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span>)</span></span></div></div><p>Returns the first non-<code>none</code> result of applying <code>f</code> to each output of the iterator, in order.
Returns <code>none</code> if <code>f</code> returns <code>none</code> for all outputs.</p><p><code>O(|it|)</code>. Short-circuits when <code>f</code> returns <code>some _</code>.The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are examined in order of
iteration.</p><p>This function is deprecated. Instead of <code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">findSome?</a></code>, use <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">findSome?</a></code>.</p><p>Examples:</p><ul><li><code>([7, 6, 5, 8, 1, 2, 6].iterM Id).allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">findSome?</a> (fun x =&gt; if x &lt; 5 then some (10 * x) else none) = pure (some 10)</code></li><li><code>([7, 6, 5, 8, 1, 2, 6].iterM Id).allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">findSome?</a> (fun x =&gt; if x &lt; 1 then some (10 * x) else none) = pure none</code></li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.findSome?">findSome?</a></span> <span class="fn">f</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">findSome?</a></span> <span class="fn">f</span></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.findSome?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.findSome?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L739-L757">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.findSome?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">findSome?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β </span><span class="fn">γ</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">γ</span>)</span></span></div></div><p>Returns the first non-<code>none</code> result of applying <code>f</code> to each output of the iterator, in order.
Returns <code>none</code> if <code>f</code> returns <code>none</code> for all outputs.</p><p><code>O(|it|)</code>. Short-circuits when <code>f</code> returns <code>some _</code>.The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are examined in order of
iteration.</p><p>This variant terminates after finitely many steps and requires a proof that the iterator is
finite. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">IterM.findSome?</a></code>.</p><p>Examples:</p><ul><li><code>([7, 6, 5, 8, 1, 2, 6].iterM Id).ensureTermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">findSome?</a> (fun x =&gt; if x &lt; 5 then some (10 * x) else none) = pure (some 10)</code></li><li><code>([7, 6, 5, 8, 1, 2, 6].iterM Id).ensureTermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">findSome?</a> (fun x =&gt; if x &lt; 1 then some (10 * x) else none) = pure none</code></li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.findSome?">Std.IterM.Total.findSome?</a> <span class="fn">it</span> <span class="fn">f</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSome?">findSome?</a></span> <span class="fn">f</span></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.findSome?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.findM?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L759-L790">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findM?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">findM?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">β</span>)</span></span></div></div><p>Returns the first output of the iterator for which the monadic predicate <code>p</code> returns <code>true</code>, or
<code>none</code> if no such element is found.</p><p><code>O(|it|)</code>. Short-circuits when <code>f</code> returns <code>true</code>. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are examined in order of
iteration.</p><p>If the iterator is not finite, this function might run forever. The variant
<code>it.ensureTermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findM?">findM?</a></code> always terminates after finitely many steps.</p><p>Example:</p><pre><code class="language-lean">#eval ([7, 6, 5, 8, 1, 2, 6].iterM IO).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findM?">findM?</a> fun i =&gt; do
  if i &lt; 5 then
    return true
  if i ≤ 6 then
    <a href="../../../../.././Init/System/IO.html#IO.println">IO.println</a> s!&quot;Almost! {i}&quot;
  return false
</code></pre><pre><code class="language-output">Almost! 6
Almost! 5
</code></pre><pre><code class="language-output">some 1
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findM?">findM?</a></span> <span class="fn">f</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findSomeM?">findSomeM?</a></span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn">β</span>) =&gt; <span class="fn">do
    let <span class="fn">__do_lift</span> ← <span class="fn"><span class="fn">f</span> <span class="fn">x</span></span>
    <span class="fn"><a href="../../../../.././Init/Prelude.html#Pure.pure">pure</a> (<a href="../../../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../../../../.././Init/Prelude.html#ULift.down">down</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../../../.././Init/Prelude.html#ite">then</a> <span class="fn"><a href="../../../../.././Init/Prelude.html#Option.some">some</a> <span class="fn">x</span></span> <a href="../../../../.././Init/Prelude.html#ite">else</a> <a href="../../../../.././Init/Prelude.html#Option.none">none</a>)</span></span></span></span></li></ul></details><details id="instances-for-list-Std.IterM.findM?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.findM?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L792-L822">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.findM? (since := &quot;2025-12-04&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.findM?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">findM?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">β</span>)</span></span></div></div><p>Returns the first output of the iterator for which the monadic predicate <code>p</code> returns <code>true</code>, or
<code>none</code> if no such element is found.</p><p><code>O(|it|)</code>. Short-circuits when <code>f</code> returns <code>true</code>. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are examined in order of
iteration.</p><p>This function is deprecated. Instead of <code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findM?">findM?</a></code>, use <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findM?">findM?</a></code>.</p><p>Example:</p><pre><code class="language-lean">#eval ([7, 6, 5, 8, 1, 2, 6].iterM IO).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findM?">findM?</a> fun i =&gt; do
  if i &lt; 5 then
    return true
  if i ≤ 6 then
    <a href="../../../../.././Init/System/IO.html#IO.println">IO.println</a> s!&quot;Almost! {i}&quot;
  return false
</code></pre><pre><code class="language-output">Almost! 6
Almost! 5
</code></pre><pre><code class="language-output">some 1
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.findM?">findM?</a></span> <span class="fn">f</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findM?">findM?</a></span> <span class="fn">f</span></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.findM?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.findM?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L824-L855">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.findM?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">findM?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">β</span>)</span></span></div></div><p>Returns the first output of the iterator for which the monadic predicate <code>p</code> returns <code>true</code>, or
<code>none</code> if no such element is found.</p><p><code>O(|it|)</code>. Short-circuits when <code>f</code> returns <code>true</code>. The outputs of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are examined in order of
iteration.</p><p>This variant requires terminates after finitely many steps and requires a proof that the iterator is
finite. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findM?">IterM.findM?</a></code>.</p><p>Example:</p><pre><code class="language-lean">#eval ([7, 6, 5, 8, 1, 2, 6].iterM IO).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findM?">findM?</a> fun i =&gt; do
  if i &lt; 5 then
    return true
  if i ≤ 6 then
    <a href="../../../../.././Init/System/IO.html#IO.println">IO.println</a> s!&quot;Almost! {i}&quot;
  return false
</code></pre><pre><code class="language-output">Almost! 6
Almost! 5
</code></pre><pre><code class="language-output">some 1
</code></pre><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.findM?">findM?</a></span> <span class="fn">f</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findM?">findM?</a></span> <span class="fn">f</span></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.findM?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.find?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L857-L875">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">find?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <a href="../../../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">β</span>)</span></span></div></div><p>Returns the first output of the iterator for which the predicate <code>p</code> returns <code>true</code>, or <code>none</code> if
no such output is found.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first match. The elements in <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are examined in
order of iteration.</p><p>If the iterator is not finite, this function might run forever. The variant
<code>it.ensureTermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">find?</a></code> always terminates after finitely many steps.</p><p>Examples:</p><ul><li><code>([7, 6, 5, 8, 1, 2, 6].iterM Id).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">find?</a> (· &lt; 5) = pure (some 1)</code></li><li><code>([7, 6, 5, 8, 1, 2, 6].iterM Id).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">find?</a> (· &lt; 1) = pure none</code></li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">find?</a></span> <span class="fn">f</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.findM?">findM?</a></span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn">β</span>) =&gt; <span class="fn"><a href="../../../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../../../.././Init/Prelude.html#ULift.up">{</a> <span class="fn">down</span> := <span class="fn"><span class="fn">f</span> <span class="fn">x</span></span> <a href="../../../../.././Init/Prelude.html#ULift.up">}</a></span></span></span></li></ul></details><details id="instances-for-list-Std.IterM.find?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.find?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L877-L894">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.find? (since := &quot;2025-12-04&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.find?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">find?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <a href="../../../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">β</span>)</span></span></div></div><p>Returns the first output of the iterator for which the predicate <code>p</code> returns <code>true</code>, or <code>none</code> if
no such output is found.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first match. The elements in <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are examined in
order of iteration.</p><p>This function is deprecated. Instead of <code>it.allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">find?</a></code>, use <code>it.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">find?</a></code>.</p><p>Examples:</p><ul><li><code>([7, 6, 5, 8, 1, 2, 6].iterM Id).allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">find?</a> (· &lt; 5) = pure (some 1)</code></li><li><code>([7, 6, 5, 8, 1, 2, 6].iterM Id).allowNontermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">find?</a> (· &lt; 1) = pure none</code></li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.find?">find?</a></span> <span class="fn">f</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">find?</a></span> <span class="fn">f</span></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.find?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.find?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L896-L914">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.find?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">find?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Finite">Iterators.Finite</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <a href="../../../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">β</span>)</span></span></div></div><p>Returns the first output of the iterator for which the predicate <code>p</code> returns <code>true</code>, or <code>none</code> if
no such output is found.</p><p><code>O(|it|)</code>. Short-circuits upon encountering the first match. The elements in <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are examined in
order of iteration.</p><p>This variant terminates after finitely many steps and requires a proof that the iterator is
finite. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">IterM.find?</a></code>.</p><p>Examples:</p><ul><li><code>([7, 6, 5, 8, 1, 2, 6].iterM Id).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">find?</a> (· &lt; 5) = pure (some 1)</code></li><li><code>([7, 6, 5, 8, 1, 2, 6].iterM Id).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">find?</a> (· &lt; 1) = pure none</code></li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.find?">find?</a></span> <span class="fn">f</span></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.find?">find?</a></span> <span class="fn">f</span></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.find?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.first?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L916-L933">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.first?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">first?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">β</span>)</span></span></div></div><p>Returns the first output of the iterator, or <code>none</code> if no such output is found.</p><p><code>O(|it|)</code> since the iterator may skip an unknown number of times before returning a result.
Short-circuits upon encountering the first result. Only the first element of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> is examined.</p><p>If the iterator is not productive, this function might run forever. The variant
<code>it.ensureTermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.first?">first?</a></code> always terminates after finitely many steps.</p><p>Examples:</p><ul><li><code>([7, 6].iterM Id).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.first?">first?</a> = pure (some 7)</code></li><li><code>([].iterM Id).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.first?">first?</a> = pure none</code></li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.IterM.first?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.first?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L935-L952">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.first?"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">first?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Productive">Iterators.Productive</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">β</span>)</span></span></div></div><p>Returns the first output of the iterator, or <code>none</code> if no such output is found.</p><p><code>O(|it|)</code> since the iterator may skip an unknown number of times before returning a result.
Short-circuits upon encountering the first result. The elements in <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> are examined in order of
iteration.</p><p>This variant terminates after finitely many steps and requires a proof that the iterator is
productive. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.first?">IterM.first?</a></code>.</p><p>Examples:</p><ul><li><code>([7, 6].iterM Id).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.first?">first?</a> = pure (some 7)</code></li><li><code>([].iterM Id).<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.first?">first?</a> = pure none</code></li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.first?">first?</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.first?">first?</a></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.first?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.isEmpty"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L955-L968">source</a></div><div class="attributes">@[always_inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.isEmpty"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">isEmpty</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> yields no values.</p><p><code>O(|it|)</code> since the iterator may skip an unknown number of times before returning a result.
Short-circuits upon encountering the first result. Only the first element of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> is examined.</p><p>If the iterator is not productive, this function might run forever. The variant
<code>it.ensureTermination.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.isEmpty">isEmpty</a></code> always terminates after finitely many steps.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.IterM.isEmpty" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Total.isEmpty"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L971-L984">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.isEmpty"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Total</span>.<span class="name">isEmpty</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterators.Productive">Iterators.Productive</a> <span class="fn">α</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total">Total</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Bool">Bool</a>)</span></span></div></div><p>Returns <code><a href="../../../../.././Init/Prelude.html#ULift.up">ULift.up</a> true</code> if the iterator <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> yields no values.</p><p><code>O(|it|)</code> since the iterator may skip an unknown number of times before returning a result.
Short-circuits upon encountering the first result. Only the first element of <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop.WithWF.it">it</a></code> is examined.</p><p>This variant terminates after finitely many steps and requires a proof that the iterator is
finite. If such a proof is not available, consider using <code><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.isEmpty">IterM.isEmpty</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Total.isEmpty">isEmpty</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Total.html#Std.IterM.Total.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.isEmpty">isEmpty</a></span></li></ul></details><details id="instances-for-list-Std.IterM.Total.isEmpty" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.length"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L988-L998">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.length"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">length</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Nat">Nat</a>)</span></span></div></div><p>Steps through the whole iterator, counting the number of outputs emitted.</p><p><strong>Performance</strong>:</p><p>This function's runtime is linear in the number of steps taken by the iterator.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.length">length</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.fold">Std.IterM.fold</a> <span class="fn">(fun (<span class="fn">acc</span> : <span class="fn"><a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Nat">Nat</a></span>) (<span class="fn">x</span> : <span class="fn">β</span>) =&gt; <a href="../../../../.././Init/Prelude.html#ULift.up">{</a> <span class="fn">down</span> := <span class="fn"><span class="fn">acc</span>.<a href="../../../../.././Init/Prelude.html#ULift.down">down</a></span> <a href="../../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span> <a href="../../../../.././Init/Prelude.html#ULift.up">}</a>)</span> <a href="../../../../.././Init/Prelude.html#ULift.up">{</a> <span class="fn">down</span> := <span class="fn">0</span> <a href="../../../../.././Init/Prelude.html#ULift.up">}</a> <span class="fn">it</span></span></li></ul></details><details id="instances-for-list-Std.IterM.length" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.count"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L1000-L1001">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.length (since := &quot;2026-01-28&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.count"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">count</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> u_1 → <a href="../../../../.././foundational_types.html">Type</a> u_2</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Nat">Nat</a>)</span></span></div></div><p>Steps through the whole iterator, counting the number of outputs emitted.</p><p><strong>Performance</strong>:</p><p>This function's runtime is linear in the number of steps taken by the iterator.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">@<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.count">Std.IterM.count</a> <a href="../../../../.././Init/Prelude.html#Eq">=</a> @<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.length">Std.IterM.length</a></li></ul></details><details id="instances-for-list-Std.IterM.count" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.size"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L1003-L1004">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.length (since := &quot;2025-10-29&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.size"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">size</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> u_1 → <a href="../../../../.././foundational_types.html">Type</a> u_2</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.IterM">IterM</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Nat">Nat</a>)</span></span></div></div><p>Steps through the whole iterator, counting the number of outputs emitted.</p><p><strong>Performance</strong>:</p><p>This function's runtime is linear in the number of steps taken by the iterator.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">@<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.size">Std.IterM.size</a> <a href="../../../../.././Init/Prelude.html#Eq">=</a> @<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.length">Std.IterM.length</a></li></ul></details><details id="instances-for-list-Std.IterM.size" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.count"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L1006-L1016">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.length (since := &quot;2025-12-04&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.count"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">count</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Nat">Nat</a>)</span></span></div></div><p>Steps through the whole iterator, counting the number of outputs emitted.</p><p><strong>Performance</strong>:</p><p>This function's runtime is linear in the number of steps taken by the iterator.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.count">count</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.fold">Std.IterM.fold</a> <span class="fn">(fun (<span class="fn">acc</span> : <span class="fn"><a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Nat">Nat</a></span>) (<span class="fn">x</span> : <span class="fn">β</span>) =&gt; <a href="../../../../.././Init/Prelude.html#ULift.up">{</a> <span class="fn">down</span> := <span class="fn"><span class="fn">acc</span>.<a href="../../../../.././Init/Prelude.html#ULift.down">down</a></span> <a href="../../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span> <a href="../../../../.././Init/Prelude.html#ULift.up">}</a>)</span> <a href="../../../../.././Init/Prelude.html#ULift.up">{</a> <span class="fn">down</span> := <span class="fn">0</span> <a href="../../../../.././Init/Prelude.html#ULift.up">}</a> <span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.count" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.IterM.Partial.size"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Init/Data/Iterators/Consumers/Monadic/Loop.lean#L1018-L1028">source</a></div><div class="attributes">@[inline, deprecated Std.IterM.length (since := &quot;2025-10-29&quot;)]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.size"><span class="name">Std</span>.<span class="name">IterM</span>.<span class="name">Partial</span>.<span class="name">size</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../../../.././foundational_types.html">Type</a> w → <a href="../../../../.././foundational_types.html">Type</a> w'</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../../.././foundational_types.html">Type</a> w}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Basic.html#Std.Iterator">Iterator</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">β</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IteratorLoop">IteratorLoop</a> <span class="fn">α</span> <span class="fn">m</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">it</span> : <span class="fn"><a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial">Partial</a> <span class="fn">m</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../../../../.././Init/Prelude.html#ULift">ULift</a> <a href="../../../../.././Init/Prelude.html#Nat">Nat</a>)</span></span></div></div><p>Steps through the whole iterator, counting the number of outputs emitted.</p><p><strong>Performance</strong>:</p><p>This function's runtime is linear in the number of steps taken by the iterator.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.Partial.size">size</a></span> <a href="../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">it</span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Partial.html#Std.IterM.Partial.it">it</a></span>.<a href="../../../../.././Init/Data/Iterators/Consumers/Monadic/Loop.html#Std.IterM.length">length</a></span></li></ul></details><details id="instances-for-list-Std.IterM.Partial.size" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>