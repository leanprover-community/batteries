<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Init.Data.BitVec.Bitblast</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Init.Data.BitVec.Bitblast";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Init</span>.<span class="name">Data</span>.<span class="name">BitVec</span>.<span class="name">Bitblast</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init/BinderPredicates.html">Init.BinderPredicates</a></li><li><a href="../../.././Init/Data/BitVec/Basic.html">Init.Data.BitVec.Basic</a></li><li><a href="../../.././Init/Data/BitVec/Decidable.html">Init.Data.BitVec.Decidable</a></li><li><a href="../../.././Init/Data/BitVec/Folds.html">Init.Data.BitVec.Folds</a></li><li><a href="../../.././Init/Data/Int/DivMod.html">Init.Data.Int.DivMod</a></li><li><a href="../../.././Init/Data/Int/DivMod.html">Init.Data.Int.DivMod</a></li><li><a href="../../.././Init/Data/Nat/Bitwise/Basic.html">Init.Data.Nat.Bitwise.Basic</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Init.Data.BitVec.Bitblast" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo"><span class="name">Bool</span>.<span class="name">atLeastTwo</span></a></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo_false_left"><span class="name">Bool</span>.<span class="name">atLeastTwo_false_left</span></a></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo_false_mid"><span class="name">Bool</span>.<span class="name">atLeastTwo_false_mid</span></a></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo_false_right"><span class="name">Bool</span>.<span class="name">atLeastTwo_false_right</span></a></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo_true_left"><span class="name">Bool</span>.<span class="name">atLeastTwo_true_left</span></a></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo_true_mid"><span class="name">Bool</span>.<span class="name">atLeastTwo_true_mid</span></a></div><div class="nav_link"><a class="break_within" href="#Bool.atLeastTwo_true_right"><span class="name">Bool</span>.<span class="name">atLeastTwo_true_right</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry"><span class="name">BitVec</span>.<span class="name">carry</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry_zero"><span class="name">BitVec</span>.<span class="name">carry_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry_succ"><span class="name">BitVec</span>.<span class="name">carry_succ</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry_succ_one"><span class="name">BitVec</span>.<span class="name">carry_succ_one</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">carry_of_and_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry_width"><span class="name">BitVec</span>.<span class="name">carry_width</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toNat_add_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">toNat_add_of_and_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.adcb"><span class="name">BitVec</span>.<span class="name">adcb</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.adc"><span class="name">BitVec</span>.<span class="name">adc</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_add_add_bool"><span class="name">BitVec</span>.<span class="name">getLsbD_add_add_bool</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_add"><span class="name">BitVec</span>.<span class="name">getLsbD_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_add_add_bool"><span class="name">BitVec</span>.<span class="name">getElem_add_add_bool</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_add"><span class="name">BitVec</span>.<span class="name">getElem_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.adc_spec"><span class="name">BitVec</span>.<span class="name">adc_spec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.add_eq_adc"><span class="name">BitVec</span>.<span class="name">add_eq_adc</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_add"><span class="name">BitVec</span>.<span class="name">getMsbD_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_add"><span class="name">BitVec</span>.<span class="name">msb_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.add_not_self"><span class="name">BitVec</span>.<span class="name">add_not_self</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.allOnes_sub_eq_not"><span class="name">BitVec</span>.<span class="name">allOnes_sub_eq_not</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.add_eq_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">add_eq_or_of_and_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_sub"><span class="name">BitVec</span>.<span class="name">getLsbD_sub</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_sub"><span class="name">BitVec</span>.<span class="name">getMsbD_sub</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_sub"><span class="name">BitVec</span>.<span class="name">getElem_sub</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_sub"><span class="name">BitVec</span>.<span class="name">msb_sub</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.bit_not_testBit"><span class="name">BitVec</span>.<span class="name">bit_not_testBit</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.bit_not_add_self"><span class="name">BitVec</span>.<span class="name">bit_not_add_self</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.bit_not_eq_not"><span class="name">BitVec</span>.<span class="name">bit_not_eq_not</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.bit_neg_eq_neg"><span class="name">BitVec</span>.<span class="name">bit_neg_eq_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_neg"><span class="name">BitVec</span>.<span class="name">getLsbD_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_neg"><span class="name">BitVec</span>.<span class="name">getElem_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_neg"><span class="name">BitVec</span>.<span class="name">getMsbD_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_neg"><span class="name">BitVec</span>.<span class="name">msb_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.signExtend_neg_of_le"><span class="name">BitVec</span>.<span class="name">signExtend_neg_of_le</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.signExtend_neg_of_ne_intMin"><span class="name">BitVec</span>.<span class="name">signExtend_neg_of_ne_intMin</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_abs"><span class="name">BitVec</span>.<span class="name">msb_abs</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ult_eq_not_carry"><span class="name">BitVec</span>.<span class="name">ult_eq_not_carry</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ule_eq_carry"><span class="name">BitVec</span>.<span class="name">ule_eq_carry</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.slt_eq_not_carry"><span class="name">BitVec</span>.<span class="name">slt_eq_not_carry</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sle_eq_carry"><span class="name">BitVec</span>.<span class="name">sle_eq_carry</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.neg_slt_zero"><span class="name">BitVec</span>.<span class="name">neg_slt_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.neg_sle_zero"><span class="name">BitVec</span>.<span class="name">neg_sle_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.mulRec"><span class="name">BitVec</span>.<span class="name">mulRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.mulRec_zero_eq"><span class="name">BitVec</span>.<span class="name">mulRec_zero_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.mulRec_succ_eq"><span class="name">BitVec</span>.<span class="name">mulRec_succ_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow"><span class="name">BitVec</span>.<span class="name">setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.mulRec_eq_mul_signExtend_setWidth"><span class="name">BitVec</span>.<span class="name">mulRec_eq_mul_signExtend_setWidth</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_mul"><span class="name">BitVec</span>.<span class="name">getLsbD_mul</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.mul_eq_mulRec"><span class="name">BitVec</span>.<span class="name">mul_eq_mulRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_mul"><span class="name">BitVec</span>.<span class="name">getMsbD_mul</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_mul"><span class="name">BitVec</span>.<span class="name">getElem_mul</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeftRec"><span class="name">BitVec</span>.<span class="name">shiftLeftRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeftRec_zero"><span class="name">BitVec</span>.<span class="name">shiftLeftRec_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeftRec_succ"><span class="name">BitVec</span>.<span class="name">shiftLeftRec_succ</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeft_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">shiftLeft_or_of_and_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeftRec_eq"><span class="name">BitVec</span>.<span class="name">shiftLeftRec_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeft_eq_shiftLeftRec"><span class="name">BitVec</span>.<span class="name">shiftLeft_eq_shiftLeftRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.udiv_eq_of_mul_add_toNat"><span class="name">BitVec</span>.<span class="name">udiv_eq_of_mul_add_toNat</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.umod_eq_of_mul_add_toNat"><span class="name">BitVec</span>.<span class="name">umod_eq_of_mul_add_toNat</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState"><span class="name">BitVec</span>.<span class="name">DivModState</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModArgs"><span class="name">BitVec</span>.<span class="name">DivModArgs</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.Lawful"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">Lawful</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.Lawful.hw"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">Lawful</span>.<span class="name">hw</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.init"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">init</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.lawful_init"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">lawful_init</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.udiv_eq_of_lawful"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">udiv_eq_of_lawful</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.umod_eq_of_lawful"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">umod_eq_of_lawful</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.Poised"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">Poised</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.wr_lt_w"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">wr_lt_w</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.divSubtractShift"><span class="name">BitVec</span>.<span class="name">divSubtractShift</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.DivModState.toNat_shiftRight_sub_one_eq"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">toNat_shiftRight_sub_one_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.lawful_divSubtractShift"><span class="name">BitVec</span>.<span class="name">lawful_divSubtractShift</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.divRec"><span class="name">BitVec</span>.<span class="name">divRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.divRec_zero"><span class="name">BitVec</span>.<span class="name">divRec_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.divRec_succ"><span class="name">BitVec</span>.<span class="name">divRec_succ</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.lawful_divRec"><span class="name">BitVec</span>.<span class="name">lawful_divRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.wn_divRec"><span class="name">BitVec</span>.<span class="name">wn_divRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.udiv_eq_divRec"><span class="name">BitVec</span>.<span class="name">udiv_eq_divRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.umod_eq_divRec"><span class="name">BitVec</span>.<span class="name">umod_eq_divRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.divRec_succ'"><span class="name">BitVec</span>.<span class="name">divRec_succ'</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_udiv"><span class="name">BitVec</span>.<span class="name">getElem_udiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_udiv"><span class="name">BitVec</span>.<span class="name">getLsbD_udiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_udiv"><span class="name">BitVec</span>.<span class="name">getMsbD_udiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sshiftRightRec"><span class="name">BitVec</span>.<span class="name">sshiftRightRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sshiftRightRec_zero_eq"><span class="name">BitVec</span>.<span class="name">sshiftRightRec_zero_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sshiftRightRec_succ_eq"><span class="name">BitVec</span>.<span class="name">sshiftRightRec_succ_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sshiftRight'_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">sshiftRight'_or_of_and_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sshiftRightRec_eq"><span class="name">BitVec</span>.<span class="name">sshiftRightRec_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sshiftRight_eq_sshiftRightRec"><span class="name">BitVec</span>.<span class="name">sshiftRight_eq_sshiftRightRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ushiftRightRec"><span class="name">BitVec</span>.<span class="name">ushiftRightRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ushiftRightRec_zero"><span class="name">BitVec</span>.<span class="name">ushiftRightRec_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ushiftRightRec_succ"><span class="name">BitVec</span>.<span class="name">ushiftRightRec_succ</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ushiftRight'_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">ushiftRight'_or_of_and_eq_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ushiftRightRec_eq"><span class="name">BitVec</span>.<span class="name">ushiftRightRec_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftRight_eq_ushiftRightRec"><span class="name">BitVec</span>.<span class="name">shiftRight_eq_ushiftRightRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.uaddOverflow_eq"><span class="name">BitVec</span>.<span class="name">uaddOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.saddOverflow_eq"><span class="name">BitVec</span>.<span class="name">saddOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.usubOverflow_eq"><span class="name">BitVec</span>.<span class="name">usubOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ssubOverflow_eq"><span class="name">BitVec</span>.<span class="name">ssubOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.negOverflow_eq"><span class="name">BitVec</span>.<span class="name">negOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sdivOverflow_eq"><span class="name">BitVec</span>.<span class="name">sdivOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.umulOverflow_eq"><span class="name">BitVec</span>.<span class="name">umulOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.smulOverflow_eq"><span class="name">BitVec</span>.<span class="name">smulOverflow_eq</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_umod"><span class="name">BitVec</span>.<span class="name">getElem_umod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_umod"><span class="name">BitVec</span>.<span class="name">getLsbD_umod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_umod"><span class="name">BitVec</span>.<span class="name">getMsbD_umod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.eq_iff_eq_of_inv"><span class="name">BitVec</span>.<span class="name">eq_iff_eq_of_inv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ne_intMin_of_lt_of_msb_false"><span class="name">BitVec</span>.<span class="name">ne_intMin_of_lt_of_msb_false</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.ne_zero_of_msb_true"><span class="name">BitVec</span>.<span class="name">ne_zero_of_msb_true</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_neg_of_ne_intMin_of_ne_zero"><span class="name">BitVec</span>.<span class="name">msb_neg_of_ne_intMin_of_ne_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.udiv_intMin_of_msb_false"><span class="name">BitVec</span>.<span class="name">udiv_intMin_of_msb_false</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sdiv_intMin"><span class="name">BitVec</span>.<span class="name">sdiv_intMin</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sdiv_neg"><span class="name">BitVec</span>.<span class="name">sdiv_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.neg_sdiv"><span class="name">BitVec</span>.<span class="name">neg_sdiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.neg_sdiv_neg"><span class="name">BitVec</span>.<span class="name">neg_sdiv_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.intMin_eq_neg_two_pow"><span class="name">BitVec</span>.<span class="name">intMin_eq_neg_two_pow</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_intMin_eq_bmod"><span class="name">BitVec</span>.<span class="name">toInt_intMin_eq_bmod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_bmod_cancel"><span class="name">BitVec</span>.<span class="name">toInt_bmod_cancel</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sdiv_ne_intMin_of_ne_intMin"><span class="name">BitVec</span>.<span class="name">sdiv_ne_intMin_of_ne_intMin</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_eq_neg_toNat_neg_of_msb_true"><span class="name">BitVec</span>.<span class="name">toInt_eq_neg_toNat_neg_of_msb_true</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_eq_neg_toNat_neg_of_nonpos"><span class="name">BitVec</span>.<span class="name">toInt_eq_neg_toNat_neg_of_nonpos</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.intMin_udiv_eq_intMin_iff"><span class="name">BitVec</span>.<span class="name">intMin_udiv_eq_intMin_iff</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.intMin_udiv_ne_zero_of_ne_zero"><span class="name">BitVec</span>.<span class="name">intMin_udiv_ne_zero_of_ne_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_sdiv_of_ne_or_ne"><span class="name">BitVec</span>.<span class="name">toInt_sdiv_of_ne_or_ne</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.intMin_sdiv_neg_one"><span class="name">BitVec</span>.<span class="name">intMin_sdiv_neg_one</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_sdiv"><span class="name">BitVec</span>.<span class="name">toInt_sdiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_sdiv"><span class="name">BitVec</span>.<span class="name">getElem_sdiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_sdiv"><span class="name">BitVec</span>.<span class="name">getLsbD_sdiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_sdiv"><span class="name">BitVec</span>.<span class="name">getMsbD_sdiv</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_sdiv_eq_decide"><span class="name">BitVec</span>.<span class="name">msb_sdiv_eq_decide</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_umod_eq_false_of_left"><span class="name">BitVec</span>.<span class="name">msb_umod_eq_false_of_left</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_umod_of_le_of_ne_zero_of_le"><span class="name">BitVec</span>.<span class="name">msb_umod_of_le_of_ne_zero_of_le</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_srem"><span class="name">BitVec</span>.<span class="name">getElem_srem</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_srem"><span class="name">BitVec</span>.<span class="name">getLsbD_srem</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_srem"><span class="name">BitVec</span>.<span class="name">getMsbD_srem</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_srem"><span class="name">BitVec</span>.<span class="name">toInt_srem</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_intMin_umod_neg_of_msb_true"><span class="name">BitVec</span>.<span class="name">msb_intMin_umod_neg_of_msb_true</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_neg_umod_neg_of_msb_true_of_msb_true"><span class="name">BitVec</span>.<span class="name">msb_neg_umod_neg_of_msb_true_of_msb_true</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_dvd_toInt_iff"><span class="name">BitVec</span>.<span class="name">toInt_dvd_toInt_iff</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_dvd_toInt_iff_of_msb_true_msb_false"><span class="name">BitVec</span>.<span class="name">toInt_dvd_toInt_iff_of_msb_true_msb_false</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_dvd_toInt_iff_of_msb_false_msb_true"><span class="name">BitVec</span>.<span class="name">toInt_dvd_toInt_iff_of_msb_false_msb_true</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.neg_toInt_neg_umod_eq_of_msb_true_msb_true"><span class="name">BitVec</span>.<span class="name">neg_toInt_neg_umod_eq_of_msb_true_msb_true</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_umod_neg_add"><span class="name">BitVec</span>.<span class="name">toInt_umod_neg_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_sub_neg_umod"><span class="name">BitVec</span>.<span class="name">toInt_sub_neg_umod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.srem_zero_of_dvd"><span class="name">BitVec</span>.<span class="name">srem_zero_of_dvd</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_srem"><span class="name">BitVec</span>.<span class="name">msb_srem</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.toInt_smod"><span class="name">BitVec</span>.<span class="name">toInt_smod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getElem_smod"><span class="name">BitVec</span>.<span class="name">getElem_smod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getLsbD_smod"><span class="name">BitVec</span>.<span class="name">getLsbD_smod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.getMsbD_smod"><span class="name">BitVec</span>.<span class="name">getMsbD_smod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.msb_smod"><span class="name">BitVec</span>.<span class="name">msb_smod</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.add_sub_comm"><span class="name">BitVec</span>.<span class="name">add_sub_comm</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.sub_add_comm"><span class="name">BitVec</span>.<span class="name">sub_add_comm</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.not_add_one"><span class="name">BitVec</span>.<span class="name">not_add_one</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.not_add_eq_not_neg"><span class="name">BitVec</span>.<span class="name">not_add_eq_not_neg</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.not_sub_one_eq_not_add_one"><span class="name">BitVec</span>.<span class="name">not_sub_one_eq_not_add_one</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.not_sub_eq_not_add"><span class="name">BitVec</span>.<span class="name">not_sub_eq_not_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.carry_extractLsb'_eq_carry"><span class="name">BitVec</span>.<span class="name">carry_extractLsb'_eq_carry</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.extractLsb'_add"><span class="name">BitVec</span>.<span class="name">extractLsb'_add</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.extractLsb'_mul"><span class="name">BitVec</span>.<span class="name">extractLsb'_mul</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.append_zero_add_zero_append"><span class="name">BitVec</span>.<span class="name">append_zero_add_zero_append</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.zero_append_add_append_zero"><span class="name">BitVec</span>.<span class="name">zero_append_add_append_zero</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.add_shiftLeft_eq_or_shiftLeft"><span class="name">BitVec</span>.<span class="name">add_shiftLeft_eq_or_shiftLeft</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.shiftLeft_add_eq_shiftLeft_or"><span class="name">BitVec</span>.<span class="name">shiftLeft_add_eq_shiftLeft_or</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.uppcRec"><span class="name">BitVec</span>.<span class="name">uppcRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.uppcRec_true_iff"><span class="name">BitVec</span>.<span class="name">uppcRec_true_iff</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.aandRec"><span class="name">BitVec</span>.<span class="name">aandRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.resRec"><span class="name">BitVec</span>.<span class="name">resRec</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.resRec_true_iff"><span class="name">BitVec</span>.<span class="name">resRec_true_iff</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.resRec_of_clz_le"><span class="name">BitVec</span>.<span class="name">resRec_of_clz_le</span></a></div><div class="nav_link"><a class="break_within" href="#BitVec.fastUmulOverflow"><span class="name">BitVec</span>.<span class="name">fastUmulOverflow</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Bit-blasting-of-bitvectors">Bit blasting of bitvectors <a class="hover-link" href="#Bit-blasting-of-bitvectors">#</a></h1><p>This module provides theorems for showing the equivalence between BitVec operations using
the <code><a href="../../.././Init/Prelude.html#Fin">Fin</a> 2^n</code> representation and Boolean vectors.  It is still under development, but
intended to provide a path for converting SAT and SMT solver proofs about BitVectors
as vectors of bits into proofs about Lean <code><a href="../../.././Init/Prelude.html#BitVec">BitVec</a></code> values.</p><p>The module is named for the bit-blasting operation in an SMT solver that converts bitvector
expressions into expressions about individual bits in each vector.</p><h3 class="markdown-heading" id="Example-How-bit-blasting-works-for-multiplication">Example: How bit blasting works for multiplication <a class="hover-link" href="#Example-How-bit-blasting-works-for-multiplication">#</a></h3><p>We explain how the lemmas here are used for bit blasting,
by using multiplication as a prototypical example.
Other bit blasters for other operations follow the same pattern.
To bit blast a multiplication of the form <code>x * y</code>,
we must unfold the above into a form that the SAT solver understands.</p><p>We assume that the solver already knows how to bit blast addition.
This is known to <code>bv_decide</code>, by exploiting the lemma <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_eq_adc">add_eq_adc</a></code>,
which says that <code>x + y : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> w</code> equals <code>(adc x y false).2</code>,
where <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc">adc</a></code> builds an add-carry circuit in terms of the primitive operations
(bitwise and, bitwise or, bitwise xor) that bv_decide already understands.
In this way, we layer bit blasters on top of each other,
by reducing the multiplication bit blaster to an addition operation.</p><p>The core lemma is given by <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_mul">getLsbD_mul</a></code>:</p><pre><code class="language-lean"> x y : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> w ⊢ (x * y).getLsbD i = (mulRec x y w).getLsbD i
</code></pre><p>Which says that the <code>i</code>th bit of <code>x * y</code> can be obtained by
evaluating the <code>i</code>th bit of <code>(mulRec x y w)</code>.
Once again, we assume that <code>bv_decide</code> knows how to implement <code>getLsbD</code>,
given that <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></code> can be understood by <code>bv_decide</code>.</p><p>We write two lemmas to enable <code>bv_decide</code> to unfold <code>(mulRec x y w)</code>
into a complete circuit, <strong>when <code>w</code> is a known constant</strong><code>. This is given by two recurrence lemmas, </code>mulRec_zero_eq<code>and</code>mulRec_succ_eq<code>, which are applied repeatedly when the width is </code>0<code>and when the width is</code>w' + 1`:</p><pre><code class="language-lean"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_zero_eq">mulRec_zero_eq</a> :
    <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a> x y 0 =
      if y.getLsbD 0 then x else 0

<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_succ_eq">mulRec_succ_eq</a>
    <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a> x y (s + 1) =
      <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a> x y s +
      if y.getLsbD (s + 1) then (x &lt;&lt;&lt; (s + 1)) else 0 := <a href="../../.././Init/Prelude.html#rfl">rfl</a>
</code></pre><p>By repeatedly applying the lemmas <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_zero_eq">mulRec_zero_eq</a></code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_succ_eq">mulRec_succ_eq</a></code>,
one obtains a circuit for multiplication.
Note that this circuit uses <code><a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.add">BitVec.add</a></code>, <code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">BitVec.getLsbD</a></code>, <code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.shiftLeft">BitVec.shiftLeft</a></code>.
Here, <code><a href="../../.././Init/Data/BitVec/BasicAux.html#BitVec.add">BitVec.add</a></code> and <code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.shiftLeft">BitVec.shiftLeft</a></code> are (recursively) bit blasted by <code>bv_decide</code>,
using the lemmas <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_eq_adc">add_eq_adc</a></code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeft_eq_shiftLeftRec">shiftLeft_eq_shiftLeftRec</a></code>,
and <code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">BitVec.getLsbD</a></code> is a primitive that <code>bv_decide</code> knows how to reduce to SAT.</p><p>The two lemmas, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_zero_eq">mulRec_zero_eq</a></code>, and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_succ_eq">mulRec_succ_eq</a></code>,
are used in <code>Std.Tactic.BVDecide.BVExpr.bitblast.blastMul</code>
to prove the correctness of the circuit that is built by <code>bv_decide</code>.</p><pre><code class="language-lean">def blastMul (aig : AIG BVBit) (input : AIG.BinaryRefVec aig w) : AIG.RefVecEntry BVBit w
theorem denote_blastMul (aig : AIG BVBit) (lhs rhs : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> w) (assign : Assignment) :
   ...
   ⟦(blastMul aig input).aig, (blastMul aig input).vec[idx], assign.toAIGAssignment⟧
     =
   (lhs * rhs).getLsbD idx
</code></pre><p>The definition and theorem above are internal to <code>bv_decide</code>,
and use <code>mulRec_{zero,succ}_eq</code> to prove that the circuit built by <code>bv_decide</code>
computes the correct value for multiplication.</p><p>To zoom out, therefore, we follow two steps:
First, we prove bitvector lemmas to unfold a high-level operation (such as multiplication)
into already bit blastable operations (such as addition and left shift).
We then use these lemmas to prove the correctness of the circuit that <code>bv_decide</code> builds.</p><p>We use this workflow to implement bit blasting for all SMT-LIB v2 operations.</p><h2 class="markdown-heading" id="Main-results">Main results <a class="hover-link" href="#Main-results">#</a></h2><ul>
<li><code>x + y : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> w</code> is <code>(adc x y false).2</code>.</li>
</ul><h2 class="markdown-heading" id="Future-work">Future work <a class="hover-link" href="#Future-work">#</a></h2><p>All other operations are to be PR'ed later and are already proved in
<a href="https://github.com/mhk119/lean-smt/blob/bitvec/Smt/Data/Bitwise.lean">https://github.com/mhk119/lean-smt/blob/bitvec/Smt/Data/Bitwise.lean</a>.</p></div><div class="decl" id="Bool.atLeastTwo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L120-L126">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo"><span class="name">Bool</span>.<span class="name">atLeastTwo</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b </span><span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>At least two out of three Booleans are true.</p><p>This function is typically used to model addition of binary numbers, to combine a carry bit with two
addend bits.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">b</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn">a</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">c</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">c</span>)</li></ul></details><details id="instances-for-list-Bool.atLeastTwo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Bool.atLeastTwo_false_left"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L128-L128">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo_false_left"><span class="name">Bool</span>.<span class="name">atLeastTwo_false_left</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">b </span><span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Bool.false">false</a>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">b</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">c</span>)</div></div></div></div><div class="decl" id="Bool.atLeastTwo_false_mid"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L129-L129">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo_false_mid"><span class="name">Bool</span>.<span class="name">atLeastTwo_false_mid</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a </span><span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <a href="../../.././Init/Prelude.html#Bool.false">false</a> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">c</span>)</div></div></div></div><div class="decl" id="Bool.atLeastTwo_false_right"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L130-L130">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo_false_right"><span class="name">Bool</span>.<span class="name">atLeastTwo_false_right</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a </span><span class="fn">b</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">b</span>)</div></div></div></div><div class="decl" id="Bool.atLeastTwo_true_left"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L131-L131">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo_true_left"><span class="name">Bool</span>.<span class="name">atLeastTwo_true_left</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">b </span><span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#Bool.true">true</a>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">b</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn">c</span>)</div></div></div></div><div class="decl" id="Bool.atLeastTwo_true_mid"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L132-L132">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo_true_mid"><span class="name">Bool</span>.<span class="name">atLeastTwo_true_mid</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a </span><span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn">c</span>)</div></div></div></div><div class="decl" id="Bool.atLeastTwo_true_right"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L133-L133">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo_true_right"><span class="name">Bool</span>.<span class="name">atLeastTwo_true_right</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a </span><span class="fn">b</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">b</span> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn">b</span>)</div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Preliminaries">Preliminaries <a class="hover-link" href="#Preliminaries">#</a></h3></div><div class="mod_doc"><h3 class="markdown-heading" id="Addition">Addition <a class="hover-link" href="#Addition">#</a></h3></div><div class="decl" id="BitVec.carry"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L175-L177">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry"><span class="name">BitVec</span>.<span class="name">carry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>carry i x y c returns true if the <code>i</code> carry bit is true when computing <code>x + y + c</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">BitVec.carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">c</span>.<a href="../../.././Init/Data/Bool.html#Bool.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#GE.ge">≥</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">i</span>)</span></li></ul></details><details id="instances-for-list-BitVec.carry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.carry_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L179-L180">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry_zero"><span class="name">BitVec</span>.<span class="name">carry_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w✝</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w✝</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">0</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">c</span></div></div></div></div><div class="decl" id="BitVec.carry_succ"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L182-L189">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry_succ"><span class="name">BitVec</span>.<span class="name">carry_succ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">(<span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span>)</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span>)</span></span></div></div></div></div><div class="decl" id="BitVec.carry_succ_one"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L191-L213">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry_succ_one"><span class="name">BitVec</span>.<span class="name">carry_succ_one</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">x</span> (1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Bool.false">false</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> <span class="fn">(∀ (<span class="fn">j</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>), <span class="fn"><span class="fn">j</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">i</span> → <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">j</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</span></span></div></div></div></div><div class="decl" id="BitVec.carry_of_and_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L215-L226">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">carry_of_and_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></div></div><p>If <code>x &amp;&amp;&amp; y = 0</code>, then the carry bit <code>(x + y + 0)</code> is always <code>false</code> for any index <code>i</code>.
Intuitively, this is because a carry is only produced when at least two of <code>x</code>, <code>y</code>, and the
previous carry are true. However, since <code>x &amp;&amp;&amp; y = 0</code>, at most one of <code>x, y</code> can be true,
and thus we never have a previous carry, which means that the sum cannot produce a carry.</p></div></div><div class="decl" id="BitVec.carry_width"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L228-L231">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry_width"><span class="name">BitVec</span>.<span class="name">carry_width</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">w</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">c</span>.<a href="../../.././Init/Data/Bool.html#Bool.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#GE.ge">≥</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">w</span>)</span></div></div><p>The final carry bit when computing <code>x + y + c</code> is <code>true</code> iff <code>x.toNat + y.toNat + c.toNat ≥ 2^w</code>.</p></div></div><div class="decl" id="BitVec.toNat_add_of_and_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L233-L244">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toNat_add_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">toNat_add_of_and_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></div></div><p>If <code>x &amp;&amp;&amp; y = 0</code>, then addition does not overflow, and thus <code>(x + y).toNat = x.toNat + y.toNat</code>.</p></div></div><div class="decl" id="BitVec.adcb"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L246-L247">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adcb"><span class="name">BitVec</span>.<span class="name">adcb</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y </span><span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Carry function for bitwise addition.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adcb">BitVec.adcb</a> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#Bool.atLeastTwo">atLeastTwo</a></span> <span class="fn">y</span> <span class="fn">c</span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">x</span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn">y</span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn">c</span>)<a href="../../.././Init/Prelude.html#Prod.mk">)</a></li></ul></details><details id="instances-for-list-BitVec.adcb" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.adc"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L249-L251">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc"><span class="name">BitVec</span>.<span class="name">adc</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Bool">Bool</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></span></div></div><p>Bitwise addition implemented via a ripple carry adder.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc">adc</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Folds.html#BitVec.iunfoldr">BitVec.iunfoldr</a> <span class="fn">fun (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">w</span></span>) (<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>) =&gt; <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adcb">BitVec.adcb</a> <span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">↑<span class="fn">i</span></span>)</span> <span class="fn">(<span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">↑<span class="fn">i</span></span>)</span> <span class="fn">c</span></span></span></span></li></ul></details><details id="instances-for-list-BitVec.adc" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.getLsbD_add_add_bool"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L253-L272">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_add_add_bool"><span class="name">BitVec</span>.<span class="name">getLsbD_add_add_bool</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ofBool">ofBool</a> <span class="fn">c</span>)</span></span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span>))</div></div></div></div><div class="decl" id="BitVec.getLsbD_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L274-L277">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_add"><span class="name">BitVec</span>.<span class="name">getLsbD_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.getElem_add_add_bool"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L279-L284">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_add_add_bool"><span class="name">BitVec</span>.<span class="name">getElem_add_add_bool</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ofBool">ofBool</a> <span class="fn">c</span>)</span></span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn">y</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span>))</div></div></div></div><div class="decl" id="BitVec.getElem_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L286-L288">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_add"><span class="name">BitVec</span>.<span class="name">getElem_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn">y</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.adc_spec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L290-L301">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc_spec"><span class="name">BitVec</span>.<span class="name">adc_spec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc">adc</a></span> <span class="fn">y</span> <span class="fn">c</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">w</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">c</span></span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ofBool">ofBool</a> <span class="fn">c</span>)</span></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></div></div></div></div><div class="decl" id="BitVec.add_eq_adc"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L303-L304">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_eq_adc"><span class="name">BitVec</span>.<span class="name">add_eq_adc</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc">adc</a></span> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span></div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="add">add <a class="hover-link" href="#add">#</a></h3></div><div class="decl" id="BitVec.getMsbD_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L308-L311">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_add"><span class="name">BitVec</span>.<span class="name">getMsbD_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>) <span class="fn">x</span> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.msb_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L313-L321">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_add"><span class="name">BitVec</span>.<span class="name">msb_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>) <span class="fn">x</span> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.add_not_self"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L323-L327">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_not_self"><span class="name">BitVec</span>.<span class="name">add_not_self</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.allOnes">allOnes</a> <span class="fn">w</span></span></div></div><p>Adding a bitvector to its own complement yields the all ones bitpattern</p></div></div><div class="decl" id="BitVec.allOnes_sub_eq_not"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L329-L331">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.allOnes_sub_eq_not"><span class="name">BitVec</span>.<span class="name">allOnes_sub_eq_not</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.allOnes">allOnes</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span></div></div><p>Subtracting <code>x</code> from the all ones bitvector is equivalent to taking its complement</p></div></div><div class="decl" id="BitVec.add_eq_or_of_and_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L333-L346">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_eq_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">add_eq_or_of_and_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">y</span></div></div><p>Addition of bitvectors is the same as bitwise or, if bitwise and is zero.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Sub">Sub <a class="hover-link" href="#Sub">#</a></h3></div><div class="decl" id="BitVec.getLsbD_sub"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L350-L354">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_sub"><span class="name">BitVec</span>.<span class="name">getLsbD_sub</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.getMsbD_sub"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L356-L361">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_sub"><span class="name">BitVec</span>.<span class="name">getMsbD_sub</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i_lt</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>) <span class="fn">x</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.getElem_sub"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L363-L365">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_sub"><span class="name">BitVec</span>.<span class="name">getElem_sub</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> ((<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="decl" id="BitVec.msb_sub"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L367-L370">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_sub"><span class="name">BitVec</span>.<span class="name">msb_sub</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> (<span class="fn">(<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">0</span>) <span class="fn">x</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>))</div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Negation">Negation <a class="hover-link" href="#Negation">#</a></h3></div><div class="decl" id="BitVec.bit_not_testBit"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L374-L376">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.bit_not_testBit"><span class="name">BitVec</span>.<span class="name">bit_not_testBit</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Folds.html#BitVec.iunfoldr">iunfoldr</a> <span class="fn">(fun (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">w</span></span>) (<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Unit">Unit</a>) =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">c</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">↑<span class="fn">i</span></span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a>)</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">↑<span class="fn">i</span></span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">↑<span class="fn">i</span></span></span></div></div></div></div><div class="decl" id="BitVec.bit_not_add_self"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L378-L385">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.bit_not_add_self"><span class="name">BitVec</span>.<span class="name">bit_not_add_self</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Folds.html#BitVec.iunfoldr">iunfoldr</a> <span class="fn">(fun (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">w</span></span>) (<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Unit">Unit</a>) =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">c</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">↑<span class="fn">i</span></span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a>)</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">-<span class="fn">1</span></span></div></div></div></div><div class="decl" id="BitVec.bit_not_eq_not"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L387-L389">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.bit_not_eq_not"><span class="name">BitVec</span>.<span class="name">bit_not_eq_not</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Folds.html#BitVec.iunfoldr">iunfoldr</a> <span class="fn">(fun (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">w</span></span>) (<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Unit">Unit</a>) =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">c</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a>)</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span></div></div></div></div><div class="decl" id="BitVec.bit_neg_eq_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L391-L396">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.bit_neg_eq_neg"><span class="name">BitVec</span>.<span class="name">bit_neg_eq_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Folds.html#BitVec.iunfoldr">iunfoldr</a> <span class="fn">(fun (<span class="fn">i</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Fin">Fin</a> <span class="fn">w</span></span>) (<span class="fn">c</span> : <a href="../../.././Init/Prelude.html#Unit">Unit</a>) =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">c</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">↑<span class="fn">i</span></span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a><a href="../../.././Init/Prelude.html#Prod.mk">)</a>)</span> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a>)</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.adc">adc</a></span> (1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span>.<a href="../../.././Init/Prelude.html#Prod.snd">snd</a></span></div></div></div></div><div class="decl" id="BitVec.getLsbD_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L398-L430">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_neg"><span class="name">BitVec</span>.<span class="name">getLsbD_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<a href="../../.././Init/Core.html#Exists">∃</a> <a href="../../.././Init/Core.html#Exists">(</a><span class="fn">j</span> <a href="../../.././Init/Core.html#Exists">:</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a><a href="../../.././Init/Core.html#Exists">)</a><a href="../../.././Init/Core.html#Exists">,</a> <span class="fn">j</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">j</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span>)</div></div><p>Remember that negating a bitvector is equal to incrementing the complement
by one, i.e., <code>-x = ~~~x + 1</code>. See also <code>neg_eq_not_add</code>.</p><p>This computation has two crucial properties:</p><ul>
<li>The least significant bit of <code>-x</code> is the same as the least significant bit of <code>x</code>, and</li>
<li>The <code>i+1</code>-th least significant bit of <code>-x</code> is the complement of the <code>i+1</code>-th bit of <code>x</code>, unless
all of the preceding bits are <code>false</code>, in which case the bit is equal to the <code>i+1</code>-th bit of <code>x</code></li>
</ul></div></div><div class="decl" id="BitVec.getElem_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L432-L434">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_neg"><span class="name">BitVec</span>.<span class="name">getElem_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<a href="../../.././Init/Core.html#Exists">∃</a> <a href="../../.././Init/Core.html#Exists">(</a><span class="fn">j</span> <a href="../../.././Init/Core.html#Exists">:</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a><a href="../../.././Init/Core.html#Exists">)</a><a href="../../.././Init/Core.html#Exists">,</a> <span class="fn">j</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">j</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span>)</div></div></div></div><div class="decl" id="BitVec.getMsbD_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L436-L451">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_neg"><span class="name">BitVec</span>.<span class="name">getMsbD_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<a href="../../.././Init/Core.html#Exists">∃</a> <a href="../../.././Init/Core.html#Exists">(</a><span class="fn">j</span> <a href="../../.././Init/Core.html#Exists">:</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a><a href="../../.././Init/Core.html#Exists">)</a><a href="../../.././Init/Core.html#Exists">,</a> <span class="fn">j</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">j</span> <a href="../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">j</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span>)</div></div></div></div><div class="decl" id="BitVec.msb_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L453-L492">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_neg"><span class="name">BitVec</span>.<span class="name">msb_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span> <a href="../../.././Init/Core.html#bne">!=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">x</span> <a href="../../.././Init/Core.html#bne">!=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>)</div></div></div></div><div class="decl" id="BitVec.signExtend_neg_of_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L494-L504">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.signExtend_neg_of_le"><span class="name">BitVec</span>.<span class="name">signExtend_neg_of_le</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">v </span><span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">w</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">v</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">v</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> <span class="fn">w</span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">b</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> <span class="fn">w</span> <span class="fn">b</span></span></div></div><p>This is false if <code>v &lt; w</code> and <code>b = intMin</code>. See also <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.signExtend_neg_of_ne_intMin">signExtend_neg_of_ne_intMin</a></code>.</p></div></div><div class="decl" id="BitVec.signExtend_neg_of_ne_intMin"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L506-L522">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.signExtend_neg_of_ne_intMin"><span class="name">BitVec</span>.<span class="name">signExtend_neg_of_ne_intMin</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">v </span><span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">v</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hb</span> : <span class="fn">b</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">v</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> <span class="fn">w</span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">b</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> <span class="fn">w</span> <span class="fn">b</span></span></div></div><p>This is false if <code>v &lt; w</code> and <code>b = intMin</code>. See also <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.signExtend_neg_of_le">signExtend_neg_of_le</a></code>.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="abs">abs <a class="hover-link" href="#abs">#</a></h3></div><div class="decl" id="BitVec.msb_abs"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L526-L541">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_abs"><span class="name">BitVec</span>.<span class="name">msb_abs</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.abs">abs</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span>)</div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Inequalities-le-lt">Inequalities (le / lt) <a class="hover-link" href="#Inequalities-le-lt">#</a></h3></div><div class="decl" id="BitVec.ult_eq_not_carry"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L545-L549">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ult_eq_not_carry"><span class="name">BitVec</span>.<span class="name">ult_eq_not_carry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ult">ult</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">w</span> <span class="fn">x</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span>) <a href="../../.././Init/Prelude.html#Bool.true">true</a></span></div></div></div></div><div class="decl" id="BitVec.ule_eq_carry"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L551-L552">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ule_eq_carry"><span class="name">BitVec</span>.<span class="name">ule_eq_carry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ule">ule</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">w</span> <span class="fn">y</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span>) <a href="../../.././Init/Prelude.html#Bool.true">true</a></span></div></div></div></div><div class="decl" id="BitVec.slt_eq_not_carry"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L554-L557">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.slt_eq_not_carry"><span class="name">BitVec</span>.<span class="name">slt_eq_not_carry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">w</span> <span class="fn">x</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">y</span>) <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</div></div></div></div><div class="decl" id="BitVec.sle_eq_carry"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L559-L561">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sle_eq_carry"><span class="name">BitVec</span>.<span class="name">sle_eq_carry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sle">sle</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a>(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Data/Bool.html#Bool.xor">^^</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">w</span> <span class="fn">y</span> (<a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span>) <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</div></div></div></div><div class="decl" id="BitVec.neg_slt_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L563-L574">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.neg_slt_zero"><span class="name">BitVec</span>.<span class="name">neg_slt_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn"><span class="fn">(0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> <span class="fn">x</span></span>)</div></div></div></div><div class="decl" id="BitVec.neg_sle_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L576-L579">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.neg_sle_zero"><span class="name">BitVec</span>.<span class="name">neg_sle_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sle">sle</a></span> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn"><span class="fn">(0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sle">sle</a></span> <span class="fn">x</span></span>)</div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="mul-recurrence-for-bit-blasting">mul recurrence for bit blasting <a class="hover-link" href="#mul-recurrence-for-bit-blasting">#</a></h3></div><div class="decl" id="BitVec.mulRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L583-L592">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec"><span class="name">BitVec</span>.<span class="name">mulRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></div></div><p>A recurrence that describes multiplication as repeated addition.</p><p>This function is useful for bit blasting multiplication.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">0</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn"><span class="fn">s_2</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">s_2</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn"><span class="fn">s_2</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn"><span class="fn">s_2</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span></li></ul></details><details id="instances-for-list-BitVec.mulRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.mulRec_zero_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L594-L596">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_zero_eq"><span class="name">BitVec</span>.<span class="name">mulRec_zero_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span></div></div></div></div><div class="decl" id="BitVec.mulRec_succ_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L598-L599">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_succ_eq"><span class="name">BitVec</span>.<span class="name">mulRec_succ_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> (<span class="fn">s</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">s</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> (<span class="fn">s</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> (<span class="fn">s</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span></div></div></div></div><div class="decl" id="BitVec.setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L601-L625">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow"><span class="name">BitVec</span>.<span class="name">setWidth_setWidth_succ_eq_setWidth_setWidth_add_twoPow</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">x</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">i</span> <span class="fn">x</span>)</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w</span> <span class="fn">i</span></span>)</div></div><p>Recurrence lemma: truncating to <code>i+1</code> bits and then zero extending to <code>w</code>
equals truncating upto <code>i</code> bits <code>[0..i-1]</code>, and then adding the <code>i</code>th bit of <code>x</code>.</p></div></div><div class="decl" id="BitVec.mulRec_eq_mul_signExtend_setWidth"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L627-L651">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec_eq_mul_signExtend_setWidth"><span class="name">BitVec</span>.<span class="name">mulRec_eq_mul_signExtend_setWidth</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">s</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">s</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">y</span>)</span></span></div></div><p>Recurrence lemma: multiplying <code>x</code> with the first <code>s</code> bits of <code>y</code> is the
same as truncating <code>y</code> to <code>s</code> bits, then zero extending to the original length,
and performing the multiplication.</p></div></div><div class="decl" id="BitVec.getLsbD_mul"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L653-L658">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_mul"><span class="name">BitVec</span>.<span class="name">getLsbD_mul</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">w</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span></div></div></div></div><div class="decl" id="BitVec.mul_eq_mulRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L660-L664">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mul_eq_mulRec"><span class="name">BitVec</span>.<span class="name">mul_eq_mulRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">w</span></span></div></div></div></div><div class="decl" id="BitVec.getMsbD_mul"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L666-L671">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_mul"><span class="name">BitVec</span>.<span class="name">getMsbD_mul</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">w</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span></div></div></div></div><div class="decl" id="BitVec.getElem_mul"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L673-L675">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_mul"><span class="name">BitVec</span>.<span class="name">getElem_mul</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.mulRec">mulRec</a></span> <span class="fn">y</span> <span class="fn">w</span>)</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a></div></div></div></div><div class="mod_doc"><h2 class="markdown-heading" id="shiftLeft-recurrence-for-bit-blasting">shiftLeft recurrence for bit blasting <a class="hover-link" href="#shiftLeft-recurrence-for-bit-blasting">#</a></h2></div><div class="decl" id="BitVec.shiftLeftRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L679-L692">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec"><span class="name">BitVec</span>.<span class="name">shiftLeftRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span></div></div><p>Shifts <code>x</code> to the left by the first <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> bits of <code>y</code>.</p><p>The theorem <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeft_eq_shiftLeftRec">BitVec.shiftLeft_eq_shiftLeftRec</a></code> proves the equivalence of <code>(x &lt;&lt;&lt; y)</code> and
<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">BitVec.shiftLeftRec</a> x y</code>.</p><p>Together with equations <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_zero">BitVec.shiftLeftRec_zero</a></code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_succ">BitVec.shiftLeftRec_succ</a></code>, this allows
<code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.shiftLeft">BitVec.shiftLeft</a></code> to be unfolded into a circuit for bit blasting.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">BitVec.twoPow</a> <span class="fn">w₂</span> <span class="fn">0</span></span>)</li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> <span class="fn">s_1</span></span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">BitVec.twoPow</a> <span class="fn">w₂</span> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span>)</li></ul></details><details id="instances-for-list-BitVec.shiftLeftRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.shiftLeftRec_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L694-L697">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_zero"><span class="name">BitVec</span>.<span class="name">shiftLeftRec_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w₂</span> <span class="fn">0</span></span>)</div></div></div></div><div class="decl" id="BitVec.shiftLeftRec_succ"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L699-L702">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_succ"><span class="name">BitVec</span>.<span class="name">shiftLeftRec_succ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂ </span><span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w₂</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</div></div></div></div><div class="decl" id="BitVec.shiftLeft_or_of_and_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L704-L714">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeft_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">shiftLeft_or_of_and_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y </span><span class="fn">z</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w₂</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">z</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">z</span></div></div><p>If <code>y &amp;&amp;&amp; z = 0</code>, <code>x &lt;&lt;&lt; (y ||| z) = x &lt;&lt;&lt; y &lt;&lt;&lt; z</code>.
This follows as <code>y &amp;&amp;&amp; z = 0</code> implies <code>y ||| z = y + z</code>,
and thus <code>x &lt;&lt;&lt; (y ||| z) = x &lt;&lt;&lt; (y + z) = x &lt;&lt;&lt; y &lt;&lt;&lt; z</code>.</p></div></div><div class="decl" id="BitVec.shiftLeftRec_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L716-L736">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_eq"><span class="name">BitVec</span>.<span class="name">shiftLeftRec_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w₂</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">y</span>)</span></span></div></div><p><code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a> x y <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> shifts <code>x</code> to the left by the first <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> bits of <code>y</code>.</p></div></div><div class="decl" id="BitVec.shiftLeft_eq_shiftLeftRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L738-L746">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeft_eq_shiftLeftRec"><span class="name">BitVec</span>.<span class="name">shiftLeft_eq_shiftLeftRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></span> <span class="fn">y</span> (<span class="fn">w₂</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>)</span></div></div><p>Show that <code>x &lt;&lt;&lt; y</code> can be written in terms of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec">shiftLeftRec</a></code>.
This can be unfolded in terms of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_zero">shiftLeftRec_zero</a></code>, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeftRec_succ">shiftLeftRec_succ</a></code> for bit blasting.</p></div></div><div class="mod_doc"><h1 class="markdown-heading" id="udiv-urem-recurrence-for-bit-blasting">udiv/urem recurrence for bit blasting <a class="hover-link" href="#udiv-urem-recurrence-for-bit-blasting">#</a></h1><p>In order to prove the correctness of the division algorithm on the integers,
one shows that <code>n.div <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></code> and <code>n.mod <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></code> iff <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> * <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a> + <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></code> and <code>0 ≤ <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a> &lt; <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></code>.
Mnemonic: <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> is the numerator, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></code> is the denominator, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></code> is the quotient, and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></code> the remainder.</p><p>This <em>uniqueness of decomposition</em> is not true for bitvectors.
For <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a> = 0, <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = 3, w = 3</code>, we can write:</p><ul>
<li><code>0 = 0 * 3 + 0</code> (<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a> = 0</code>, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a> = 0 &lt; 3</code>.)</li>
<li><code>0 = 2 * 3 + 2 = 6 + 2 ≃ 0 (mod 8)</code> (<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a> = 2</code>, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a> = 2 &lt; 3</code>).</li>
</ul><p>Such examples can be created by choosing different <code>(q, r)</code> for a fixed <code>(d, n)</code>
such that <code>(d * <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a> + r)</code> overflows and wraps around to equal <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code>.</p><p>This tells us that the division algorithm must have more restrictions than just the ones
we have for integers. These restrictions are captured in <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">DivModState.Lawful</a></code>.
The key idea is to state the relationship in terms of the toNat values of {n, d, q, r}.
If the division equation <code>d.toNat * q.toNat + r.toNat = n.toNat</code> holds,
then <code>n.udiv <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></code> and <code>n.umod <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></code>.</p><p>Following this, we implement the division algorithm by repeated shift-subtract.</p><p>References:</p><ul>
<li>Fast 32-bit Division on the DSP56800E: Minimized nonrestoring division algorithm by David Baca</li>
<li>Bitwuzla sources for bitblasting.h</li>
</ul></div><div class="decl" id="BitVec.udiv_eq_of_mul_add_toNat"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L787-L802">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.udiv_eq_of_mul_add_toNat"><span class="name">BitVec</span>.<span class="name">udiv_eq_of_mul_add_toNat</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">d </span><span class="fn">n </span><span class="fn">q </span><span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hd</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hrd</span> : <span class="fn">r</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hdqnr</span> : <span class="fn"><span class="fn">d</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">q</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">r</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">n</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">q</span></div></div><p>If the division equation <code>d.toNat * q.toNat + r.toNat = n.toNat</code> holds,
then <code>n.udiv <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></code>.</p></div></div><div class="decl" id="BitVec.umod_eq_of_mul_add_toNat"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L804-L818">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.umod_eq_of_mul_add_toNat"><span class="name">BitVec</span>.<span class="name">umod_eq_of_mul_add_toNat</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">d </span><span class="fn">n </span><span class="fn">q </span><span class="fn">r</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hrd</span> : <span class="fn">r</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hdqnr</span> : <span class="fn"><span class="fn">d</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">q</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">r</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">n</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">r</span></div></div><p>If the division equation <code>d.toNat * q.toNat + r.toNat = n.toNat</code> holds,
then <code>n.umod <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a> = <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></code>.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="DivModState">DivModState <a class="hover-link" href="#DivModState">#</a></h3></div><div class="decl" id="BitVec.DivModState"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L822-L831">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState"><span class="name">BitVec</span>.<span class="name">DivModState</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p><code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a></code> is a structure that maintains the state of recursive <code>divrem</code> calls.</p><ul class="structure_fields" id="BitVec.DivModState.mk"><li id="BitVec.DivModState.wn" class="structure_field"><div class="structure_field_info">wn : <a href="../../.././Init/Prelude.html#Nat">Nat</a></div><div class="structure_field_doc"><p>The number of bits in the numerator that are not yet processed</p></div></li><li id="BitVec.DivModState.wr" class="structure_field"><div class="structure_field_info">wr : <a href="../../.././Init/Prelude.html#Nat">Nat</a></div><div class="structure_field_doc"><p>The number of bits in the remainder (and quotient)</p></div></li><li id="BitVec.DivModState.q" class="structure_field"><div class="structure_field_info">q : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></div><div class="structure_field_doc"><p>The current quotient.</p></div></li><li id="BitVec.DivModState.r" class="structure_field"><div class="structure_field_info">r : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></div><div class="structure_field_doc"><p>The current remainder.</p></div></li></ul><details id="instances-for-list-BitVec.DivModState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModArgs"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L834-L840">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs"><span class="name">BitVec</span>.<span class="name">DivModArgs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p><code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a></code> contains the arguments to a <code>divrem</code> call which remain constant throughout
execution.</p><ul class="structure_fields" id="BitVec.DivModArgs.mk"><li id="BitVec.DivModArgs.n" class="structure_field"><div class="structure_field_info">n : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></div><div class="structure_field_doc"><p>the numerator (aka, dividend)</p></div></li><li id="BitVec.DivModArgs.d" class="structure_field"><div class="structure_field_info">d : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></div><div class="structure_field_doc"><p>the denumerator (aka, divisor)</p></div></li></ul><details id="instances-for-list-BitVec.DivModArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.Lawful"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L842-L866">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">Lawful</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>A <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a></code> is lawful if the remainder width <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></code> plus the numerator width <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></code> equals <code>w</code>,
and the bitvectors <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> have values in the bounds given by bitwidths <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></code>, resp. <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></code>.</p><p>This is a proof engineering choice: an alternative world could have been
<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a> : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a> : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></code>, but this required much more dependent typing coercions.</p><p>Instead, we choose to declare all involved bitvectors as length <code>w</code>, and then prove that
the values are within their respective bounds.</p><p>We start with <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a> = w</code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a> = 0</code>, and then in each step, we decrement <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></code> and increment <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></code>.
In this way, we grow a legal remainder in each loop iteration.</p><ul class="structure_fields" id="BitVec.DivModState.Lawful.mk"><li id="BitVec.DivModState.Lawful.hwrn" class="structure_field"><div class="structure_field_info">hwrn : <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">w</span></div><div class="structure_field_doc"><p>The sum of widths of the dividend and remainder is <code>w</code>.</p></div></li><li id="BitVec.DivModState.Lawful.hdPos" class="structure_field"><div class="structure_field_info">hdPos : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span></div><div class="structure_field_doc"><p>The denominator is positive.</p></div></li><li id="BitVec.DivModState.Lawful.hrLtDivisor" class="structure_field"><div class="structure_field_info">hrLtDivisor : <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></div><div class="structure_field_doc"><p>The remainder is strictly less than the denominator.</p></div></li><li id="BitVec.DivModState.Lawful.hrWidth" class="structure_field"><div class="structure_field_info">hrWidth : <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span></div><div class="structure_field_doc"><p>The remainder is morally a <code>Bitvec <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></code>, and so has value less than <code>2^wr</code>.</p></div></li><li id="BitVec.DivModState.Lawful.hqWidth" class="structure_field"><div class="structure_field_info">hqWidth : <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span></div><div class="structure_field_doc"><p>The quotient is morally a <code>Bitvec <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></code>, and so has value less than <code>2^wr</code>.</p></div></li><li id="BitVec.DivModState.Lawful.hdiv" class="structure_field"><div class="structure_field_info">hdiv : <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></div><div class="structure_field_doc"><p>The low <code>(w - wn)</code> bits of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> obey the invariant for division.</p></div></li></ul><details id="instances-for-list-BitVec.DivModState.Lawful" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.Lawful.hw"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L868-L876">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hw"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">Lawful</span>.<span class="name">hw</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">Lawful</a> <span class="fn">args</span> <span class="fn">qr</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span></div></div><p>A lawful DivModState implies <code>w &gt; 0</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn">⋯</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⋯</span></li></ul></details><details id="instances-for-list-BitVec.DivModState.Lawful.hw" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.init"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L878-L884">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">init</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span></div></div><p>An initial value with both <code>q, <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a> = 0</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">BitVec.DivModState.init</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.mk">{</a> <span class="fn">wn</span> := <span class="fn">w</span>, <span class="fn">wr</span> := <span class="fn">0</span>, <span class="fn">q</span> := 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>, <span class="fn">r</span> := 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.mk">}</a></li></ul></details><details id="instances-for-list-BitVec.DivModState.init" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.lawful_init"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L886-L900">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.lawful_init"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">lawful_init</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hd</span> : 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">Lawful</a> <span class="fn">args</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">init</a> <span class="fn">w</span>)</span></span></div></div><p>The initial state is lawful.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn">⋯</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⋯</span></li></ul></details><details id="instances-for-list-BitVec.DivModState.lawful_init" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.udiv_eq_of_lawful"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L902-L913">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.udiv_eq_of_lawful"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">udiv_eq_of_lawful</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h_lawful</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">Lawful</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">qr</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_final</span> : <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span></div></div><p>A lawful DivModState with a fully consumed dividend (<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a> = 0</code>) witnesses that the
quotient has been correctly computed.</p></div></div><div class="decl" id="BitVec.DivModState.umod_eq_of_lawful"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L915-L927">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.umod_eq_of_lawful"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">umod_eq_of_lawful</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">Lawful</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">qr</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h_final</span> : <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">n</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span></div></div><p>A lawful DivModState with a fully consumed dividend (<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a> = 0</code>) witnesses that the
remainder has been correctly computed.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="DivModState-Poised">DivModState.Poised <a class="hover-link" href="#DivModState-Poised">#</a></h3></div><div class="decl" id="BitVec.DivModState.Poised"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L931-L941">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Poised"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">Poised</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_extends">extends</span> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">BitVec.DivModState.Lawful</a> <span class="fn">args</span> <span class="fn">qr</span></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Prop</a></div></div><p>A <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Poised">Poised</a></code> DivModState is a state which is <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">Lawful</a></code> and furthermore, has at least
one numerator bit left to process <code>(0 &lt; wn)</code></p><p>The input to the shift subtractor is a legal input to <code>divrem</code>, and we also need to have an
input bit to perform shift subtraction on, and thus we need <code>0 &lt; <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></code>.</p><ul class="structure_fields" id="BitVec.DivModState.Poised.mk"><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hwrn">hwrn</a> : <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">w</span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hdPos">hdPos</a> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hrLtDivisor">hrLtDivisor</a> : <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hrWidth">hrWidth</a> : <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hqWidth">hqWidth</a> : <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful.hdiv">hdiv</a> : <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></div></li><li id="BitVec.DivModState.Poised.hwn_lt" class="structure_field"><div class="structure_field_info">hwn_lt : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span></div><div class="structure_field_doc"><p>Only perform a round of shift-subtract if we have dividend bits.</p></div></li></ul><details id="instances-for-list-BitVec.DivModState.Poised" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.wr_lt_w"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L943-L950">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr_lt_w"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">wr_lt_w</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Poised">Poised</a> <span class="fn">args</span> <span class="fn">qr</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span></div></div><p>In the shift subtract input, the dividend is at least one bit long (<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a> &gt; 0</code>), so
the remainder has bits to be computed (<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a> &lt; w</code>).</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn">⋯</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">⋯</span></li></ul></details><details id="instances-for-list-BitVec.DivModState.wr_lt_w" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Division-shift-subtractor">Division shift subtractor <a class="hover-link" href="#Division-shift-subtractor">#</a></h3></div><div class="decl" id="BitVec.divSubtractShift"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L954-L972">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divSubtractShift"><span class="name">BitVec</span>.<span class="name">divSubtractShift</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span></div></div><p>One round of the division algorithm. It tries to perform a subtract shift.</p><p>This should only be called when <code>r.msb = false</code>, so it will not overflow.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-BitVec.divSubtractShift" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.DivModState.toNat_shiftRight_sub_one_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L974-L986">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.toNat_shiftRight_sub_one_eq"><span class="name">BitVec</span>.<span class="name">DivModState</span>.<span class="name">toNat_shiftRight_sub_one_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Poised">Poised</a> <span class="fn">args</span> <span class="fn">qr</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> (<span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> (<span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>))</span>.<a href="../../.././Init/Data/Bool.html#Bool.toNat">toNat</a></span></div></div><p>The value of shifting right by <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a> - 1</code> equals shifting by <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></code> and grabbing the lsb at <code>(wn - 1)</code>.</p></div></div><div class="decl" id="BitVec.lawful_divSubtractShift"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L998-L1043">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.lawful_divSubtractShift"><span class="name">BitVec</span>.<span class="name">lawful_divSubtractShift</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Poised">DivModState.Poised</a> <span class="fn">args</span> <span class="fn">qr</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">DivModState.Lawful</a> <span class="fn">args</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divSubtractShift">divSubtractShift</a> <span class="fn">args</span> <span class="fn">qr</span>)</span></span></div></div><p>We show that the output of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divSubtractShift">divSubtractShift</a></code> is lawful, which tells us that it
obeys the division equation.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Core-division-algorithm-circuit">Core division algorithm circuit <a class="hover-link" href="#Core-division-algorithm-circuit">#</a></h3></div><div class="decl" id="BitVec.divRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1047-L1052">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec"><span class="name">BitVec</span>.<span class="name">divRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span></div></div><p>A recursive definition of division for bit blasting, in terms of a shift-subtraction circuit.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">BitVec.divRec</a> <span class="fn">0</span> <span class="fn">args</span> <span class="fn">qr</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">qr</span></li><li class="equation"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">BitVec.divRec</a> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span> <span class="fn">args</span> <span class="fn">qr</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">BitVec.divRec</a> <span class="fn">s_1</span> <span class="fn">args</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divSubtractShift">BitVec.divSubtractShift</a> <span class="fn">args</span> <span class="fn">qr</span>)</span></span></li></ul></details><details id="instances-for-list-BitVec.divRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.divRec_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1054-L1056">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec_zero"><span class="name">BitVec</span>.<span class="name">divRec_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">0</span> <span class="fn">args</span> <span class="fn">qr</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">qr</span></div></div></div></div><div class="decl" id="BitVec.divRec_succ"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1058-L1061">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec_succ"><span class="name">BitVec</span>.<span class="name">divRec_succ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> (<span class="fn">m</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">args</span> <span class="fn">qr</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">m</span> <span class="fn">args</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divSubtractShift">divSubtractShift</a> <span class="fn">args</span> <span class="fn">qr</span>)</span></span></div></div></div></div><div class="decl" id="BitVec.lawful_divRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1063-L1078">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.lawful_divRec"><span class="name">BitVec</span>.<span class="name">lawful_divRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">DivModState.Lawful</a> <span class="fn">args</span> <span class="fn">qr</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.Lawful">DivModState.Lawful</a> <span class="fn">args</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <span class="fn">args</span> <span class="fn">qr</span>)</span></span></div></div><p>The output of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a></code> is a lawful state</p></div></div><div class="decl" id="BitVec.wn_divRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1080-L1090">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.wn_divRec"><span class="name">BitVec</span>.<span class="name">wn_divRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <span class="fn">args</span> <span class="fn">qr</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span></div></div><p>The output of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a></code> has no more bits left to process (i.e., <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a> = 0</code>)</p></div></div><div class="decl" id="BitVec.udiv_eq_divRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1092-L1098">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.udiv_eq_divRec"><span class="name">BitVec</span>.<span class="name">udiv_eq_divRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">d </span><span class="fn">n</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hd</span> : 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">have <span class="fn">out</span> := <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span></span>;
<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">out</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span></span></div></div><p>The result of <code>udiv</code> agrees with the result of the division recurrence.</p></div></div><div class="decl" id="BitVec.umod_eq_divRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1100-L1106">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.umod_eq_divRec"><span class="name">BitVec</span>.<span class="name">umod_eq_divRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">d </span><span class="fn">n</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hd</span> : 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">have <span class="fn">out</span> := <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span></span>;
<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">out</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span></span></div></div><p>The result of <code>umod</code> agrees with the result of the division recurrence.</p></div></div><div class="decl" id="BitVec.divRec_succ'"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1108-L1124">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec_succ'"><span class="name">BitVec</span>.<span class="name">divRec_succ'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs">DivModArgs</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">qr</span> : <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState">DivModState</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> (<span class="fn">m</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">args</span> <span class="fn">qr</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">have <span class="fn">wn</span> := <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wn">wn</a></span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>;
  <span class="fn">have <span class="fn">wr</span> := <span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.wr">wr</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>;
  <span class="fn">have <span class="fn">r'</span> := <span class="fn"><span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.shiftConcat">shiftConcat</a></span> <span class="fn">(<span class="fn"><span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">wn</span>)</span></span>;
  <span class="fn">have <span class="fn">input</span> :=
    <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">r'</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span> <a href="../../.././Init/Prelude.html#ite">then</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.mk">{</a> <span class="fn">wn</span> := <span class="fn">wn</span>, <span class="fn">wr</span> := <span class="fn">wr</span>, <span class="fn">q</span> := <span class="fn"><span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.shiftConcat">shiftConcat</a></span> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span>, <span class="fn">r</span> := <span class="fn">r'</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.mk">}</a>
    <a href="../../.././Init/Prelude.html#ite">else</a> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.mk">{</a> <span class="fn">wn</span> := <span class="fn">wn</span>, <span class="fn">wr</span> := <span class="fn">wr</span>, <span class="fn">q</span> := <span class="fn"><span class="fn"><span class="fn"><span class="fn">qr</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.shiftConcat">shiftConcat</a></span> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>, <span class="fn">r</span> := <span class="fn">r'</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn"><span class="fn">args</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.d">d</a></span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.mk">}</a>;
  <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">m</span> <span class="fn">args</span> <span class="fn">input</span></span></span></span></span></span></div></div></div></div><div class="decl" id="BitVec.getElem_udiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1126-L1128">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_udiv"><span class="name">BitVec</span>.<span class="name">getElem_udiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy</span> : 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hi</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">d</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a></div></div></div></div><div class="decl" id="BitVec.getLsbD_udiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1130-L1135">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_udiv"><span class="name">BitVec</span>.<span class="name">getLsbD_udiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy</span> : 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">d</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span>)</div></div></div></div><div class="decl" id="BitVec.getMsbD_udiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1137-L1139">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_udiv"><span class="name">BitVec</span>.<span class="name">getMsbD_udiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hd</span> : 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">d</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">d</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.q">q</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span>)</div></div></div></div><div class="decl" id="BitVec.sshiftRightRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1143-L1155">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec"><span class="name">BitVec</span>.<span class="name">sshiftRightRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span></div></div><p>Shifts <code>x</code> arithmetically (signed) to the right by the first <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> bits of <code>y</code>.</p><p>The theorem <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRight_eq_sshiftRightRec">BitVec.sshiftRight_eq_sshiftRightRec</a></code> proves the equivalence of <code>(x.sshiftRight y)</code> and
<code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">BitVec.sshiftRightRec</a> x y</code>. Together with equations <code>BitVec.sshiftRightRec_zero</code>, and
<code>BitVec.sshiftRightRec_succ</code>, this allows <code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight">BitVec.sshiftRight</a></code> to be unfolded into a circuit for
bit blasting.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">BitVec.twoPow</a> <span class="fn">w₂</span> <span class="fn">0</span></span>)</span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> <span class="fn">s_1</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">BitVec.twoPow</a> <span class="fn">w₂</span> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span>)</span></li></ul></details><details id="instances-for-list-BitVec.sshiftRightRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.sshiftRightRec_zero_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1157-L1160">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec_zero_eq"><span class="name">BitVec</span>.<span class="name">sshiftRightRec_zero_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w₂</span> <span class="fn">0</span></span>)</span></div></div></div></div><div class="decl" id="BitVec.sshiftRightRec_succ_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1162-L1165">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec_succ_eq"><span class="name">BitVec</span>.<span class="name">sshiftRightRec_succ_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> <span class="fn">n</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w₂</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</span></div></div></div></div><div class="decl" id="BitVec.sshiftRight'_or_of_and_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1167-L1176">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRight'_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">sshiftRight'_or_of_and_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y </span><span class="fn">z</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w₂</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">z</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> <span class="fn">z</span></span></div></div><p>If <code>y &amp;&amp;&amp; z = 0</code>, <code>x.sshiftRight (y ||| z) = (x.sshiftRight y).sshiftRight z</code>.
This follows as <code>y &amp;&amp;&amp; z = 0</code> implies <code>y ||| z = y + z</code>,
and thus <code>x.sshiftRight (y ||| z) = x.sshiftRight (y + z) = (x.sshiftRight y).sshiftRight z</code>.</p></div></div><div class="decl" id="BitVec.sshiftRightRec_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1178-L1192">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec_eq"><span class="name">BitVec</span>.<span class="name">sshiftRightRec_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w₂</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">y</span>)</span>)</span></span></div></div></div></div><div class="decl" id="BitVec.sshiftRight_eq_sshiftRightRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1194-L1202">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRight_eq_sshiftRightRec"><span class="name">BitVec</span>.<span class="name">sshiftRight_eq_sshiftRightRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂ </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sshiftRight'">sshiftRight'</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></span> <span class="fn">y</span> (<span class="fn">w₂</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>))</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span></div></div><p>Show that <code>x.sshiftRight y</code> can be written in terms of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec">sshiftRightRec</a></code>.
This can be unfolded in terms of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec_zero_eq">sshiftRightRec_zero_eq</a></code>, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sshiftRightRec_succ_eq">sshiftRightRec_succ_eq</a></code> for bit blasting.</p></div></div><div class="decl" id="BitVec.ushiftRightRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1206-L1219">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec"><span class="name">BitVec</span>.<span class="name">ushiftRightRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span></div></div><p>Shifts <code>x</code> logically to the right by the first <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.n">n</a></code> bits of <code>y</code>.</p><p>The theorem <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftRight_eq_ushiftRightRec">BitVec.shiftRight_eq_ushiftRightRec</a></code> proves the equivalence
of <code>(x &gt;&gt;&gt; y)</code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">BitVec.ushiftRightRec</a></code>.</p><p>Together with equations <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_zero">BitVec.ushiftRightRec_zero</a></code> and <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_succ">BitVec.ushiftRightRec_succ</a></code>,
this allows <code><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ushiftRight">BitVec.ushiftRight</a></code> to be unfolded into a circuit for bit blasting.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">BitVec.twoPow</a> <span class="fn">w₂</span> <span class="fn">0</span></span>)</li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> <span class="fn">s_1</span></span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">BitVec.twoPow</a> <span class="fn">w₂</span> <span class="fn"><span class="fn">s_1</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span></span>)</li></ul></details><details id="instances-for-list-BitVec.ushiftRightRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.ushiftRightRec_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1221-L1224">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_zero"><span class="name">BitVec</span>.<span class="name">ushiftRightRec_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> <span class="fn">0</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w₂</span> <span class="fn">0</span></span>)</div></div></div></div><div class="decl" id="BitVec.ushiftRightRec_succ"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1226-L1229">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_succ"><span class="name">BitVec</span>.<span class="name">ushiftRightRec_succ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂ </span><span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> <span class="fn">w₂</span> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>)</div></div></div></div><div class="decl" id="BitVec.ushiftRight'_or_of_and_eq_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1231-L1239">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRight'_or_of_and_eq_zero"><span class="name">BitVec</span>.<span class="name">ushiftRight'_or_of_and_eq_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y </span><span class="fn">z</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAnd.hAnd">&amp;&amp;&amp;</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w₂</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">z</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn">z</span></div></div><p>If <code>y &amp;&amp;&amp; z = 0</code>, <code>x &gt;&gt;&gt; (y ||| z) = x &gt;&gt;&gt; y &gt;&gt;&gt; z</code>.
This follows as <code>y &amp;&amp;&amp; z = 0</code> implies <code>y ||| z = y + z</code>,
and thus <code>x &gt;&gt;&gt; (y ||| z) = x &gt;&gt;&gt; (y + z) = x &gt;&gt;&gt; y &gt;&gt;&gt; z</code>.</p></div></div><div class="decl" id="BitVec.ushiftRightRec_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1241-L1255">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_eq"><span class="name">BitVec</span>.<span class="name">ushiftRightRec_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> <span class="fn">n</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> <span class="fn">w₂</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">y</span>)</span></span></div></div></div></div><div class="decl" id="BitVec.shiftRight_eq_ushiftRightRec"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1257-L1265">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftRight_eq_ushiftRightRec"><span class="name">BitVec</span>.<span class="name">shiftRight_eq_ushiftRightRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w₁ </span><span class="fn">w₂</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₁</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w₂</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HShiftRight.hShiftRight">&gt;&gt;&gt;</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></span> <span class="fn">y</span> (<span class="fn">w₂</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>)</span></div></div><p>Show that <code>x &gt;&gt;&gt; y</code> can be written in terms of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec">ushiftRightRec</a></code>.
This can be unfolded in terms of <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_zero">ushiftRightRec_zero</a></code>, <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ushiftRightRec_succ">ushiftRightRec_succ</a></code> for bit blasting.</p></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Overflow-definitions">Overflow definitions <a class="hover-link" href="#Overflow-definitions">#</a></h3></div><div class="decl" id="BitVec.uaddOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1269-L1272">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.uaddOverflow_eq"><span class="name">BitVec</span>.<span class="name">uaddOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.uaddOverflow">uaddOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">(<span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">y</span></span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span></div></div><p>Unsigned addition overflows iff the final carry bit of the addition circuit is <code>true</code>.</p></div></div><div class="decl" id="BitVec.saddOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1274-L1285">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.saddOverflow_eq"><span class="name">BitVec</span>.<span class="name">saddOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.saddOverflow">saddOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>)</div></div></div></div><div class="decl" id="BitVec.usubOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1287-L1288">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.usubOverflow_eq"><span class="name">BitVec</span>.<span class="name">usubOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.usubOverflow">usubOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">y</span>)</span></div></div></div></div><div class="decl" id="BitVec.ssubOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1290-L1300">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ssubOverflow_eq"><span class="name">BitVec</span>.<span class="name">ssubOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ssubOverflow">ssubOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>)</div></div></div></div><div class="decl" id="BitVec.negOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1302-L1309">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.negOverflow_eq"><span class="name">BitVec</span>.<span class="name">negOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.negOverflow">negOverflow</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</div></div></div></div><div class="decl" id="BitVec.sdivOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1311-L1341">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sdivOverflow_eq"><span class="name">BitVec</span>.<span class="name">sdivOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdivOverflow">sdivOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.allOnes">allOnes</a> <span class="fn">w</span></span>)</span>)</div></div><p>Prove that signed division <code>x.toInt / y.toInt</code> only overflows when <code>x = intMin w</code> and <code>y = allOnes w</code> (for <code>0 &lt; w</code>).</p></div></div><div class="decl" id="BitVec.umulOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1343-L1353">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.umulOverflow_eq"><span class="name">BitVec</span>.<span class="name">umulOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.umulOverflow">umulOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.twoPow">twoPow</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.zeroExtend">zeroExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.zeroExtend">zeroExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">y</span></span>)</span>)</div></div></div></div><div class="decl" id="BitVec.smulOverflow_eq"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1355-L1366">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.smulOverflow_eq"><span class="name">BitVec</span>.<span class="name">smulOverflow_eq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.smulOverflow">smulOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a>     (<span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMax">intMax</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> (<span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">y</span></span>)</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a>       <span class="fn"><span class="fn">(<span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">y</span></span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.slt">slt</a></span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.signExtend">signExtend</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">2</span>) <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span>)</span>)</span></span>))</div></div></div></div><div class="decl" id="BitVec.getElem_umod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1370-L1378">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_umod"><span class="name">BitVec</span>.<span class="name">getElem_umod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hi</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">d</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">n</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a></div></div></div></div><div class="decl" id="BitVec.getLsbD_umod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1380-L1386">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_umod"><span class="name">BitVec</span>.<span class="name">getLsbD_umod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">d</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span></div></div></div></div><div class="decl" id="BitVec.getMsbD_umod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1388-L1395">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_umod"><span class="name">BitVec</span>.<span class="name">getMsbD_umod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n </span><span class="fn">d</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">d</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">d</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.divRec">divRec</a> <span class="fn">w</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">{</a> <span class="fn">n</span> := <span class="fn">n</span>, <span class="fn">d</span> := <span class="fn">d</span> <a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModArgs.mk">}</a> <span class="fn">(<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.init">DivModState.init</a> <span class="fn">w</span>)</span>)</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.DivModState.r">r</a></span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span></div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Mappings-to-and-from-BitVec">Mappings to and from BitVec <a class="hover-link" href="#Mappings-to-and-from-BitVec">#</a></h3></div><div class="decl" id="BitVec.eq_iff_eq_of_inv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1400-L1408">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.eq_iff_eq_of_inv"><span class="name">BitVec</span>.<span class="name">eq_iff_eq_of_inv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Sort</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">α</span> → <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">g</span> : <span class="fn"><span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span> → <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">∀ (<span class="fn">x</span> : <span class="fn">α</span>), <span class="fn"><span class="fn">g</span> <span class="fn">(<span class="fn">f</span> <span class="fn">x</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">y</span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn"><span class="fn">f</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">f</span> <span class="fn">y</span></span></div></div></div></div><div class="decl" id="BitVec.ne_intMin_of_lt_of_msb_false"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1410-L1415">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ne_intMin_of_lt_of_msb_false"><span class="name">BitVec</span>.<span class="name">ne_intMin_of_lt_of_msb_false</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hw</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span></div></div></div></div><div class="decl" id="BitVec.ne_zero_of_msb_true"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1417-L1423">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.ne_zero_of_msb_true"><span class="name">BitVec</span>.<span class="name">ne_zero_of_msb_true</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.msb_neg_of_ne_intMin_of_ne_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1425-L1429">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_neg_of_ne_intMin_of_ne_zero"><span class="name">BitVec</span>.<span class="name">msb_neg_of_ne_intMin_of_ne_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h'</span> : <span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span></div></div></div></div><div class="decl" id="BitVec.udiv_intMin_of_msb_false"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1431-L1440">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.udiv_intMin_of_msb_false"><span class="name">BitVec</span>.<span class="name">udiv_intMin_of_msb_false</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.sdiv_intMin"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1442-L1456">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sdiv_intMin"><span class="name">BitVec</span>.<span class="name">sdiv_intMin</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#ite">then</a> 1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">else</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.sdiv_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1458-L1464">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sdiv_neg"><span class="name">BitVec</span>.<span class="name">sdiv_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">y</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span></span></div></div></div></div><div class="decl" id="BitVec.neg_sdiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1466-L1472">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.neg_sdiv"><span class="name">BitVec</span>.<span class="name">neg_sdiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span></span></div></div></div></div><div class="decl" id="BitVec.neg_sdiv_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1474-L1488">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.neg_sdiv_neg"><span class="name">BitVec</span>.<span class="name">neg_sdiv_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span></span></div></div></div></div><div class="decl" id="BitVec.intMin_eq_neg_two_pow"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1490-L1496">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.intMin_eq_neg_two_pow"><span class="name">BitVec</span>.<span class="name">intMin_eq_neg_two_pow</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.ofInt">BitVec.ofInt</a> <span class="fn">w</span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>))</span></div></div></div></div><div class="decl" id="BitVec.toInt_intMin_eq_bmod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1498-L1499">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_intMin_eq_bmod"><span class="name">BitVec</span>.<span class="name">toInt_intMin_eq_bmod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>)).<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.bmod">bmod</a></span> (<span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">w</span>)</span></div></div></div></div><div class="decl" id="BitVec.toInt_bmod_cancel"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1501-L1503">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_bmod_cancel"><span class="name">BitVec</span>.<span class="name">toInt_bmod_cancel</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">b</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>.<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.bmod">bmod</a></span> (<span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">b</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span></div></div></div></div><div class="decl" id="BitVec.sdiv_ne_intMin_of_ne_intMin"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1505-L1519">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sdiv_ne_intMin_of_ne_intMin"><span class="name">BitVec</span>.<span class="name">sdiv_ne_intMin_of_ne_intMin</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span></div></div></div></div><div class="decl" id="BitVec.toInt_eq_neg_toNat_neg_of_msb_true"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1521-L1530">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_eq_neg_toNat_neg_of_msb_true"><span class="name">BitVec</span>.<span class="name">toInt_eq_neg_toNat_neg_of_msb_true</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">↑<span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></span></div></div></div></div><div class="decl" id="BitVec.toInt_eq_neg_toNat_neg_of_nonpos"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1532-L1538">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_eq_neg_toNat_neg_of_nonpos"><span class="name">BitVec</span>.<span class="name">toInt_eq_neg_toNat_neg_of_nonpos</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#Or">∨</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">↑<span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>).<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></span></div></div></div></div><div class="decl" id="BitVec.intMin_udiv_eq_intMin_iff"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1540-L1558">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.intMin_udiv_eq_intMin_iff"><span class="name">BitVec</span>.<span class="name">intMin_udiv_eq_intMin_iff</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.intMin_udiv_ne_zero_of_ne_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1560-L1570">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.intMin_udiv_ne_zero_of_ne_zero"><span class="name">BitVec</span>.<span class="name">intMin_udiv_ne_zero_of_ne_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">b</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hb</span> : <span class="fn"><span class="fn">b</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hb0</span> : <span class="fn">b</span> <a href="../../.././Init/Core.html#Ne">≠</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">b</span> <a href="../../.././Init/Core.html#Ne">≠</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.toInt_sdiv_of_ne_or_ne"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1572-L1641">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_sdiv_of_ne_or_ne"><span class="name">BitVec</span>.<span class="name">toInt_sdiv_of_ne_or_ne</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">a</span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#Or">∨</a> <span class="fn">b</span> <a href="../../.././Init/Core.html#Ne">≠</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a>1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">b</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>.<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.tdiv">tdiv</a></span> <span class="fn"><span class="fn">b</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span></span></div></div></div></div><div class="decl" id="BitVec.intMin_sdiv_neg_one"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1643-L1650">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.intMin_sdiv_neg_one"><span class="name">BitVec</span>.<span class="name">intMin_sdiv_neg_one</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a>1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span></div></div></div></div><div class="decl" id="BitVec.toInt_sdiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1652-L1662">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_sdiv"><span class="name">BitVec</span>.<span class="name">toInt_sdiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">a </span><span class="fn">b</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">b</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn"><span class="fn">a</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>.<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.tdiv">tdiv</a></span> <span class="fn"><span class="fn">b</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>)</span>.<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.bmod">bmod</a></span> (<span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">w</span>)</span></div></div></div></div><div class="decl" id="BitVec.getElem_sdiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1682-L1691">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_sdiv"><span class="name">BitVec</span>.<span class="name">getElem_sdiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span>)</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>, <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> with
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a>
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; (<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>))<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; (<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">y</span>))<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a></span></div></div></div></div><div class="decl" id="BitVec.getLsbD_sdiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1693-L1702">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_sdiv"><span class="name">BitVec</span>.<span class="name">getLsbD_sdiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>, <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> with
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; <span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">y</span>)).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span></span></div></div></div></div><div class="decl" id="BitVec.getMsbD_sdiv"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1704-L1713">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_sdiv"><span class="name">BitVec</span>.<span class="name">getMsbD_sdiv</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>, <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> with
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; <span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <span class="fn">y</span>)).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HDiv.hDiv">/</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span></span></div></div></div></div><div class="decl" id="BitVec.msb_sdiv_eq_decide"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1715-L1776">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_sdiv_eq_decide"><span class="name">BitVec</span>.<span class="name">msb_sdiv_eq_decide</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.sdiv">sdiv</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   (<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> (<a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">x</span>)</span>) <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <a href="../../.././Init/Prelude.html#Bool.not">!</a><span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a>     <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a>1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span>)</div></div><p>the most significant bit of the signed division <code>x.sdiv y</code> can be computed
by the following cases:
(1) x nonneg, y nonneg: never neg.
(2) x nonneg, y neg: neg when result nonzero.
We know that y is nonzero since it is negative, so we only check <code>|x| ≥ |y|</code>.
(3) x neg, y nonneg: neg when result nonzero.
We check that <code>y ≠ 0</code> and <code>|x| ≥ |y|</code>.
(4) x neg, y neg: neg when <code>x = intMin, </code>y = -1<code>, since </code>intMin / -1 = intMin`.</p><p>The proof strategy is to perform a case analysis on the sign of <code>x</code> and <code>y</code>,
followed by unfolding the <code>sdiv</code> into <code>udiv</code>.</p></div></div><div class="decl" id="BitVec.msb_umod_eq_false_of_left"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1778-L1783">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_umod_eq_false_of_left"><span class="name">BitVec</span>.<span class="name">msb_umod_eq_false_of_left</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></div></div></div></div><div class="decl" id="BitVec.msb_umod_of_le_of_ne_zero_of_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1785-L1791">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_umod_of_le_of_ne_zero_of_le"><span class="name">BitVec</span>.<span class="name">msb_umod_of_le_of_ne_zero_of_le</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn">x</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy</span> : <span class="fn">y</span> <a href="../../.././Init/Core.html#Ne">≠</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy'</span> : <span class="fn">y</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></div></div></div></div><div class="decl" id="BitVec.getElem_srem"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1793-L1802">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_srem"><span class="name">BitVec</span>.<span class="name">getElem_srem</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.srem">srem</a></span> <span class="fn">y</span>)</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>, <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> with
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a>
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; (<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>))<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; (<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>))<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a></span></div></div></div></div><div class="decl" id="BitVec.getLsbD_srem"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1804-L1813">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_srem"><span class="name">BitVec</span>.<span class="name">getLsbD_srem</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.srem">srem</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>, <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> with
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; <span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; <span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>)).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span></span></div></div></div></div><div class="decl" id="BitVec.getMsbD_srem"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1815-L1824">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_srem"><span class="name">BitVec</span>.<span class="name">getMsbD_srem</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.srem">srem</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>, <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> with
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; <span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; <span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>)).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span></span></div></div></div></div><div class="decl" id="BitVec.toInt_srem"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1826-L1852">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_srem"><span class="name">BitVec</span>.<span class="name">toInt_srem</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.srem">srem</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>.<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.tmod">tmod</a></span> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span></span></div></div></div></div><div class="decl" id="BitVec.msb_intMin_umod_neg_of_msb_true"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1854-L1860">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_intMin_umod_neg_of_msb_true"><span class="name">BitVec</span>.<span class="name">msb_intMin_umod_neg_of_msb_true</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hy</span> : <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.intMin">intMin</a> <span class="fn">w</span></span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></div></div></div></div><div class="decl" id="BitVec.msb_neg_umod_neg_of_msb_true_of_msb_true"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1862-L1867">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_neg_umod_neg_of_msb_true_of_msb_true"><span class="name">BitVec</span>.<span class="name">msb_neg_umod_neg_of_msb_true_of_msb_true</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy</span> : <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></div></div></div></div><div class="decl" id="BitVec.toInt_dvd_toInt_iff"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1869-L1881">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_dvd_toInt_iff"><span class="name">BitVec</span>.<span class="name">toInt_dvd_toInt_iff</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Dvd.dvd">∣</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Core.html#Iff">↔</a> ((<a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">x</span>) <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">y</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.toInt_dvd_toInt_iff_of_msb_true_msb_false"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1883-L1885">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_dvd_toInt_iff_of_msb_true_msb_false"><span class="name">BitVec</span>.<span class="name">toInt_dvd_toInt_iff_of_msb_true_msb_false</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy</span> : <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Dvd.dvd">∣</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Core.html#Iff">↔</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.toInt_dvd_toInt_iff_of_msb_false_msb_true"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1887-L1889">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_dvd_toInt_iff_of_msb_false_msb_true"><span class="name">BitVec</span>.<span class="name">toInt_dvd_toInt_iff_of_msb_false_msb_true</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy</span> : <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Dvd.dvd">∣</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.neg_toInt_neg_umod_eq_of_msb_true_msb_true"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1891-L1897">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.neg_toInt_neg_umod_eq_of_msb_true_msb_true"><span class="name">BitVec</span>.<span class="name">neg_toInt_neg_umod_eq_of_msb_true_msb_true</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy</span> : <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">↑<span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>).<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></span></div></div></div></div><div class="decl" id="BitVec.toInt_umod_neg_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1899-L1912">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_umod_neg_add"><span class="name">BitVec</span>.<span class="name">toInt_umod_neg_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hymsb</span> : <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hxmsb</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hdvd</span> : <a href="../../.././Init/Prelude.html#Not">¬</a><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Dvd.dvd">∣</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span></div></div></div></div><div class="decl" id="BitVec.toInt_sub_neg_umod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1914-L1930">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_sub_neg_umod"><span class="name">BitVec</span>.<span class="name">toInt_sub_neg_umod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hxmsb</span> : <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hymsb</span> : <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hdvd</span> : <a href="../../.././Init/Prelude.html#Not">¬</a><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Dvd.dvd">∣</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span></div></div></div></div><div class="decl" id="BitVec.srem_zero_of_dvd"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1932-L1937">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.srem_zero_of_dvd"><span class="name">BitVec</span>.<span class="name">srem_zero_of_dvd</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Dvd.dvd">∣</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.srem">srem</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.msb_srem"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1939-L1968">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_srem"><span class="name">BitVec</span>.<span class="name">msb_srem</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.srem">srem</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.srem">srem</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn">0</span>)</span>)</div></div><p>The remainder for <code>srem</code>, i.e. division with rounding to zero is negative
iff <code>x</code> is negative and <code>y</code> does not divide <code>x</code>.</p><p>We can eventually build fast circuits for the divisibility test <code>x.srem y = 0</code>.</p></div></div><div class="decl" id="BitVec.toInt_smod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L1970-L2000">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.toInt_smod"><span class="name">BitVec</span>.<span class="name">toInt_smod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.smod">smod</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span>.<a href="../../.././Init/Data/Int/DivMod/Basic.html#Int.fmod">fmod</a></span> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.toInt">toInt</a></span></span></div></div></div></div><div class="decl" id="BitVec.getElem_smod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2002-L2011">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getElem_smod"><span class="name">BitVec</span>.<span class="name">getElem_smod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.smod">smod</a></span> <span class="fn">y</span>)</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>, <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> with
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a>
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; (<a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; (<a href="../../.././Init/Prelude.html#ite">if</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">then</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; (<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>))<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a></span></div></div></div></div><div class="decl" id="BitVec.getLsbD_smod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2013-L2025">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getLsbD_smod"><span class="name">BitVec</span>.<span class="name">getLsbD_smod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.smod">smod</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>, <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> with
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; <span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">then</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; <a href="../../.././Init/Prelude.html#ite">if</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">then</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn"><span class="fn">(<span class="fn">y</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getLsbD">getLsbD</a></span> <span class="fn">i</span></span></span></div></div></div></div><div class="decl" id="BitVec.getMsbD_smod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2027-L2036">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.getMsbD_smod"><span class="name">BitVec</span>.<span class="name">getMsbD_smod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.smod">smod</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span>, <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> with
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; <span class="fn"><span class="fn">(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.false">false</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.false">false</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#ite">if</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#ite">then</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <span class="fn">y</span>).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span>
  | <a href="../../.././Init/Prelude.html#Bool.true">true</a>, <a href="../../.././Init/Prelude.html#Bool.true">true</a> =&gt; <span class="fn"><span class="fn">(<a href="../../.././Init/Prelude.html#Neg.neg">-</a>(<a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMod.hMod">%</a> <a href="../../.././Init/Prelude.html#Neg.neg">-</a><span class="fn">y</span>)).<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.getMsbD">getMsbD</a></span> <span class="fn">i</span></span></span></div></div></div></div><div class="decl" id="BitVec.msb_smod"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2038-L2060">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.msb_smod"><span class="name">BitVec</span>.<span class="name">msb_smod</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type">(<span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn"><span class="fn">(<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.smod">smod</a></span> <span class="fn">y</span>)</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn">y</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span>)</span>))</span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><a href="../../.././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.smod">smod</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Core.html#Ne">≠</a> <span class="fn">0</span>)</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></div></div></div></div><div class="mod_doc"><h3 class="markdown-heading" id="Lemmas-that-use-bit-blasting-circuits">Lemmas that use bit blasting circuits <a class="hover-link" href="#Lemmas-that-use-bit-blasting-circuits">#</a></h3></div><div class="decl" id="BitVec.add_sub_comm"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2064-L2068">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_sub_comm"><span class="name">BitVec</span>.<span class="name">add_sub_comm</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">z </span><span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span></div></div></div></div><div class="decl" id="BitVec.sub_add_comm"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2070-L2071">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.sub_add_comm"><span class="name">BitVec</span>.<span class="name">sub_add_comm</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">z </span><span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">z</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span></div></div></div></div><div class="decl" id="BitVec.not_add_one"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2073-L2074">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.not_add_one"><span class="name">BitVec</span>.<span class="name">not_add_one</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Complement.complement">~~~</a>(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> 1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.not_add_eq_not_neg"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2076-L2079">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.not_add_eq_not_neg"><span class="name">BitVec</span>.<span class="name">not_add_eq_not_neg</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Complement.complement">~~~</a>(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span></div></div></div></div><div class="decl" id="BitVec.not_sub_one_eq_not_add_one"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2081-L2083">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.not_sub_one_eq_not_add_one"><span class="name">BitVec</span>.<span class="name">not_sub_one_eq_not_add_one</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Complement.complement">~~~</a>(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> 1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> 1<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span></div></div></div></div><div class="decl" id="BitVec.not_sub_eq_not_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2085-L2086">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.not_sub_eq_not_add"><span class="name">BitVec</span>.<span class="name">not_sub_eq_not_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Complement.complement">~~~</a>(<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Complement.complement">~~~</a><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span></div></div></div></div><div class="decl" id="BitVec.carry_extractLsb'_eq_carry"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2088-L2099">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry_extractLsb'_eq_carry"><span class="name">BitVec</span>.<span class="name">carry_extractLsb'_eq_carry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">i </span><span class="fn">len</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hi</span> : <span class="fn">i</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">len</span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">b</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> <span class="fn">x</span>)</span> <span class="fn">(<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> <span class="fn">y</span>)</span> <span class="fn">b</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.carry">carry</a> <span class="fn">i</span> <span class="fn">x</span> <span class="fn">y</span> <span class="fn">b</span></span></div></div><p>The value of <code>(carry i x y false)</code> can be computed by truncating <code>x</code> and <code>y</code>
to <code>len</code> bits where <code>len ≥ i</code>.</p></div></div><div class="decl" id="BitVec.extractLsb'_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2101-L2109">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.extractLsb'_add"><span class="name">BitVec</span>.<span class="name">extractLsb'_add</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">len</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hlen</span> : <span class="fn">len</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> <span class="fn">y</span></span></div></div><p>The <code>[0..len)</code> low bits of <code>x + y</code> can be computed by truncating <code>x</code> and <code>y</code>
to <code>len</code> bits and then adding.</p></div></div><div class="decl" id="BitVec.extractLsb'_mul"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2111-L2114">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.extractLsb'_mul"><span class="name">BitVec</span>.<span class="name">extractLsb'_mul</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w </span><span class="fn">len</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hlen</span> : <span class="fn">len</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span>)</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.extractLsb'">extractLsb'</a> <span class="fn">0</span> <span class="fn">len</span> <span class="fn">y</span></span></div></div><p><code>extractLsb'</code> commutes with multiplication.</p></div></div><div class="decl" id="BitVec.append_zero_add_zero_append"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2116-L2126">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.append_zero_add_zero_append"><span class="name">BitVec</span>.<span class="name">append_zero_add_zero_append</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">v </span><span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">v</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> (0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">v</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">y</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">y</span></div></div><p>Adding bitvectors that are zero in complementary positions equals concatenation.
We add a <code>no_index</code> annotation to <code><a href="../../.././Init/Prelude.html#HAppend.hAppend">HAppend.hAppend</a></code> such that the width <code>v + w</code>
does not act as a key in the discrimination tree.
This is important to allow matching, when the type of the result of append
<code>x : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> 3</code> and <code>y : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> 4</code> has been reduced to <code>x ++ y : <a href="../../.././Init/Prelude.html#BitVec">BitVec</a> 7</code>.</p></div></div><div class="decl" id="BitVec.zero_append_add_append_zero"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2128-L2133">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.zero_append_add_append_zero"><span class="name">BitVec</span>.<span class="name">zero_append_add_append_zero</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">v </span><span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">v</span></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type">0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">v</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> (<span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>) <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">y</span></div></div><p>Adding bitvectors that are zero in complementary positions equals concatenation.</p></div></div><div class="decl" id="BitVec.add_shiftLeft_eq_or_shiftLeft"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2135-L2146">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.add_shiftLeft_eq_or_shiftLeft"><span class="name">BitVec</span>.<span class="name">add_shiftLeft_eq_or_shiftLeft</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">x</span></div></div><p>Heuristically, <code>y &lt;&lt;&lt; x</code> is much larger than <code>x</code>,
and hence low bits of <code>y &lt;&lt;&lt; x</code>. Thus, <code>x + (y &lt;&lt;&lt; x) = x ||| (y &lt;&lt;&lt; x).</code></p></div></div><div class="decl" id="BitVec.shiftLeft_add_eq_shiftLeft_or"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2148-L2152">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.shiftLeft_add_eq_shiftLeft_or"><span class="name">BitVec</span>.<span class="name">shiftLeft_add_eq_shiftLeft_or</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">y</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">y</span> <a href="../../.././Init/Prelude.html#HShiftLeft.hShiftLeft">&lt;&lt;&lt;</a> <span class="fn">x</span> <a href="../../.././Init/Prelude.html#HOr.hOr">|||</a> <span class="fn">x</span></div></div><p>Heuristically, <code>y &lt;&lt;&lt; x</code> is much larger than <code>x</code>,
and hence low bits of <code>y &lt;&lt;&lt; x</code>. Thus, <code>(y &lt;&lt;&lt; x) + x = (y &lt;&lt;&lt; x) ||| x.</code></p></div></div><div class="mod_doc"><h1 class="markdown-heading" id="Note-Fast-Unsigned-Multiplication-Overflow-Detection">Note [Fast Unsigned Multiplication Overflow Detection] <a class="hover-link" href="#Note-Fast-Unsigned-Multiplication-Overflow-Detection">#</a></h1><p>The fast unsigned multiplication overflow detection circuit is described in
<code>Efficient integer multiplication overflow detection circuits</code> (<a href="https://ieeexplore.ieee.org/abstract/document/987767">https://ieeexplore.ieee.org/abstract/document/987767</a>).
With this circuit, the computation of the overflow flag for the unsigned multiplication of
two bitvectors <code>x</code> and <code>y</code> with bitwidth <code>w</code> requires:
· extending the operands by <code>1</code> bit and performing the multiplication with the extended operands,
· computing the preliminary overflow flag, which describes whether <code>x</code> and <code>y</code> together have at most
<code>w - 2</code> leading zeros.
If the most significant bit of the extended operands' multiplication is <code>true</code> or if the
preliminary overflow flag is <code>true</code>, overflow happens.
In particular, the conditions check two different cases:
· if the most significant bit of the extended operands' multiplication is <code>true</code>, the result of the
multiplication 2 ^ w ≤ x.toNat * y.toNat &lt; 2 ^ (w + 1),
· if the preliminary flag is true, then 2 ^ (w + 1) ≤ x.toNat * y.toNat.</p><p>The computation of the preliminary overflow flag <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.resRec">resRec</a></code> relies on two quantities:
· <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.uppcRec">uppcRec</a></code>: the unsigned parallel prefix circuit for the bits until a certain <code>i</code>,
· <code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.aandRec">aandRec</a></code>: the conjunction between the parallel prefix circuit at of the first operand until a certain <code>i</code>
and the <code>i</code>-th bit in the second operand.</p></div><div class="decl" id="BitVec.uppcRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2179-L2186">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.uppcRec"><span class="name">BitVec</span>.<span class="name">uppcRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn">s</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p><code><a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.uppcRec">uppcRec</a></code> is the unsigned parallel prefix, <code>x.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.uppcRec">uppcRec</a> s = true</code> iff <code>x.toNat</code> is greater or equal
than <code>2 ^ (w - 1 - (s - 1))</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.uppcRec">uppcRec</a></span> <span class="fn">0</span> <span class="fn">hs_2</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.msb">msb</a></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.uppcRec">uppcRec</a></span> <span class="fn"><span class="fn">i</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span> <span class="fn">hs_2</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">x</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.uppcRec">uppcRec</a></span> <span class="fn">i</span> <span class="fn">⋯</span></span>)</li></ul></details><details id="instances-for-list-BitVec.uppcRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.uppcRec_true_iff"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2188-L2222">source</a></div><div class="attributes">@[simp]</div>
<div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.uppcRec_true_iff"><span class="name">BitVec</span>.<span class="name">uppcRec_true_iff</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn">s</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.uppcRec">uppcRec</a></span> <span class="fn">s</span> <span class="fn">h</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Core.html#Iff">↔</a> <span class="fn">2</span> <a href="../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> (<span class="fn">s</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>)) <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span></div></div><p>The unsigned parallel prefix of <code>x</code> at <code>s</code> is <code>true</code> if and only if x interpreted
as a natural number is greater or equal than <code>2 ^ (w - 1 - (s - 1))</code>.</p></div></div><div class="decl" id="BitVec.aandRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2224-L2228">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.aandRec"><span class="name">BitVec</span>.<span class="name">aandRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn">s</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Conjunction for fast umulOverflow circuit</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.aandRec">aandRec</a></span> <span class="fn">y</span> <span class="fn">s</span> <span class="fn">hs</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">y</span><a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">s</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.uppcRec">uppcRec</a></span> <span class="fn">s</span> <span class="fn">hs</span></span>)</li></ul></details><details id="instances-for-list-BitVec.aandRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.resRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2231-L2242">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.resRec"><span class="name">BitVec</span>.<span class="name">resRec</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn">s</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hslt</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">s</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Preliminary overflow flag for fast umulOverflow circuit as introduced in
<code>Efficient integer multiplication overflow detection circuits</code> (<a href="https://ieeexplore.ieee.org/abstract/document/987767">https://ieeexplore.ieee.org/abstract/document/987767</a>).</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.resRec">resRec</a></span> <span class="fn">y</span> <span class="fn">0</span> <span class="fn">hs_2</span> <span class="fn">hslt_2</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">⋯</span>.<a href="../../.././Init/Prelude.html#False.elim">elim</a></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.resRec">resRec</a></span> <span class="fn">y</span> <span class="fn">(<a href="../../.././Init/Prelude.html#Nat.succ">Nat.succ</a> <span class="fn">0</span>)</span> <span class="fn">hs_3</span> <span class="fn">hslt_3</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.aandRec">aandRec</a></span> <span class="fn">y</span> <span class="fn">1</span> <span class="fn">hs_3</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.resRec">resRec</a></span> <span class="fn">y</span> <span class="fn"><span class="fn"><span class="fn">s''</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span> <span class="fn">hs_3</span> <span class="fn">hslt_3</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.resRec">resRec</a></span> <span class="fn">y</span> <span class="fn"><span class="fn">s''</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span> <span class="fn">⋯</span> <span class="fn">⋯</span></span> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.aandRec">aandRec</a></span> <span class="fn">y</span> <span class="fn"><span class="fn"><span class="fn">s''</span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span>.<a href="../../.././Init/Prelude.html#Nat.succ">succ</a></span> <span class="fn">⋯</span></span>)</li></ul></details><details id="instances-for-list-BitVec.resRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="BitVec.resRec_true_iff"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2244-L2294">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.resRec_true_iff"><span class="name">BitVec</span>.<span class="name">resRec_true_iff</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">s</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hs</span> : <span class="fn">s</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hs'</span> : <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">s</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.resRec">resRec</a></span> <span class="fn">y</span> <span class="fn">s</span> <span class="fn">hs</span> <span class="fn">hs'</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Core.html#Iff">↔</a> <a href="../../.././Init/Core.html#Exists">∃</a> <a href="../../.././Init/Core.html#Exists">(</a><span class="fn">k</span> <a href="../../.././Init/Core.html#Exists">:</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a><a href="../../.././Init/Core.html#Exists">)</a><a href="../../.././Init/Core.html#Exists">,</a> <a href="../../.././Init/Core.html#Exists">∃</a> <a href="../../.././Init/Core.html#Exists">(</a><span class="fn">h</span> <a href="../../.././Init/Core.html#Exists">:</a> <span class="fn">k</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">s</span><a href="../../.././Init/Core.html#Exists">)</a><a href="../../.././Init/Core.html#Exists">,</a> <a href="../../.././Init/Core.html#Exists">∃</a> <a href="../../.././Init/Core.html#Exists">(</a><span class="fn">x_1</span> <a href="../../.././Init/Core.html#Exists">:</a> <span class="fn">0</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">k</span><a href="../../.././Init/Core.html#Exists">)</a><a href="../../.././Init/Core.html#Exists">,</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.aandRec">aandRec</a></span> <span class="fn">y</span> <span class="fn">k</span> <span class="fn">⋯</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></div></div><p>The preliminary overflow flag is true for a certain <code>s</code> if and only if the conjunction returns true at
any <code>k</code> smaller than or equal to <code>s</code>.</p></div></div><div class="decl" id="BitVec.resRec_of_clz_le"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2296-L2315">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.resRec_of_clz_le"><span class="name">BitVec</span>.<span class="name">resRec_of_clz_le</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">hw</span> : <span class="fn">1</span> <a href="../../.././Init/Prelude.html#LT.lt">&lt;</a> <span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hx</span> : <span class="fn">x</span> <a href="../../.././Init/Core.html#Ne">≠</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hy</span> : <span class="fn">y</span> <a href="../../.././Init/Core.html#Ne">≠</a> 0<a href="../../.././Init/Prelude.html#BitVec.ofNat">#</a><span class="fn">w</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.clz">clz</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn"><span class="fn">y</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.clz">clz</a></span>.<a href="../../.././Init/Prelude.html#BitVec.toNat">toNat</a></span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">2</span> → <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.resRec">resRec</a></span> <span class="fn">y</span> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>) <span class="fn">⋯</span> <span class="fn">⋯</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span></div></div><p>If the sum of the leading zeroes of two bitvecs with bitwidth <code>w</code> is less than or equal to
(<code>w - 2</code>), then the preliminary overflow flag is true and their unsigned multiplication overflows.
The explanation is in <code>Efficient integer multiplication overflow detection circuits</code>
<a href="https://ieeexplore.ieee.org/abstract/document/987767">https://ieeexplore.ieee.org/abstract/document/987767</a></p></div></div><div class="decl" id="BitVec.fastUmulOverflow"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Init/Data/BitVec/Bitblast.lean#L2317-L2386">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.fastUmulOverflow"><span class="name">BitVec</span>.<span class="name">fastUmulOverflow</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">w</span> : <a href="../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#BitVec">BitVec</a> <span class="fn">w</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Basic.html#BitVec.umulOverflow">umulOverflow</a></span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">if hw : <span class="fn">w</span> <a href="../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">1</span> then <a href="../../.././Init/Prelude.html#Bool.false">false</a> else (<span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><a href="../../.././Init/Data/BitVec/Basic.html#BitVec.setWidth">setWidth</a> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn">y</span></span>)<a href="../../.././Init/GetElem.html#GetElem.getElem">[</a><span class="fn">w</span><a href="../../.././Init/GetElem.html#GetElem.getElem">]</a> <a href="../../.././Init/Prelude.html#Bool.or">||</a> <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../.././Init/Data/BitVec/Bitblast.html#BitVec.resRec">resRec</a></span> <span class="fn">y</span> (<span class="fn">w</span> <a href="../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span>) <span class="fn">⋯</span> <span class="fn">⋯</span></span></span></div></div><p>Complete fast overflow detection circuit for unsigned multiplication.</p></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>