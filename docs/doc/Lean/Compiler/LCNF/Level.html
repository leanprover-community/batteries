<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Compiler.LCNF.Level</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Lean.Compiler.LCNF.Level";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">Level</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Lean/Util/CollectLevelParams.html">Lean.Util.CollectLevelParams</a></li><li><a href="../../.././Lean/Compiler/LCNF/Basic.html">Lean.Compiler.LCNF.Basic</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Compiler.LCNF.Level" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.NormLevelParam.State"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">NormLevelParam</span>.<span class="name">State</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.NormLevelParam.M"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">NormLevelParam</span>.<span class="name">M</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.NormLevelParam.normLevel"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">NormLevelParam</span>.<span class="name">normLevel</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.NormLevelParam.normExpr"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">NormLevelParam</span>.<span class="name">normExpr</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.normLevelParams"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">normLevelParams</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CollectLevelParams.visitType"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitType</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CollectLevelParams.visitArg"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitArg</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CollectLevelParams.visitArgs"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CollectLevelParams.visitLetValue"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitLetValue</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CollectLevelParams.visitParam"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitParam</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CollectLevelParams.visitParams"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitParams</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CollectLevelParams.visitAlt"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitAlt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CollectLevelParams.visitAlts"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitAlts</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CollectLevelParams.visitCode"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitCode</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.CollectLevelParams.visitDeclValue"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitDeclValue</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Compiler.LCNF.Decl.setLevelParams"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">Decl</span>.<span class="name">setLevelParams</span></a></div></nav><main>
<div class="mod_doc"><h1 id="Universe-level-utilities-for-the-code-generator" class="markdown-heading">Universe level utilities for the code generator <a class="hover-link" href="#Universe-level-utilities-for-the-code-generator">#</a></h1></div><div class="mod_doc"><h2 id="Universe-level-parameter-normalizer" class="markdown-heading">Universe level parameter normalizer <a class="hover-link" href="#Universe-level-parameter-normalizer">#</a></h2><p>The specializer creates &quot;keys&quot; for a function specialization. The key is an expression
containing the function being specialized and the argument values used for the specialization.
The key does not contain free variables, and function parameter names are irrelevant due to alpha
equivalence. The universe level normalizer ensures the universe parameter names are irrelevant
when comparing keys.</p></div><div class="decl" id="Lean.Compiler.LCNF.NormLevelParam.State"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L32-L39">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.NormLevelParam.State"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">NormLevelParam</span>.<span class="name">State</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>State for the universe level normalizer monad.</p><ul class="structure_fields" id="Lean.Compiler.LCNF.NormLevelParam.State.mk"><li id="Lean.Compiler.LCNF.NormLevelParam.State.nextIdx" class="structure_field"><div class="structure_field_info">nextIdx : <a href="../../.././Init/Prelude.html#Nat">Nat</a></div><div class="structure_field_doc"><p>Counter for generating new (normalized) universe parameter names.</p></div></li><li id="Lean.Compiler.LCNF.NormLevelParam.State.map" class="structure_field"><div class="structure_field_info">map : <span class="fn"><a href="../../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../../.././Init/Prelude.html#Lean.Name">Name</a> <a href="../../.././Lean/Level.html#Lean.Level">Level</a></span></div><div class="structure_field_doc"><p>Mapping from existing universe parameter names to the new ones.</p></div></li><li id="Lean.Compiler.LCNF.NormLevelParam.State.paramNames" class="structure_field"><div class="structure_field_info">paramNames : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Lean.Name">Name</a></span></div><div class="structure_field_doc"><p>Parameters that have been normalized.</p></div></li></ul><details id="instances-for-list-Lean.Compiler.LCNF.NormLevelParam.State" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.NormLevelParam.M"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L41-L42">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.NormLevelParam.M"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">NormLevelParam</span>.<span class="name">M</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Monad for the universe level normalizer</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.NormLevelParam.M">Lean.Compiler.LCNF.NormLevelParam.M</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Control/State.html#StateM">StateM</a> <a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.NormLevelParam.State">Lean.Compiler.LCNF.NormLevelParam.State</a></span></li></ul></details><details id="instances-for-list-Lean.Compiler.LCNF.NormLevelParam.M" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.NormLevelParam.normLevel"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L44-L62">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.NormLevelParam.normLevel"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">NormLevelParam</span>.<span class="name">normLevel</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">u</span> : <a href="../../.././Lean/Level.html#Lean.Level">Level</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.NormLevelParam.M">M</a> <a href="../../.././Lean/Level.html#Lean.Level">Level</a></span></div></div><p>Normalize universe level parameter names in the given universe level.</p></div></div><div class="decl" id="Lean.Compiler.LCNF.NormLevelParam.normExpr"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L64-L80">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.NormLevelParam.normExpr"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">NormLevelParam</span>.<span class="name">normExpr</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.NormLevelParam.M">M</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Normalize universe level parameter names in the given expression.</p></div></div><div class="decl" id="Lean.Compiler.LCNF.normLevelParams"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L84-L90">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.normLevelParams"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">normLevelParams</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>Normalize universe level parameter names in the given expression.
The function also returns the list of universe level parameter names that have been normalized.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.normLevelParams">Lean.Compiler.LCNF.normLevelParams</a> <span class="fn">e</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><a href="../../.././Init/Control/State.html#StateT.run">StateT.run</a> <span class="fn">(<a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.NormLevelParam.normExpr">Lean.Compiler.LCNF.NormLevelParam.normExpr</a> <span class="fn">e</span>)</span> <a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.NormLevelParam.State.mk">{</a> <a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.NormLevelParam.State.mk">}</a></span> with
  | <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">e</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">s</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <a href="../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">e</span><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn"><span class="fn"><span class="fn">s</span>.<a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.NormLevelParam.State.paramNames">paramNames</a></span>.<a href="../../.././Init/Prelude.html#Array.toList">toList</a></span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></li></ul></details><details id="instances-for-list-Lean.Compiler.LCNF.normLevelParams" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 id="Universe-level-collector" class="markdown-heading">Universe level collector <a class="hover-link" href="#Universe-level-collector">#</a></h2><p>This module extends support for <code>Code</code>. See <code>Lean.Util.CollectLevelParams.lean</code></p><p>In the code specializer, we create new auxiliary declarations and the
universe level parameter collector is used to setup the new auxiliary declarations.</p><p>See <code><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.Decl.setLevelParams">Decl.setLevelParams</a></code>.</p></div><div class="decl" id="Lean.Compiler.LCNF.CollectLevelParams.visitType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L105-L106">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitType"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitType</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Util/CollectLevelParams.html#Lean.CollectLevelParams.Visitor">CollectLevelParams.Visitor</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitType">Lean.Compiler.LCNF.CollectLevelParams.visitType</a> <span class="fn">type</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Util/CollectLevelParams.html#Lean.CollectLevelParams.visitExpr">Lean.CollectLevelParams.visitExpr</a> <span class="fn">type</span></span></li></ul></details><details id="instances-for-list-Lean.Compiler.LCNF.CollectLevelParams.visitType" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.CollectLevelParams.visitArg"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L108-L111">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitArg"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitArg</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">arg</span> : <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Arg">Arg</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Purity.pure">Purity.pure</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Util/CollectLevelParams.html#Lean.CollectLevelParams.Visitor">CollectLevelParams.Visitor</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitArg">Lean.Compiler.LCNF.CollectLevelParams.visitArg</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Arg.erased">Lean.Compiler.LCNF.Arg.erased</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#id">id</a></li><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitArg">Lean.Compiler.LCNF.CollectLevelParams.visitArg</a> <span class="fn">(<a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Arg.fvar">Lean.Compiler.LCNF.Arg.fvar</a> <span class="fn">fvarId</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#id">id</a></li><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitArg">Lean.Compiler.LCNF.CollectLevelParams.visitArg</a> <span class="fn">(<a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Arg.type">Lean.Compiler.LCNF.Arg.type</a> <span class="fn">e</span> <span class="fn">h</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitType">Lean.Compiler.LCNF.CollectLevelParams.visitType</a> <span class="fn">e</span></span></li></ul></details><details id="instances-for-list-Lean.Compiler.LCNF.CollectLevelParams.visitArg" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.CollectLevelParams.visitArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L113-L114">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitArgs"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitArgs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Arg">Arg</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Purity.pure">Purity.pure</a>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Util/CollectLevelParams.html#Lean.CollectLevelParams.Visitor">CollectLevelParams.Visitor</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Compiler.LCNF.CollectLevelParams.visitArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.CollectLevelParams.visitLetValue"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L116-L120">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitLetValue"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitLetValue</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetValue">LetValue</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Purity.pure">Purity.pure</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Util/CollectLevelParams.html#Lean.CollectLevelParams.Visitor">CollectLevelParams.Visitor</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitLetValue">Lean.Compiler.LCNF.CollectLevelParams.visitLetValue</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetValue.erased">Lean.Compiler.LCNF.LetValue.erased</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#id">id</a></li><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitLetValue">Lean.Compiler.LCNF.CollectLevelParams.visitLetValue</a> <span class="fn">(<a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetValue.lit">Lean.Compiler.LCNF.LetValue.lit</a> <span class="fn">value</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#id">id</a></li><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitLetValue">Lean.Compiler.LCNF.CollectLevelParams.visitLetValue</a> <span class="fn">(<a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetValue.proj">Lean.Compiler.LCNF.LetValue.proj</a> <span class="fn">typeName</span> <span class="fn">idx</span> <span class="fn">struct</span> <span class="fn">h</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#id">id</a></li><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitLetValue">Lean.Compiler.LCNF.CollectLevelParams.visitLetValue</a> <span class="fn">(<a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.LetValue.fvar">Lean.Compiler.LCNF.LetValue.fvar</a> <span class="fn">fvarId</span> <span class="fn">args</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitArgs">Lean.Compiler.LCNF.CollectLevelParams.visitArgs</a> <span class="fn">args</span></span></li></ul></details><details id="instances-for-list-Lean.Compiler.LCNF.CollectLevelParams.visitLetValue" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.CollectLevelParams.visitParam"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L122-L123">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitParam"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitParam</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Param</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Purity.pure">Purity.pure</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Util/CollectLevelParams.html#Lean.CollectLevelParams.Visitor">CollectLevelParams.Visitor</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitParam">Lean.Compiler.LCNF.CollectLevelParams.visitParam</a> <span class="fn">p</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitType">Lean.Compiler.LCNF.CollectLevelParams.visitType</a> <span class="fn"><span class="fn">p</span>.<a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param.type">type</a></span></span></li></ul></details><details id="instances-for-list-Lean.Compiler.LCNF.CollectLevelParams.visitParam" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.CollectLevelParams.visitParams"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L125-L126">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitParams"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitParams</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ps</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Param">Param</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Purity.pure">Purity.pure</a>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Util/CollectLevelParams.html#Lean.CollectLevelParams.Visitor">CollectLevelParams.Visitor</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Compiler.LCNF.CollectLevelParams.visitParams" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.CollectLevelParams.visitAlt"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L129-L132">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitAlt"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitAlt</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">alt</span> : <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Alt</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Purity.pure">Purity.pure</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Util/CollectLevelParams.html#Lean.CollectLevelParams.Visitor">CollectLevelParams.Visitor</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.CollectLevelParams.visitAlts"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L134-L135">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitAlts"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitAlts</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">alts</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Alt">Alt</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Purity.pure">Purity.pure</a>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Util/CollectLevelParams.html#Lean.CollectLevelParams.Visitor">CollectLevelParams.Visitor</a></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.CollectLevelParams.visitCode"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L137-L143">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitCode"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitCode</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Code">Code</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Purity.pure">Purity.pure</a></span> → <a href="../../.././Lean/Util/CollectLevelParams.html#Lean.CollectLevelParams.Visitor">CollectLevelParams.Visitor</a></span></div></div></div></div><div class="decl" id="Lean.Compiler.LCNF.CollectLevelParams.visitDeclValue"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L146-L148">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitDeclValue"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">CollectLevelParams</span>.<span class="name">visitDeclValue</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.DeclValue">DeclValue</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Purity.pure">Purity.pure</a></span> → <a href="../../.././Lean/Util/CollectLevelParams.html#Lean.CollectLevelParams.Visitor">CollectLevelParams.Visitor</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitDeclValue">Lean.Compiler.LCNF.CollectLevelParams.visitDeclValue</a> <span class="fn">(<a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.DeclValue.code">Lean.Compiler.LCNF.DeclValue.code</a> <span class="fn">c</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitCode">Lean.Compiler.LCNF.CollectLevelParams.visitCode</a> <span class="fn">c</span></span></li><li class="equation"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.CollectLevelParams.visitDeclValue">Lean.Compiler.LCNF.CollectLevelParams.visitDeclValue</a> <span class="fn">(<a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.DeclValue.extern">Lean.Compiler.LCNF.DeclValue.extern</a> <span class="fn">externAttrData</span>)</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#id">id</a></li></ul></details><details id="instances-for-list-Lean.Compiler.LCNF.CollectLevelParams.visitDeclValue" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Compiler.LCNF.Decl.setLevelParams"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Compiler/LCNF/Level.lean#L155-L161">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Compiler/LCNF/Level.html#Lean.Compiler.LCNF.Decl.setLevelParams"><span class="name">Lean</span>.<span class="name">Compiler</span>.<span class="name">LCNF</span>.<span class="name">Decl</span>.<span class="name">setLevelParams</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">decl</span> : <span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Decl</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Purity.pure">Purity.pure</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Decl">Decl</a> <a href="../../.././Lean/Compiler/LCNF/Basic.html#Lean.Compiler.LCNF.Purity.pure">Purity.pure</a></span></div></div><p>Collect universe level parameters collecting in the type, parameters, and value, and then
set <code>decl.levelParams</code> with the resulting value.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Compiler.LCNF.Decl.setLevelParams" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>