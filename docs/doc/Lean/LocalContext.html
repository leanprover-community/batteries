<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href=".././style.css"></link><link rel="icon" href=".././favicon.svg"></link><link rel="mask-icon" href=".././favicon.svg" color="#000000"></link><link rel="prefetch" href=".././/declarations/declaration-data.bmp" as="image"></link><title>Lean.LocalContext</title><script defer="true" src=".././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT=".././";</script><script>const MODULE_NAME="Lean.LocalContext";</script><script type="module" src=".././jump-src.js"></script><script type="module" src=".././search.js"></script><script type="module" src=".././expand-nav.js"></script><script type="module" src=".././how-about.js"></script><script type="module" src=".././instances.js"></script><script type="module" src=".././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lean</span>.<span class="name">LocalContext</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href=".././Lean/Expr.html">Lean.Expr</a></li><li><a href=".././Lean/Data/PersistentArray.html">Lean.Data.PersistentArray</a></li><li><a href=".././Init/Data/Nat/Control.html">Init.Data.Nat.Control</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.LocalContext" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDeclKind"><span class="name">Lean</span>.<span class="name">LocalDeclKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instInhabitedLocalDeclKind"><span class="name">Lean</span>.<span class="name">instInhabitedLocalDeclKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instInhabitedLocalDeclKind.default"><span class="name">Lean</span>.<span class="name">instInhabitedLocalDeclKind</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instReprLocalDeclKind.repr"><span class="name">Lean</span>.<span class="name">instReprLocalDeclKind</span>.<span class="name">repr</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instReprLocalDeclKind"><span class="name">Lean</span>.<span class="name">instReprLocalDeclKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instDecidableEqLocalDeclKind"><span class="name">Lean</span>.<span class="name">instDecidableEqLocalDeclKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instHashableLocalDeclKind"><span class="name">Lean</span>.<span class="name">instHashableLocalDeclKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instHashableLocalDeclKind.hash"><span class="name">Lean</span>.<span class="name">instHashableLocalDeclKind</span>.<span class="name">hash</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl"><span class="name">Lean</span>.<span class="name">LocalDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instInhabitedLocalDecl.default"><span class="name">Lean</span>.<span class="name">instInhabitedLocalDecl</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instInhabitedLocalDecl"><span class="name">Lean</span>.<span class="name">instInhabitedLocalDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.mkLocalDeclEx"><span class="name">Lean</span>.<span class="name">mkLocalDeclEx</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.mkLetDeclEx"><span class="name">Lean</span>.<span class="name">mkLetDeclEx</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.binderInfoEx"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">binderInfoEx</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.isLet"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">isLet</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.index"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">index</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.setIndex"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setIndex</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.fvarId"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">fvarId</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.userName"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">userName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.type"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">type</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.setType"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setType</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.binderInfo"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">binderInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.kind"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">kind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.isAuxDecl"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">isAuxDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.isImplementationDetail"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">isImplementationDetail</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.value?"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">value?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.value"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">value</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.hasValue"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">hasValue</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.setValue"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setValue</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.setNondep"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setNondep</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.isNondep"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">isNondep</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.setUserName"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setUserName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.setBinderInfo"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setBinderInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.toExpr"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">toExpr</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.hasExprMVar"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">hasExprMVar</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.setKind"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext"><span class="name">Lean</span>.<span class="name">LocalContext</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instInhabitedLocalContext.default"><span class="name">Lean</span>.<span class="name">instInhabitedLocalContext</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instInhabitedLocalContext"><span class="name">Lean</span>.<span class="name">instInhabitedLocalContext</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.mkEmpty"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkEmpty</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.empty"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">empty</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.isEmpty"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">isEmpty</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.mkLocalDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkLocalDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.mkLetDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkLetDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.mkAuxDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkAuxDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.addDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">addDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.find?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">find?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.findFVar?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">findFVar?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.get!"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">get!</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.getFVar!"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">getFVar!</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.contains"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">contains</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.containsFVar"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">containsFVar</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.getFVarIds"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">getFVarIds</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.getFVars"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">getFVars</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.erase"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">erase</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.pop"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">pop</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.findFromUserName?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">findFromUserName?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.usesUserName"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">usesUserName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.getUnusedName"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">getUnusedName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.lastDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">lastDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.setUserName"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">setUserName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.renameUserName"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">renameUserName</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.modifyLocalDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">modifyLocalDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.modifyLocalDecls"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">modifyLocalDecls</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.setKind"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">setKind</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.setBinderInfo"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">setBinderInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.numIndices"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">numIndices</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.getAt?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">getAt?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.foldlM"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">foldlM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.foldrM"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">foldrM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.forM"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">forM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.findDeclM?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">findDeclM?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.findDeclRevM?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">findDeclRevM?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.instForInLocalDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">instForInLocalDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.foldl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">foldl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.foldr"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">foldr</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.size"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">size</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.findDecl?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">findDecl?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.findDeclRev?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">findDeclRev?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.isSubPrefixOfAux"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">isSubPrefixOfAux</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.isSubPrefixOf"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">isSubPrefixOf</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.mkBinding"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkBinding</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.mkLambda"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkLambda</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.mkForall"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkForall</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.anyM"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">anyM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.allM"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">allM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.any"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">any</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.all"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">all</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.sanitizeNames"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">sanitizeNames</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.getRoundtrippingUserName?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">getRoundtrippingUserName?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.sortFVarsByContextOrder"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">sortFVarsByContextOrder</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MonadLCtx"><span class="name">Lean</span>.<span class="name">MonadLCtx</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instMonadLCtxOfMonadLift"><span class="name">Lean</span>.<span class="name">instMonadLCtxOfMonadLift</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.getLocalHyps"><span class="name">Lean</span>.<span class="name">getLocalHyps</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalDecl.replaceFVarId"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">replaceFVarId</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.LocalContext.replaceFVarId"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">replaceFVarId</span></a></div></nav><main>
<div class="decl" id="Lean.LocalDeclKind"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L17-L46">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDeclKind"><span class="name">Lean</span>.<span class="name">LocalDeclKind</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><p>Whether a local declaration should be found by type class search, tactics, etc.
and shown in the goal display.</p><ul class="constructors"><li class="constructor" id="Lean.LocalDeclKind.default">default : <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a><div class="inductive_ctor_doc"><p>Participates fully in type class search, tactics, and is shown even if inaccessible.</p><p>For example: the <code>x</code> in <code>fun x =&gt; _</code> has the default kind.</p></div></li><li class="constructor" id="Lean.LocalDeclKind.implDetail">implDetail : <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a><div class="inductive_ctor_doc"><p>Invisible to type class search or tactics, and hidden in the goal display.</p><p>This kind is used for temporary variables in macros.
For example: <code>return (← foo) + bar</code> expands to
<code>foo &gt;&gt;= fun __tmp =&gt; pure (__tmp + bar)</code>,
where <code>__tmp</code> has the <code><a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.implDetail">implDetail</a></code> kind.</p></div></li><li class="constructor" id="Lean.LocalDeclKind.auxDecl">auxDecl : <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a><div class="inductive_ctor_doc"><p>Auxiliary local declaration for recursive calls.
The behavior is similar to <code><a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.implDetail">implDetail</a></code>.</p><p>For example: <code>def foo (n : Nat) : <a href=".././Init/Prelude.html#Nat">Nat</a> := _</code> adds the local declaration
<code>foo : <a href=".././Init/Prelude.html#Nat">Nat</a> → <a href=".././Init/Prelude.html#Nat">Nat</a></code> to allow recursive calls.
This declaration has the <code><a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.auxDecl">auxDecl</a></code> kind.</p></div></li></ul><details id="instances-for-list-Lean.LocalDeclKind" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.instInhabitedLocalDeclKind"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L46-L46">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.instInhabitedLocalDeclKind"><span class="name">Lean</span>.<span class="name">instInhabitedLocalDeclKind</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Inhabited">Inhabited</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/LocalContext.html#Lean.instInhabitedLocalDeclKind">Lean.instInhabitedLocalDeclKind</a> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href=".././Lean/LocalContext.html#Lean.instInhabitedLocalDeclKind.default">Lean.instInhabitedLocalDeclKind.default</a> <a href=".././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.instInhabitedLocalDeclKind.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L46-L46">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.instInhabitedLocalDeclKind.default"><span class="name">Lean</span>.<span class="name">instInhabitedLocalDeclKind</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/LocalContext.html#Lean.instInhabitedLocalDeclKind.default">Lean.instInhabitedLocalDeclKind.default</a> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.default">Lean.LocalDeclKind.default</a></li></ul></details><details id="instances-for-list-Lean.instInhabitedLocalDeclKind.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.instReprLocalDeclKind.repr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L46-L46">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.instReprLocalDeclKind.repr"><span class="name">Lean</span>.<span class="name">instReprLocalDeclKind</span>.<span class="name">repr</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a> → <span class="fn"><a href=".././Init/Prelude.html#Nat">Nat</a> → <a href=".././Init/Data/Format/Basic.html#Std.Format">Format</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.instReprLocalDeclKind.repr">Lean.instReprLocalDeclKind.repr</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.default">Lean.LocalDeclKind.default</a> <span class="fn">prec✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Init/Data/Repr.html#Repr.addAppParen">Repr.addAppParen</a>
    <span class="fn"><span class="fn">(<a href=".././Init/Data/Format/Basic.html#Std.Format.nest">Std.Format.nest</a> (<a href=".././Init/Prelude.html#ite">if</a> <span class="fn">prec✝</span> <a href=".././Init/Prelude.html#GE.ge">≥</a> <span class="fn">1024</span> <a href=".././Init/Prelude.html#ite">then</a> <span class="fn">1</span> <a href=".././Init/Prelude.html#ite">else</a> <span class="fn">2</span>) <span class="fn">(<a href=".././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> <span class="fn">&quot;Lean.LocalDeclKind.default&quot;</span>)</span>)</span>.<a href=".././Init/Data/Format/Basic.html#Std.Format.group">group</a></span> <span class="fn">prec✝</span></span></li><li class="equation"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.instReprLocalDeclKind.repr">Lean.instReprLocalDeclKind.repr</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.auxDecl">Lean.LocalDeclKind.auxDecl</a> <span class="fn">prec✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Init/Data/Repr.html#Repr.addAppParen">Repr.addAppParen</a>
    <span class="fn"><span class="fn">(<a href=".././Init/Data/Format/Basic.html#Std.Format.nest">Std.Format.nest</a> (<a href=".././Init/Prelude.html#ite">if</a> <span class="fn">prec✝</span> <a href=".././Init/Prelude.html#GE.ge">≥</a> <span class="fn">1024</span> <a href=".././Init/Prelude.html#ite">then</a> <span class="fn">1</span> <a href=".././Init/Prelude.html#ite">else</a> <span class="fn">2</span>) <span class="fn">(<a href=".././Init/Data/Format/Basic.html#Std.Format.text">Std.Format.text</a> <span class="fn">&quot;Lean.LocalDeclKind.auxDecl&quot;</span>)</span>)</span>.<a href=".././Init/Data/Format/Basic.html#Std.Format.group">group</a></span> <span class="fn">prec✝</span></span></li></ul></details><details id="instances-for-list-Lean.instReprLocalDeclKind.repr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.instReprLocalDeclKind"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L46-L46">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.instReprLocalDeclKind"><span class="name">Lean</span>.<span class="name">instReprLocalDeclKind</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Data/Repr.html#Repr">Repr</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/LocalContext.html#Lean.instReprLocalDeclKind">Lean.instReprLocalDeclKind</a> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href=".././Lean/LocalContext.html#Lean.instReprLocalDeclKind.repr">Lean.instReprLocalDeclKind.repr</a> <a href=".././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.instDecidableEqLocalDeclKind"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L46-L46">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.instDecidableEqLocalDeclKind"><span class="name">Lean</span>.<span class="name">instDecidableEqLocalDeclKind</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#DecidableEq">DecidableEq</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.instDecidableEqLocalDeclKind">Lean.instDecidableEqLocalDeclKind</a> <span class="fn">x✝</span> <span class="fn">y✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">if h : <span class="fn"><span class="fn">x✝</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.ctorIdx">ctorIdx</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y✝</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.ctorIdx">ctorIdx</a></span> then <span class="fn"><a href=".././Init/Prelude.html#Decidable.isTrue">isTrue</a> <span class="fn">⋯</span></span> else <span class="fn"><a href=".././Init/Prelude.html#Decidable.isFalse">isFalse</a> <span class="fn">⋯</span></span></span></li></ul></details></div></div><div class="decl" id="Lean.instHashableLocalDeclKind"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L46-L46">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.instHashableLocalDeclKind"><span class="name">Lean</span>.<span class="name">instHashableLocalDeclKind</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Hashable">Hashable</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/LocalContext.html#Lean.instHashableLocalDeclKind">Lean.instHashableLocalDeclKind</a> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Hashable.mk">{</a> <span class="fn">hash</span> := <a href=".././Lean/LocalContext.html#Lean.instHashableLocalDeclKind.hash">Lean.instHashableLocalDeclKind.hash</a> <a href=".././Init/Prelude.html#Hashable.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.instHashableLocalDeclKind.hash"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L46-L46">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.instHashableLocalDeclKind.hash"><span class="name">Lean</span>.<span class="name">instHashableLocalDeclKind</span>.<span class="name">hash</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a> → <a href=".././Init/Prelude.html#UInt64">UInt64</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.instHashableLocalDeclKind.hash">Lean.instHashableLocalDeclKind.hash</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.default">Lean.LocalDeclKind.default</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">0</span></li><li class="equation"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.instHashableLocalDeclKind.hash">Lean.instHashableLocalDeclKind.hash</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.implDetail">Lean.LocalDeclKind.implDetail</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">1</span></li><li class="equation"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.instHashableLocalDeclKind.hash">Lean.instHashableLocalDeclKind.hash</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.auxDecl">Lean.LocalDeclKind.auxDecl</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">2</span></li></ul></details><details id="instances-for-list-Lean.instHashableLocalDeclKind.hash" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L48-L85">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl"><span class="name">Lean</span>.<span class="name">LocalDecl</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><p>A declaration for a <code><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></code>. This is used to register which free variables are in scope.</p><p>See <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.index">LocalDecl.index</a></code>, <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.fvarId">LocalDecl.fvarId</a></code>, <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.userName">LocalDecl.userName</a></code>, <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.type">LocalDecl.type</a></code> for accessors for
arguments common to both constructors.</p><ul class="constructors"><li class="constructor" id="Lean.LocalDecl.cdecl">cdecl<span class="decl_args">
<span class="fn">(<span class="fn">index</span> : <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">bi</span> : <a href=".././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a>)</span></span>
 : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a><div class="inductive_ctor_doc"><p>A local variable without any value.
<code><a href=".././Lean/LocalContext.html#Lean.LocalContext.mkBinding">Lean.LocalContext.mkBinding</a></code> creates lambdas or foralls from <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">cdecl</a></code>s.</p></div></li><li class="constructor" id="Lean.LocalDecl.ldecl">ldecl<span class="decl_args">
<span class="fn">(<span class="fn">index</span> : <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type </span><span class="fn">value</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">nondep</span> : <a href=".././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a>)</span></span>
 : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a><div class="inductive_ctor_doc"><p>A let-bound free variable, with a value <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.value">value</a> : Expr</code>.
If <code>nondep := false</code>, then the variable is definitionally equal to its value.
If <code>nondep := true</code>, then the variable has an opaque value; we call these &quot;have-bound free variables.&quot;
<code><a href=".././Lean/LocalContext.html#Lean.LocalContext.mkBinding">Lean.LocalContext.mkBinding</a></code> creates let/have expressions from <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>s.</p><p><strong>Important:</strong> The <code>nondep := true</code> case is subtle; it is not merely an opaque <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>!</p><ul>
<li>In most contexts, nondependent <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>s should be treated like <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">cdecl</a></code>s.
For example, suppose we have a tactic goal <code>x : α := v (nondep) ⊢ b</code>.
It would be incorrect for <code>revert x</code> to produce the goal <code>⊢ have x : α := v; b</code>,
since this would be saying &quot;to prove <code>b</code> without knowledge of the value of <code>x</code>, it suffices to
prove <code>have x : α := v; b</code> for this particular value of <code>x</code>.&quot;
Instead, <code>revert x</code> <em>must</em> produce the goal <code>⊢ ∀ x : α, b</code>.
Furthermore, given a goal <code>⊢ have x : α := v; b</code>, the <code>intro x</code> tactic should yield a <em>dependent</em> <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>,
since users expect to be able to make use of the value of <code>x</code>,
plus, as discussed, if <code>intro</code> yielded a nondep <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code> then <code>intro x; revert x</code> would convert the goal into a forall, not a <code>have</code>.</li>
<li>Also: <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.value">value</a></code> might not be type correct. Metaprograms may decide to pretend that all <code>nondep := true</code>
<code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>s are <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">cdecl</a></code>s (for example, when reverting variables). As a consequence, nondep <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>s may
have type-incorrect values. This design decision allows metaprograms to not have to think about nondep <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>s,
so long as <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></code> values are consumed through <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.isLet">LocalDecl.isLet</a></code> and <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.value?">LocalDecl.value?</a></code> with <code>(allowNondep := false)</code>.
<strong>Rule:</strong> never use <code>(generalizeNondepLet := false)</code> in <code><a href=".././Lean/LocalContext.html#Lean.LocalContext.mkBinding">mkBinding</a></code>-family functions
on a local context entry you did not create.
See <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.setNondep">LocalDecl.setNondep</a></code> for some additional discussion.</li>
<li>Where then do nondep ldecls come from? Common functions are <code>Meta.mapLetDecl</code>, <code>Meta.withLetDecl</code>, and <code>Meta.letTelescope</code>.
The <code>have</code> term syntax makes use of a nondep ldecl as well.</li>
</ul><p>Therefore, <code>nondep := true</code> should be used with consideration.
Its primary use is in metaprograms that enter <code>let</code>/<code>have</code> telescopes and wish to reconstruct them.</p></div></li></ul><details id="instances-for-list-Lean.LocalDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.instInhabitedLocalDecl.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L85-L85">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.instInhabitedLocalDecl.default"><span class="name">Lean</span>.<span class="name">instInhabitedLocalDecl</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/LocalContext.html#Lean.instInhabitedLocalDecl.default">Lean.instInhabitedLocalDecl.default</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <a href=".././Init/Prelude.html#Inhabited.default">default</a> <a href=".././Init/Prelude.html#Inhabited.default">default</a> <a href=".././Init/Prelude.html#Inhabited.default">default</a> <a href=".././Init/Prelude.html#Inhabited.default">default</a> <a href=".././Init/Prelude.html#Inhabited.default">default</a> <a href=".././Init/Prelude.html#Inhabited.default">default</a></span></li></ul></details><details id="instances-for-list-Lean.instInhabitedLocalDecl.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.instInhabitedLocalDecl"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L85-L85">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.instInhabitedLocalDecl"><span class="name">Lean</span>.<span class="name">instInhabitedLocalDecl</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Inhabited">Inhabited</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/LocalContext.html#Lean.instInhabitedLocalDecl">Lean.instInhabitedLocalDecl</a> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href=".././Lean/LocalContext.html#Lean.instInhabitedLocalDecl.default">Lean.instInhabitedLocalDecl.default</a> <a href=".././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.mkLocalDeclEx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L87-L89">source</a></div><div class="attributes">@[export lean_mk_local_decl]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.mkLocalDeclEx"><span class="name">Lean</span>.<span class="name">mkLocalDeclEx</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">index</span> : <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">bi</span> : <a href=".././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.mkLocalDeclEx">Lean.mkLocalDeclEx</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.default">Lean.LocalDeclKind.default</a></span></li></ul></details><details id="instances-for-list-Lean.mkLocalDeclEx" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.mkLetDeclEx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L90-L92">source</a></div><div class="attributes">@[export lean_mk_let_decl]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.mkLetDeclEx"><span class="name">Lean</span>.<span class="name">mkLetDeclEx</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">index</span> : <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type </span><span class="fn">val</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.mkLetDeclEx">Lean.mkLetDeclEx</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">val</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">val</span> <a href=".././Init/Prelude.html#Bool.false">false</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.default">Lean.LocalDeclKind.default</a></span></li></ul></details><details id="instances-for-list-Lean.mkLetDeclEx" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.binderInfoEx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L93-L96">source</a></div><div class="attributes">@[export lean_local_decl_binder_info]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.binderInfoEx"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">binderInfoEx</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.binderInfoEx">binderInfoEx</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">bi</span></li><li class="equation"><span class="fn"><span class="fn">x✝</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.binderInfoEx">binderInfoEx</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Lean/Expr.html#Lean.BinderInfo.default">Lean.BinderInfo.default</a></li></ul></details><details id="instances-for-list-Lean.LocalDecl.binderInfoEx" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.isLet"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L99-L107">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.isLet"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">isLet</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn">(<span class="fn">allowNondep</span> : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <a href=".././Init/Prelude.html#Bool">Bool</a> <a href=".././Init/Prelude.html#Bool.false">false</a></span>) → <a href=".././Init/Prelude.html#Bool">Bool</a></span></span></div></div><p>Returns true if this is an <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code> with a visible value.</p><p>If <code>allowNondep</code> is true then includes <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>s with <code>nondep := true</code>, whose values are normally hidden.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.isLet">isLet</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.false">false</a></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <a href=".././Init/Prelude.html#Bool.false">false</a> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.isLet">isLet</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.true">true</a></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <a href=".././Init/Prelude.html#Bool.true">true</a> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.isLet">isLet</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">x✝</span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.isLet" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.index"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L109-L112">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.index"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">index</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Init/Prelude.html#Nat">Nat</a></span></div></div><p>The position of the decl in the local context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.index">index</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">i</span></li><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <span class="fn">nondep</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.index">index</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">i</span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.index" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.setIndex"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L114-L116">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.setIndex"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setIndex</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><a href=".././Init/Prelude.html#Nat">Nat</a> → <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">index</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">t</span> <span class="fn">bi</span> <span class="fn">k</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setIndex">setIndex</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">x✝</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">t</span> <span class="fn">bi</span> <span class="fn">k</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">t</span> <span class="fn">v</span> <span class="fn">nd</span> <span class="fn">k</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setIndex">setIndex</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">x✝</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">t</span> <span class="fn">v</span> <span class="fn">nd</span> <span class="fn">k</span></span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.setIndex" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.fvarId"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L118-L121">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.fvarId"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">fvarId</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a></span></div></div><p>The unique id of the free variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.fvarId">fvarId</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">fvarId</span></li><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <span class="fn">nondep</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.fvarId">fvarId</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">fvarId</span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.fvarId" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.userName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L123-L126">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.userName"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">userName</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>The pretty-printable name of the variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.userName">userName</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">userName</span></li><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <span class="fn">nondep</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.userName">userName</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">userName</span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.userName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.type"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L128-L131">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.type"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">type</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>The type of the variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.type">type</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">type</span></li><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <span class="fn">nondep</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.type">type</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">type</span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.type" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.setType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L133-L135">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.setType"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setType</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><a href=".././Lean/Expr.html#Lean.Expr">Expr</a> → <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">idx</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">k</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setType">setType</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">idx</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">x✝</span> <span class="fn">bi</span> <span class="fn">k</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">idx</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">type</span> <span class="fn">v</span> <span class="fn">nd</span> <span class="fn">k</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setType">setType</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">idx</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">x✝</span> <span class="fn">v</span> <span class="fn">nd</span> <span class="fn">k</span></span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.setType" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.binderInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L137-L139">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.binderInfo"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">binderInfo</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.binderInfo">binderInfo</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">bi</span></li><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <span class="fn">nondep</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.binderInfo">binderInfo</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Lean/Expr.html#Lean.BinderInfo.default">Lean.BinderInfo.default</a></li></ul></details><details id="instances-for-list-Lean.LocalDecl.binderInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.kind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L141-L142">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.kind"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">kind</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.kind">kind</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">kind</span></li><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <span class="fn">nondep</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.kind">kind</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">kind</span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.kind" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.isAuxDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L144-L145">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.isAuxDecl"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">isAuxDecl</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">d</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">d</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.isAuxDecl">isAuxDecl</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#Decidable.decide">decide</a> (<span class="fn"><span class="fn">d</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.kind">kind</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.auxDecl">Lean.LocalDeclKind.auxDecl</a>)</span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.isAuxDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.isImplementationDetail"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L147-L152">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.isImplementationDetail"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">isImplementationDetail</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">d</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><p>Is the local declaration an implementation-detail hypothesis
(including auxiliary declarations)?</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">d</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.isImplementationDetail">isImplementationDetail</a></span> <a href=".././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">d</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.kind">kind</a></span> <a href=".././Init/Core.html#bne">!=</a> <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.default">Lean.LocalDeclKind.default</a>)</li></ul></details><details id="instances-for-list-Lean.LocalDecl.isImplementationDetail" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.value?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L154-L162">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.value?"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">value?</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn">(<span class="fn">allowNondep</span> : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <a href=".././Init/Prelude.html#Bool">Bool</a> <a href=".././Init/Prelude.html#Bool.false">false</a></span>) → <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/Expr.html#Lean.Expr">Expr</a></span></span></span></div></div><p>Returns the value of the <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code> if it has a visible value.</p><p>If <code>allowNondep</code> is true, then allows nondependent <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>s, whose values are normally hidden.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">v</span> <a href=".././Init/Prelude.html#Bool.false">false</a> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.value?">value?</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">v</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">v</span> <a href=".././Init/Prelude.html#Bool.true">true</a> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.value?">value?</a></span> <a href=".././Init/Prelude.html#Bool.true">true</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">v</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x✝¹</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.value?">value?</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Option.none">none</a></li></ul></details><details id="instances-for-list-Lean.LocalDecl.value?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.value"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L164-L173">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.value"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">value</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn">(<span class="fn">allowNondep</span> : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <a href=".././Init/Prelude.html#Bool">Bool</a> <a href=".././Init/Prelude.html#Bool.false">false</a></span>) → <a href=".././Lean/Expr.html#Lean.Expr">Expr</a></span></span></div></div><p>Returns the value of the <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code> if it has a visible value.</p><p>If <code>allowNondep</code> is true, then allows nondependent <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>s, whose values are normally hidden.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.value">value</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Init/Util.html#panicWithPosWithDecl">panicWithPosWithDecl</a> <span class="fn">&quot;Lean.LocalContext&quot;</span> <span class="fn">&quot;Lean.LocalDecl.value&quot;</span> <span class="fn">170</span> <span class="fn">54</span> <span class="fn">&quot;let declaration expected&quot;</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">v</span> <a href=".././Init/Prelude.html#Bool.false">false</a> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.value">value</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">v</span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">v</span> <a href=".././Init/Prelude.html#Bool.true">true</a> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.value">value</a></span> <a href=".././Init/Prelude.html#Bool.true">true</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">v</span></li><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <a href=".././Init/Prelude.html#Bool.true">true</a> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.value">value</a></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Init/Util.html#panicWithPosWithDecl">panicWithPosWithDecl</a> <span class="fn">&quot;Lean.LocalContext&quot;</span> <span class="fn">&quot;Lean.LocalDecl.value&quot;</span> <span class="fn">173</span> <span class="fn">54</span> <span class="fn">&quot;dependent let declaration expected&quot;</span></span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.value" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.hasValue"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L175-L180">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.hasValue"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">hasValue</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn">(<span class="fn">allowNondep</span> : <span class="fn"><a href=".././Init/Prelude.html#optParam">optParam</a> <a href=".././Init/Prelude.html#Bool">Bool</a> <a href=".././Init/Prelude.html#Bool.false">false</a></span>) → <a href=".././Init/Prelude.html#Bool">Bool</a></span></span></div></div><p>Returns <code>true</code> if <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.value?">LocalDecl.value?</a></code> is not <code>none</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.hasValue">hasValue</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.false">false</a></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <span class="fn">nondep</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.hasValue">hasValue</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> (<a href=".././Init/Prelude.html#Bool.not">!</a><span class="fn">nondep</span> <a href=".././Init/Prelude.html#Bool.or">||</a> <span class="fn">x✝</span>)</li></ul></details><details id="instances-for-list-Lean.LocalDecl.hasValue" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.setValue"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L182-L185">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.setValue"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setValue</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><a href=".././Lean/Expr.html#Lean.Expr">Expr</a> → <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></span></div></div><p>Sets the value of an <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>, otherwise returns <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">cdecl</a></code>s unchanged.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">idx</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">t</span> <span class="fn">value</span> <span class="fn">nd</span> <span class="fn">k</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setValue">setValue</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">idx</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">t</span> <span class="fn">x✝</span> <span class="fn">nd</span> <span class="fn">k</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x✝¹</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setValue">setValue</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">x✝¹</span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.setValue" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.setNondep"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L187-L222">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.setNondep"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setNondep</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><a href=".././Init/Prelude.html#Bool">Bool</a> → <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></span></div></div><p>Sets the <code>nondep</code> flag of an <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>, otherwise returns <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">cdecl</a></code>s unchanged.</p><p>This is a low-level function, and it is the responsibility of the caller to ensure that
transitions of <code>nondep</code> are valid.</p><p>Rules:</p><ul>
<li>If the declaration is not under the caller's control, then setting <code>nondep := false</code> must not be done.
General nondependent <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code>s should be treated like <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">cdecl</a></code>s.
See also the docstring for <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">LocalDecl.ldecl</a></code> about the <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.value">value</a></code> not necessarily being type correct.</li>
<li>Setting <code>nondep := true</code> is usually fine.<ul>
<li>Caution: be sure any relevant caches are cleared so that the value associated to this <code>FVarId</code> does not leak.</li>
<li>Caution: be sure that metavariables dependent on this declaration created before and after the transition are not mixed,
since unification does not check &quot;<code>nondep</code>-compatibility&quot; of local contexts when assigning metavariables.</li>
</ul>
</li>
</ul><p>For example, setting <code>nondep := false</code> is fine from within a telescope combinator, to update the local context
right before calling <code>mkLetFVars</code>:</p><pre><code class="language-lean">let lctx ← <a href=".././Lean/LocalContext.html#Lean.MonadLCtx.getLCtx">getLCtx</a>
letTelescope e fun xs b =&gt; do
  let lctx' ← xs.<a href=".././Lean/LocalContext.html#Lean.LocalContext.foldlM">foldlM</a> (init := lctx) fun lctx' x =&gt; do
    let decl ← x.fvarId!.getDecl
    -- Clear the flag if it's not a prop.
    let decl' := decl.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setNondep">setNondep</a> &lt;| ← pure decl.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.isNondep">isNondep</a> &lt;&amp;&amp;&gt; Meta.isProp decl.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.type">type</a>
    pure &lt;| lctx'.<a href=".././Lean/LocalContext.html#Lean.LocalContext.addDecl">addDecl</a> decl'
  withLCtx' lctx' do
    mkLetFVars (usedLetOnly := false) (generalizeNondepLet := false) xs b
</code></pre><ol>
<li>The declarations for <code>xs</code> are in the control of this metaprogram.</li>
<li><code>mkLetFVars</code> does make use of <code>MetaM</code> caches.</li>
<li>Even if <code>e</code> has metavariables, these do not include <code>xs</code> in their contexts,
so the change of the <code>nondep</code> flag does not cause any issues in the <code>abstractM</code> system used by <code>mkLetFVars</code>.</li>
</ol><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">idx</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">t</span> <span class="fn">v</span> <span class="fn">nondep</span> <span class="fn">k</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setNondep">setNondep</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">idx</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">t</span> <span class="fn">v</span> <span class="fn">x✝</span> <span class="fn">k</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">x✝¹</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setNondep">setNondep</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">x✝¹</span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.setNondep" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.isNondep"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L224-L227">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.isNondep"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">isNondep</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Returns <code>true</code> if this is an <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">ldecl</a></code> with <code>nondep := true</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <span class="fn">nondep</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.isNondep">isNondep</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">nondep</span></li><li class="equation"><span class="fn"><span class="fn">x✝</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.isNondep">isNondep</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.false">false</a></li></ul></details><details id="instances-for-list-Lean.LocalDecl.isNondep" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.setUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L229-L231">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.setUserName"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setUserName</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><a href=".././Init/Prelude.html#Lean.Name">Name</a> → <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">index</span> <span class="fn">id</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">k</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setUserName">setUserName</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">index</span> <span class="fn">id</span> <span class="fn">x✝</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">k</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">id</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">val</span> <span class="fn">nd</span> <span class="fn">k</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setUserName">setUserName</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">id</span> <span class="fn">x✝</span> <span class="fn">type</span> <span class="fn">val</span> <span class="fn">nd</span> <span class="fn">k</span></span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.setUserName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.setBinderInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L233-L235">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.setBinderInfo"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setBinderInfo</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><a href=".././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a> → <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">index</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">k</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setBinderInfo">setBinderInfo</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">index</span> <span class="fn">id</span> <span class="fn">n</span> <span class="fn">type</span> <span class="fn">x✝</span> <span class="fn">k</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <span class="fn">nondep</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setBinderInfo">setBinderInfo</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Init/Util.html#panicWithPosWithDecl">panicWithPosWithDecl</a> <span class="fn">&quot;Lean.LocalContext&quot;</span> <span class="fn">&quot;Lean.LocalDecl.setBinderInfo&quot;</span> <span class="fn">235</span> <span class="fn">38</span> <span class="fn">&quot;unexpected let declaration&quot;</span></span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.setBinderInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.toExpr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L237-L238">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.toExpr"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">toExpr</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">decl</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/Expr.html#Lean.Expr">Expr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">decl</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.toExpr">toExpr</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/Expr.html#Lean.mkFVar">Lean.mkFVar</a> <span class="fn"><span class="fn">decl</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.fvarId">fvarId</a></span></span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.toExpr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.hasExprMVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L240-L242">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.hasExprMVar"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">hasExprMVar</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.hasExprMVar">hasExprMVar</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">type</span>.<a href=".././Lean/Expr.html#Lean.Expr.hasExprMVar">hasExprMVar</a></span></li><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">i</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <span class="fn">nondep</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.hasExprMVar">hasExprMVar</a></span> <a href=".././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">type</span>.<a href=".././Lean/Expr.html#Lean.Expr.hasExprMVar">hasExprMVar</a></span> <a href=".././Init/Prelude.html#Bool.or">||</a> <span class="fn"><span class="fn">value</span>.<a href=".././Lean/Expr.html#Lean.Expr.hasExprMVar">hasExprMVar</a></span>)</li></ul></details><details id="instances-for-list-Lean.LocalDecl.hasExprMVar" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.setKind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L244-L251">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.setKind"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">setKind</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a> → <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></span></div></div><p>Set the kind of a <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setKind">setKind</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">Lean.LocalDecl.cdecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">bi</span> <span class="fn">x✝</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">(<a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <span class="fn">nondep</span> <span class="fn">kind</span>)</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setKind">setKind</a></span> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl.ldecl">Lean.LocalDecl.ldecl</a> <span class="fn">index</span> <span class="fn">fvarId</span> <span class="fn">userName</span> <span class="fn">type</span> <span class="fn">value</span> <span class="fn">nondep</span> <span class="fn">x✝</span></span></li></ul></details><details id="instances-for-list-Lean.LocalDecl.setKind" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L255-L267">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext"><span class="name">Lean</span>.<span class="name">LocalContext</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><p>A LocalContext is an ordered set of local variable declarations.
It is used to store the free variables (also known as local constants) that
are in scope. It also maps free variables corresponding to auxiliary declarations
(recursive references and <code>where</code> and <code>let rec</code> bindings) to their fully-qualified global names.</p><p>When inspecting a goal or expected type in the infoview, the local
context is all of the variables above the <code>⊢</code> symbol.</p><ul class="structure_fields" id="Lean.LocalContext.mk"><li id="Lean.LocalContext.fvarIdToDecl" class="structure_field"><div class="structure_field_info">fvarIdToDecl : <span class="fn"><a href=".././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap">PersistentHashMap</a> <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></div></li><li id="Lean.LocalContext.decls" class="structure_field"><div class="structure_field_info">decls : <span class="fn"><a href=".././Lean/Data/PersistentArray.html#Lean.PersistentArray">PersistentArray</a> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a>)</span></span></div></li><li id="Lean.LocalContext.auxDeclToFullName" class="structure_field"><div class="structure_field_info">auxDeclToFullName : <span class="fn"><a href=".././Lean/Expr.html#Lean.FVarIdMap">FVarIdMap</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></li></ul><details id="instances-for-list-Lean.LocalContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.instInhabitedLocalContext.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L267-L267">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.instInhabitedLocalContext.default"><span class="name">Lean</span>.<span class="name">instInhabitedLocalContext</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/LocalContext.html#Lean.instInhabitedLocalContext.default">Lean.instInhabitedLocalContext.default</a> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Lean/LocalContext.html#Lean.LocalContext.mk">{</a> <span class="fn">fvarIdToDecl</span> := <a href=".././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">decls</span> := <a href=".././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">auxDeclToFullName</span> := <a href=".././Init/Prelude.html#Inhabited.default">default</a> <a href=".././Lean/LocalContext.html#Lean.LocalContext.mk">}</a></li></ul></details><details id="instances-for-list-Lean.instInhabitedLocalContext.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.instInhabitedLocalContext"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L267-L267">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.instInhabitedLocalContext"><span class="name">Lean</span>.<span class="name">instInhabitedLocalContext</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Inhabited">Inhabited</a> <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/LocalContext.html#Lean.instInhabitedLocalContext">Lean.instInhabitedLocalContext</a> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href=".././Lean/LocalContext.html#Lean.instInhabitedLocalContext.default">Lean.instInhabitedLocalContext.default</a> <a href=".././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.LocalContext.mkEmpty"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L271-L272">source</a></div><div class="attributes">@[export lean_mk_empty_local_ctx]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.mkEmpty"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkEmpty</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Unit">Unit</a> → <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalContext.mkEmpty">Lean.LocalContext.mkEmpty</a> <span class="fn">x✝</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Lean/LocalContext.html#Lean.LocalContext.mk">{</a> <a href=".././Lean/LocalContext.html#Lean.LocalContext.mk">}</a></li></ul></details><details id="instances-for-list-Lean.LocalContext.mkEmpty" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.empty"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L274-L274">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.empty"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">empty</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/LocalContext.html#Lean.LocalContext.empty">Lean.LocalContext.empty</a> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Lean/LocalContext.html#Lean.LocalContext.mk">{</a> <a href=".././Lean/LocalContext.html#Lean.LocalContext.mk">}</a></li></ul></details><details id="instances-for-list-Lean.LocalContext.empty" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.isEmpty"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L276-L278">source</a></div><div class="attributes">@[export lean_local_ctx_is_empty]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.isEmpty"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">isEmpty</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.isEmpty">isEmpty</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.fvarIdToDecl">fvarIdToDecl</a></span>.<a href=".././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.isEmpty">isEmpty</a></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.isEmpty" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.mkLocalDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L280-L289">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.mkLocalDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkLocalDecl</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">bi</span> : <a href=".././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a> := <a href=".././Lean/Expr.html#Lean.BinderInfo.default">BinderInfo.default</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a> := <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind.default">LocalDeclKind.default</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><p>Low level API for creating local declarations (<code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.cdecl">LocalDecl.cdecl</a></code>).
It is used to implement actions in the monads <code>Elab</code> and <code>Tactic</code>.
It should not be used directly since the argument <code>(fvarId : FVarId)</code> is
assumed to be unique. You can create a unique fvarId with <code>mkFreshFVarId</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.mkLocalDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.mkLetDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L296-L302">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.mkLetDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkLetDecl</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type </span><span class="fn">value</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">nondep</span> : <a href=".././Init/Prelude.html#Bool">Bool</a> := <a href=".././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a> := <a href=".././Init/Prelude.html#Inhabited.default">default</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><p>Low level API for let declarations. Do not use directly.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.mkLetDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.mkAuxDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L308-L315">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.mkAuxDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkAuxDecl</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fullName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><p>Low level API for auxiliary declarations. Do not use directly.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.mkAuxDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.addDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L317-L326">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.addDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">addDecl</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">newDecl</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><p>Low level API for adding a local declaration.
Do not use directly.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.addDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.find?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L328-L330">source</a></div><div class="attributes">@[export lean_local_ctx_find]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.find?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">find?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.find?">find?</a></span> <span class="fn">fvarId</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.fvarIdToDecl">fvarIdToDecl</a></span>.<a href=".././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.find?">find?</a></span> <span class="fn">fvarId</span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.find?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.findFVar?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L332-L333">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.findFVar?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">findFVar?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.findFVar?">findFVar?</a></span> <span class="fn">e</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.find?">find?</a></span> <span class="fn"><span class="fn">e</span>.<a href=".././Lean/Expr.html#Lean.Expr.fvarId!">fvarId!</a></span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.findFVar?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.get!"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L335-L338">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.get!"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">get!</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.get!">get!</a></span> <span class="fn">fvarId</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.find?">find?</a></span> <span class="fn">fvarId</span></span> with
  | <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">d</span></span> =&gt; <span class="fn">d</span>
  | <a href=".././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn"><a href=".././Init/Util.html#panicWithPosWithDecl">panicWithPosWithDecl</a> <span class="fn">&quot;Lean.LocalContext&quot;</span> <span class="fn">&quot;Lean.LocalContext.get!&quot;</span> <span class="fn">338</span> <span class="fn">14</span> <span class="fn">&quot;unknown free variable&quot;</span></span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.get!" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.getFVar!"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L340-L343">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.getFVar!"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">getFVar!</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></div></div><p>Gets the declaration for expression <code>e</code> in the local context.
If <code>e</code> is not a free variable or not present then panics.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.getFVar!">getFVar!</a></span> <span class="fn">e</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.get!">get!</a></span> <span class="fn"><span class="fn">e</span>.<a href=".././Lean/Expr.html#Lean.Expr.fvarId!">fvarId!</a></span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.getFVar!" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.contains"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L345-L346">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.contains"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">contains</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.contains">contains</a></span> <span class="fn">fvarId</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.fvarIdToDecl">fvarIdToDecl</a></span>.<a href=".././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.contains">contains</a></span> <span class="fn">fvarId</span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.contains" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.containsFVar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L348-L351">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.containsFVar"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">containsFVar</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><p>Returns true when the lctx contains the free variable <code>e</code>.
Panics if <code>e</code> is not an fvar.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.containsFVar">containsFVar</a></span> <span class="fn">e</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.contains">contains</a></span> <span class="fn"><span class="fn">e</span>.<a href=".././Lean/Expr.html#Lean.Expr.fvarId!">fvarId!</a></span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.containsFVar" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.getFVarIds"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L353-L356">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.getFVarIds"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">getFVarIds</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.getFVarIds">getFVarIds</a></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span>.<a href=".././Lean/Data/PersistentArray.html#Lean.PersistentArray.foldl">foldl</a></span>
    <span class="fn">(fun (<span class="fn">r</span> : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a></span>) (<span class="fn">decl?</span> : <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>) =&gt;
      <span class="fn">match <span class="fn">decl?</span> with
      | <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">decl</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">r</span>.<a href=".././Init/Prelude.html#Array.push">push</a></span> <span class="fn"><span class="fn">decl</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.fvarId">fvarId</a></span></span>
      | <a href=".././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn">r</span></span>)</span>
    <a href=".././Init/Prelude.html#List.toArray">#[</a><a href=".././Init/Prelude.html#List.toArray">]</a></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.getFVarIds" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.getFVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L358-L360">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.getFVars"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">getFVars</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Return all of the free variables in the given context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.getFVars">getFVars</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Data/Array/Basic.html#Array.map">Array.map</a> <a href=".././Lean/Expr.html#Lean.mkFVar">Lean.mkFVar</a> <span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.getFVarIds">getFVarIds</a></span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.getFVars" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.erase"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L368-L378">source</a></div><div class="attributes">@[export lean_local_ctx_erase]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.erase"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">erase</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.erase" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.pop"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L380-L390">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.pop"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">pop</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.pop" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.findFromUserName?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L392-L396">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.findFromUserName?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">findFromUserName?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.findFromUserName?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.usesUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L398-L399">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.usesUserName"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">usesUserName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.usesUserName">usesUserName</a></span> <span class="fn">userName</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.findFromUserName?">findFromUserName?</a></span> <span class="fn">userName</span>)</span>.<a href=".././Init/Data/Option/Basic.html#Option.isSome">isSome</a></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.usesUserName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.getUnusedName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L406-L409">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.getUnusedName"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">getUnusedName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">suggestion</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Name">Name</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.getUnusedName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.lastDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L411-L412">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.lastDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">lastDecl</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.lastDecl">lastDecl</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span><a href=".././Init/GetElem.html#GetElem?.getElem!">[</a><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span>.<a href=".././Lean/Data/PersistentArray.html#Lean.PersistentArray.size">size</a></span> <a href=".././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">1</span><a href=".././Init/GetElem.html#GetElem?.getElem!">]</a><a href=".././Init/GetElem.html#GetElem?.getElem!">!</a></li></ul></details><details id="instances-for-list-Lean.LocalContext.lastDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.setUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L414-L419">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.setUserName"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">setUserName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">userName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.setUserName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.renameUserName"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L421-L430">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.renameUserName"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">renameUserName</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fromName </span><span class="fn">toName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.renameUserName" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.modifyLocalDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L432-L446">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.modifyLocalDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">modifyLocalDecl</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><p>Low-level function for updating the local context.
Assumptions about <code>f</code>, the resulting nested expressions must be definitionally equal to their original values,
and neither the <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.index">index</a></code> nor <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.fvarId">fvarId</a></code> are modified.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.modifyLocalDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.modifyLocalDecls"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L448-L460">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.modifyLocalDecls"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">modifyLocalDecls</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><p>Low-level function for updating every declaration in the local context.
Assumptions about <code>f</code>, the resulting nested expressions must be definitionally equal to their original values,
and neither the <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.index">index</a></code> nor <code><a href=".././Lean/LocalContext.html#Lean.LocalDecl.fvarId">fvarId</a></code> are modified.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.modifyLocalDecls" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.setKind"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L462-L467">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.setKind"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">setKind</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">kind</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDeclKind">LocalDeclKind</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><p>Set the kind of the given fvar.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.setKind">setKind</a></span> <span class="fn">fvarId</span> <span class="fn">kind</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.modifyLocalDecl">modifyLocalDecl</a></span> <span class="fn">fvarId</span> <span class="fn">fun (<span class="fn">x</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">x</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setKind">setKind</a></span> <span class="fn">kind</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.setKind" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.setBinderInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L469-L470">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.setBinderInfo"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">setBinderInfo</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">bi</span> : <a href=".././Lean/Expr.html#Lean.BinderInfo">BinderInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.setBinderInfo">setBinderInfo</a></span> <span class="fn">fvarId</span> <span class="fn">bi</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.modifyLocalDecl">modifyLocalDecl</a></span> <span class="fn">fvarId</span> <span class="fn">fun (<span class="fn">decl</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">decl</span>.<a href=".././Lean/LocalContext.html#Lean.LocalDecl.setBinderInfo">setBinderInfo</a></span> <span class="fn">bi</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.setBinderInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.numIndices"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L472-L474">source</a></div><div class="attributes">@[export lean_local_ctx_num_indices]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.numIndices"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">numIndices</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Nat">Nat</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.numIndices">numIndices</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span>.<a href=".././Lean/Data/PersistentArray.html#Lean.PersistentArray.size">size</a></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.numIndices" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.getAt?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L476-L477">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.getAt?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">getAt?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.getAt?">getAt?</a></span> <span class="fn">i</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span><a href=".././Init/GetElem.html#GetElem?.getElem!">[</a><span class="fn">i</span><a href=".././Init/GetElem.html#GetElem?.getElem!">]</a><a href=".././Init/GetElem.html#GetElem?.getElem!">!</a></li></ul></details><details id="instances-for-list-Lean.LocalContext.getAt?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.foldlM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L479-L482">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.foldlM"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">foldlM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> u_1 → <a href=".././foundational_types.html">Type</a> u_2</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href=".././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">β</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">start</span> : <a href=".././Init/Prelude.html#Nat">Nat</a> := <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.foldlM">foldlM</a></span> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">start</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span>.<a href=".././Lean/Data/PersistentArray.html#Lean.PersistentArray.foldlM">foldlM</a></span>
    <span class="fn">(fun (<span class="fn">b</span> : <span class="fn">β</span>) (<span class="fn">decl</span> : <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>) =&gt;
      <span class="fn">match <span class="fn">decl</span> with
      | <a href=".././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">b</span></span>
      | <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">decl</span></span> =&gt; <span class="fn"><span class="fn">f</span> <span class="fn">b</span> <span class="fn">decl</span></span></span>)</span>
    <span class="fn">init</span> <span class="fn">start</span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.foldlM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.foldrM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L484-L487">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.foldrM"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">foldrM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> u_1 → <a href=".././foundational_types.html">Type</a> u_2</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href=".././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><span class="fn">β</span> → <span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">β</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.foldrM">foldrM</a></span> <span class="fn">f</span> <span class="fn">init</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span>.<a href=".././Lean/Data/PersistentArray.html#Lean.PersistentArray.foldrM">foldrM</a></span>
    <span class="fn">(fun (<span class="fn">decl</span> : <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>) (<span class="fn">b</span> : <span class="fn">β</span>) =&gt;
      <span class="fn">match <span class="fn">decl</span> with
      | <a href=".././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">b</span></span>
      | <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">decl</span></span> =&gt; <span class="fn"><span class="fn">f</span> <span class="fn">decl</span> <span class="fn">b</span></span></span>)</span>
    <span class="fn">init</span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.foldrM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.forM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L489-L492">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.forM"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">forM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> u_1 → <a href=".././foundational_types.html">Type</a> u_2</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#PUnit">PUnit</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#PUnit">PUnit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.forM">forM</a></span> <span class="fn">f</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span>.<a href=".././Lean/Data/PersistentArray.html#Lean.PersistentArray.forM">forM</a></span> <span class="fn">fun (<span class="fn">decl</span> : <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>) =&gt;
    <span class="fn">match <span class="fn">decl</span> with
    | <a href=".././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <a href=".././Init/Prelude.html#PUnit.unit">PUnit.unit</a></span>
    | <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">decl</span></span> =&gt; <span class="fn"><span class="fn">f</span> <span class="fn">decl</span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.forM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.findDeclM?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L494-L497">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.findDeclM?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">findDeclM?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> u_1 → <a href=".././foundational_types.html">Type</a> u_2</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href=".././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> <span class="fn">β</span>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> <span class="fn">β</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.findDeclM?">findDeclM?</a></span> <span class="fn">f</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span>.<a href=".././Lean/Data/PersistentArray.html#Lean.PersistentArray.findSomeM?">findSomeM?</a></span> <span class="fn">fun (<span class="fn">decl</span> : <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>) =&gt;
    <span class="fn">match <span class="fn">decl</span> with
    | <a href=".././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <a href=".././Init/Prelude.html#Option.none">none</a></span>
    | <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">decl</span></span> =&gt; <span class="fn"><span class="fn">f</span> <span class="fn">decl</span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.findDeclM?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.findDeclRevM?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L499-L502">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.findDeclRevM?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">findDeclRevM?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> u_1 → <a href=".././foundational_types.html">Type</a> u_2</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href=".././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> <span class="fn">β</span>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> <span class="fn">β</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.findDeclRevM?">findDeclRevM?</a></span> <span class="fn">f</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span>.<a href=".././Lean/Data/PersistentArray.html#Lean.PersistentArray.findSomeRevM?">findSomeRevM?</a></span> <span class="fn">fun (<span class="fn">decl</span> : <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>) =&gt;
    <span class="fn">match <span class="fn">decl</span> with
    | <a href=".././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <a href=".././Init/Prelude.html#Option.none">none</a></span>
    | <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">decl</span></span> =&gt; <span class="fn"><span class="fn">f</span> <span class="fn">decl</span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.findDeclRevM?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.instForInLocalDecl"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L504-L507">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.instForInLocalDecl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">instForInLocalDecl</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> u_1 → <a href=".././foundational_types.html">Type</a> u_2</span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Core.html#ForIn">ForIn</a> <span class="fn">m</span> <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.LocalContext.foldl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L509-L510">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.foldl"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">foldl</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href=".././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">β</span> → <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">β</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">start</span> : <a href=".././Init/Prelude.html#Nat">Nat</a> := <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">β</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.foldl">foldl</a></span> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">start</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.foldlM">foldlM</a></span> <span class="fn">(fun (<span class="fn">x1</span> : <span class="fn">β</span>) (<span class="fn">x2</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a>) =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn">f</span> <span class="fn">x1</span> <span class="fn">x2</span>)</span></span>)</span> <span class="fn">init</span> <span class="fn">start</span>)</span>.<a href=".././Init/Control/Id.html#Id.run">run</a></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.foldl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.foldr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L512-L513">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.foldr"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">foldr</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href=".././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><span class="fn">β</span> → <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">β</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">β</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.foldr">foldr</a></span> <span class="fn">f</span> <span class="fn">init</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.foldrM">foldrM</a></span> <span class="fn">(fun (<span class="fn">x1</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a>) (<span class="fn">x2</span> : <span class="fn">β</span>) =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn">f</span> <span class="fn">x1</span> <span class="fn">x2</span>)</span></span>)</span> <span class="fn">init</span>)</span>.<a href=".././Init/Control/Id.html#Id.run">run</a></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.foldr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.size"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L515-L516">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.size"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">size</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Nat">Nat</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.size">size</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.foldl">foldl</a></span> <span class="fn">(fun (<span class="fn">n</span> : <a href=".././Init/Prelude.html#Nat">Nat</a>) (<span class="fn">x</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a>) =&gt; <span class="fn">n</span> <a href=".././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> <span class="fn">0</span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.size" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.findDecl?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L518-L519">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.findDecl?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">findDecl?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href=".././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.findDecl?">findDecl?</a></span> <span class="fn">f</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.findDeclM?">findDeclM?</a></span> <span class="fn">fun (<span class="fn">x</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a>) =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn">f</span> <span class="fn">x</span>)</span></span></span>)</span>.<a href=".././Init/Control/Id.html#Id.run">run</a></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.findDecl?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.findDeclRev?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L521-L522">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.findDeclRev?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">findDeclRev?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href=".././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <span class="fn">β</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.findDeclRev?">findDeclRev?</a></span> <span class="fn">f</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.findDeclRevM?">findDeclRevM?</a></span> <span class="fn">fun (<span class="fn">x</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a>) =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn">f</span> <span class="fn">x</span>)</span></span></span>)</span>.<a href=".././Init/Control/Id.html#Id.run">run</a></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.findDeclRev?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.isSubPrefixOfAux"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L524-L536">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.isSubPrefixOfAux"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">isSubPrefixOfAux</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">a₁ </span><span class="fn">a₂</span> : <span class="fn"><a href=".././Lean/Data/PersistentArray.html#Lean.PArray">PArray</a> <span class="fn">(<a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">exceptFVars</span> : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i </span><span class="fn">j</span> : <a href=".././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div></div></div><div class="decl" id="Lean.LocalContext.isSubPrefixOf"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L538-L542">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.isSubPrefixOf"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">isSubPrefixOf</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx₁ </span><span class="fn">lctx₂</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">exceptFVars</span> : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Lean/Expr.html#Lean.Expr">Expr</a></span> := <a href=".././Init/Prelude.html#List.toArray">#[</a><a href=".././Init/Prelude.html#List.toArray">]</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><p>Given <code>lctx₁ - exceptFVars</code> of the form <code>(x_1 : A_1) ... (x_n : A_n)</code>, then return true
iff there is a local context <code>B_1* (x_1 : A_1) ... B_n* (x_n : A_n)</code> which is a prefix
of <code>lctx₂</code> where <code>B_i</code>'s are (possibly empty) sequences of local declarations.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx₁</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.isSubPrefixOf">isSubPrefixOf</a></span> <span class="fn">lctx₂</span> <span class="fn">exceptFVars</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalContext.isSubPrefixOfAux">Lean.LocalContext.isSubPrefixOfAux</a> <span class="fn"><span class="fn">lctx₁</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span> <span class="fn"><span class="fn">lctx₂</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span> <span class="fn">exceptFVars</span> <span class="fn">0</span> <span class="fn">0</span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.isSubPrefixOf" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.mkBinding"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L544-L566">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.mkBinding"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkBinding</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">isLambda</span> : <a href=".././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">xs</span> : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">usedLetOnly</span> : <a href=".././Init/Prelude.html#Bool">Bool</a> := <a href=".././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">generalizeNondepLet</span> : <a href=".././Init/Prelude.html#Bool">Bool</a> := <a href=".././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/Expr.html#Lean.Expr">Expr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.mkBinding" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.mkLambda"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L568-L571">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.mkLambda"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkLambda</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">xs</span> : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">usedLetOnly</span> : <a href=".././Init/Prelude.html#Bool">Bool</a> := <a href=".././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">generalizeNondepLet</span> : <a href=".././Init/Prelude.html#Bool">Bool</a> := <a href=".././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/Expr.html#Lean.Expr">Expr</a></div></div><p>Creates the expression <code>fun x₁ .. xₙ =&gt; b</code> for free variables <code>xs = #[x₁, .., xₙ]</code>,
suitably abstracting <code>b</code> and the types for each of the <code>xᵢ</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.mkLambda">mkLambda</a></span> <span class="fn">xs</span> <span class="fn">b</span> <span class="fn">usedLetOnly</span> <span class="fn">generalizeNondepLet</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalContext.mkBinding">Lean.LocalContext.mkBinding</a> <a href=".././Init/Prelude.html#Bool.true">true</a> <span class="fn">lctx</span> <span class="fn">xs</span> <span class="fn">b</span> <span class="fn">usedLetOnly</span> <span class="fn">generalizeNondepLet</span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.mkLambda" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.mkForall"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L573-L576">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.mkForall"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">mkForall</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">xs</span> : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">usedLetOnly</span> : <a href=".././Init/Prelude.html#Bool">Bool</a> := <a href=".././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">generalizeNondepLet</span> : <a href=".././Init/Prelude.html#Bool">Bool</a> := <a href=".././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/Expr.html#Lean.Expr">Expr</a></div></div><p>Creates the expression <code>(x₁:α₁) → .. → (xₙ:αₙ) → b</code> for free variables <code>xs = #[x₁, .., xₙ]</code>,
suitably abstracting <code>b</code> and the types for each of the <code>xᵢ</code>, <code>αᵢ</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.mkForall">mkForall</a></span> <span class="fn">xs</span> <span class="fn">b</span> <span class="fn">usedLetOnly</span> <span class="fn">generalizeNondepLet</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalContext.mkBinding">Lean.LocalContext.mkBinding</a> <a href=".././Init/Prelude.html#Bool.false">false</a> <span class="fn">lctx</span> <span class="fn">xs</span> <span class="fn">b</span> <span class="fn">usedLetOnly</span> <span class="fn">generalizeNondepLet</span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.mkForall" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.anyM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L578-L581">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.anyM"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">anyM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Bool">Bool</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.anyM">anyM</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span>.<a href=".././Lean/Data/PersistentArray.html#Lean.PersistentArray.anyM">anyM</a></span> <span class="fn">fun (<span class="fn">d</span> : <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>) =&gt;
    <span class="fn">match <span class="fn">d</span> with
    | <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">decl</span></span> =&gt; <span class="fn"><span class="fn">p</span> <span class="fn">decl</span></span>
    | <a href=".././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <a href=".././Init/Prelude.html#Bool.false">false</a></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.anyM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.allM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L583-L586">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.allM"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">allM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Bool">Bool</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.allM">allM</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.decls">decls</a></span>.<a href=".././Lean/Data/PersistentArray.html#Lean.PersistentArray.allM">allM</a></span> <span class="fn">fun (<span class="fn">d</span> : <span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a></span>) =&gt;
    <span class="fn">match <span class="fn">d</span> with
    | <span class="fn"><a href=".././Init/Prelude.html#Option.some">some</a> <span class="fn">decl</span></span> =&gt; <span class="fn"><span class="fn">p</span> <span class="fn">decl</span></span>
    | <a href=".././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <a href=".././Init/Prelude.html#Bool.true">true</a></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.allM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.any"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L588-L590">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.any"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">any</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><p>Return <code>true</code> if <code>lctx</code> contains a local declaration satisfying <code>p</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.any">any</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.anyM">anyM</a></span> <span class="fn">fun (<span class="fn">x</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a>) =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn">p</span> <span class="fn">x</span>)</span></span></span>)</span>.<a href=".././Init/Control/Id.html#Id.run">run</a></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.any" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.all"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L592-L594">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.all"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">all</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><p>Return <code>true</code> if all declarations in <code>lctx</code> satisfy <code>p</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.all">all</a></span> <span class="fn">p</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn"><span class="fn">lctx</span>.<a href=".././Lean/LocalContext.html#Lean.LocalContext.allM">allM</a></span> <span class="fn">fun (<span class="fn">x</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">Lean.LocalDecl</a>) =&gt; <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn">p</span> <span class="fn">x</span>)</span></span></span>)</span>.<a href=".././Init/Control/Id.html#Id.run">run</a></span></li></ul></details><details id="instances-for-list-Lean.LocalContext.all" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.sanitizeNames"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L596-L611">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.sanitizeNames"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">sanitizeNames</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Control/State.html#StateM">StateM</a> <a href=".././Lean/Hygiene.html#Lean.NameSanitizerState">NameSanitizerState</a> <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></span></div></div><p>If option <code>pp.<a href=".././Lean/LocalContext.html#Lean.LocalContext.sanitizeNames">sanitizeNames</a></code> is set to <code>true</code>, add tombstone to shadowed local declaration names and ones contains macroscopes.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.sanitizeNames" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.getRoundtrippingUserName?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L613-L621">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.getRoundtrippingUserName?"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">getRoundtrippingUserName?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Option">Option</a> <a href=".././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>Given an <code>FVarId</code>, this function returns the corresponding user name,
but only if the name can be used to recover the original FVarId.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.getRoundtrippingUserName?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.sortFVarsByContextOrder"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L623-L632">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.sortFVarsByContextOrder"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">sortFVarsByContextOrder</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hyps</span> : <span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a></span></div></div><p>Sort the given <code>FVarId</code>s by the order in which they appear in <code>lctx</code>. If any of
the <code>FVarId</code>s do not appear in <code>lctx</code>, the result is unspecified.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.sortFVarsByContextOrder" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MonadLCtx"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L636-L638">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.MonadLCtx"><span class="name">Lean</span>.<span class="name">MonadLCtx</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><p>Class used to denote that <code>m</code> has a local context.</p><ul class="structure_fields" id="Lean.MonadLCtx.mk"><li id="Lean.MonadLCtx.getLCtx" class="structure_field"><div class="structure_field_info">getLCtx : <span class="fn"><span class="fn">m</span> <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></span></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Lean.MonadLCtx" class="instances-list"></ul></details></div></div><div class="decl" id="Lean.instMonadLCtxOfMonadLift"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L642-L643">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.instMonadLCtxOfMonadLift"><span class="name">Lean</span>.<span class="name">instMonadLCtxOfMonadLift</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m </span><span class="fn">n</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#MonadLift">MonadLift</a> <span class="fn">m</span> <span class="fn">n</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/LocalContext.html#Lean.MonadLCtx">MonadLCtx</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/LocalContext.html#Lean.MonadLCtx">MonadLCtx</a> <span class="fn">n</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/LocalContext.html#Lean.instMonadLCtxOfMonadLift">Lean.instMonadLCtxOfMonadLift</a> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Lean/LocalContext.html#Lean.MonadLCtx.mk">{</a> <span class="fn">getLCtx</span> := <span class="fn"><a href=".././Init/Prelude.html#liftM">liftM</a> <a href=".././Lean/LocalContext.html#Lean.MonadLCtx.getLCtx">Lean.getLCtx</a></span> <a href=".././Lean/LocalContext.html#Lean.MonadLCtx.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.getLocalHyps"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L645-L650">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.getLocalHyps"><span class="name">Lean</span>.<span class="name">getLocalHyps</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/LocalContext.html#Lean.MonadLCtx">MonadLCtx</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href=".././Init/Prelude.html#Array">Array</a> <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span></div></div><p>Return local hypotheses which are not &quot;implementation detail&quot;, as <code>Expr</code>s.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.getLocalHyps" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalDecl.replaceFVarId"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L652-L656">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalDecl.replaceFVarId"><span class="name">Lean</span>.<span class="name">LocalDecl</span>.<span class="name">replaceFVarId</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">d</span> : <a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalDecl">LocalDecl</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalDecl.replaceFVarId" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.LocalContext.replaceFVarId"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/LocalContext.lean#L658-L662">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/LocalContext.html#Lean.LocalContext.replaceFVarId"><span class="name">Lean</span>.<span class="name">LocalContext</span>.<span class="name">replaceFVarId</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href=".././Lean/Expr.html#Lean.FVarId">FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href=".././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">lctx</span> : <a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.LocalContext.replaceFVarId" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src=".././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>