<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="icon" href="../.././favicon.svg"></link><link rel="mask-icon" href="../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Meta.LazyDiscrTree</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Lean.Meta.LazyDiscrTree";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init/Omega.html">Init.Omega</a></li><li><a href="../.././Lean/Meta/CompletionName.html">Lean.Meta.CompletionName</a></li><li><a href="../.././Lean/Meta/DiscrTree.html">Lean.Meta.DiscrTree</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Meta.LazyDiscrTree" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.Key"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Key</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instInhabitedKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instInhabitedKey.default"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedKey</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instBEqKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instBEqKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instBEqKey.beq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instBEqKey</span>.<span class="name">beq</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instReprKey.repr"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instReprKey</span>.<span class="name">repr</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instReprKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instReprKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.Key.hash"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Key</span>.<span class="name">hash</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.Key.instHashable"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Key</span>.<span class="name">instHashable</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchClone.tmpMVarId"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">tmpMVarId</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchClone.tmpStar"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">tmpStar</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchClone.ignoreArg"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">ignoreArg</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchClone.pushArgsAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">pushArgsAux</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchClone.isNumeral"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">isNumeral</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchClone.toNatLit?"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">toNatLit?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchClone.isNatType"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">isNatType</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchClone.isNatOffset"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">isNatOffset</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchClone.shouldAddAsStar"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">shouldAddAsStar</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchClone.elimLooseBVarsByBeta"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">elimLooseBVarsByBeta</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchClone.getKeyArgs"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">getKeyArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchClone.getMatchKeyArgs"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">getMatchKeyArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.LazyEntry"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">LazyEntry</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.TrieIndex"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">TrieIndex</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.Trie"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Trie</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instInhabitedTrie"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedTrie</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instInhabitedTrie.default"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedTrie</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instEmptyCollectionTrie"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instEmptyCollectionTrie</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.Trie.pushPending"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Trie</span>.<span class="name">pushPending</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instInhabited"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabited</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.pushArgs"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">pushArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.initCapacity"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">initCapacity</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.rootKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">rootKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.buildPath"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">buildPath</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.patternPath"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">patternPath</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.targetPath"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">targetPath</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.runMatch"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">runMatch</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.setTrie"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">setTrie</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.newTrie"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">newTrie</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.addLazyEntryToTrie"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">addLazyEntryToTrie</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.evalLazyEntry"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">evalLazyEntry</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.evalLazyEntries"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">evalLazyEntries</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.evalNode"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">evalNode</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.dropKeyAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">dropKeyAux</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.dropKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">dropKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchResult"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchResult</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchResult.push"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchResult</span>.<span class="name">push</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchResult.size"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchResult</span>.<span class="name">size</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchResult.appendResultsAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchResult</span>.<span class="name">appendResultsAux</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.MatchResult.appendResults"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchResult</span>.<span class="name">appendResults</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.PartialMatch"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PartialMatch</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedPartialMatch</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch.default"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedPartialMatch</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.getMatchLoop"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">getMatchLoop</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.getStarResult"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">getStarResult</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.pushRootCase"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">pushRootCase</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.getMatchCore"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">getMatchCore</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.getMatch"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">getMatch</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.PreDiscrTree"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PreDiscrTree</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedPreDiscrTree</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree.default"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedPreDiscrTree</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.PreDiscrTree.modifyAt"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PreDiscrTree</span>.<span class="name">modifyAt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.PreDiscrTree.push"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PreDiscrTree</span>.<span class="name">push</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.PreDiscrTree.toLazy"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PreDiscrTree</span>.<span class="name">toLazy</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.PreDiscrTree.append"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PreDiscrTree</span>.<span class="name">append</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.PreDiscrTree.instAppend"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PreDiscrTree</span>.<span class="name">instAppend</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.InitEntry"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">InitEntry</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.InitEntry.fromExpr"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">InitEntry</span>.<span class="name">fromExpr</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.InitEntry.mkSubEntry"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">InitEntry</span>.<span class="name">mkSubEntry</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.ImportFailure"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">ImportFailure</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.ImportData"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">ImportData</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.ImportData.new"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">ImportData</span>.<span class="name">new</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.Cache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Cache</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.Cache.empty"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Cache</span>.<span class="name">empty</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.blacklistInsertion"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">blacklistInsertion</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.addConstImportData"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">addConstImportData</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.InitResults"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">InitResults</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.instInhabitedInitResults"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedInitResults</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.InitResults.append"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">InitResults</span>.<span class="name">append</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.InitResults.instAppend"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">InitResults</span>.<span class="name">instAppend</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.toFlat"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">toFlat</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.loadImportedModule"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">loadImportedModule</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.createImportedEnvironmentSeq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">createImportedEnvironmentSeq</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.combineGet"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">combineGet</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.getChildNgen"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">getChildNgen</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.createLocalPreDiscrTree"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">createLocalPreDiscrTree</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.dropKeys"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">dropKeys</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.collectSubtreeAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">collectSubtreeAux</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.extractKeyAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">extractKeyAux</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.extractKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">extractKey</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.extractKeys"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">extractKeys</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.logImportFailure"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">logImportFailure</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.createImportedDiscrTree"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">createImportedDiscrTree</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.createTreeCtx"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">createTreeCtx</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.findImportMatches"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">findImportMatches</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.ModuleDiscrTreeRef"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">ModuleDiscrTreeRef</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.createModuleDiscrTree"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">createModuleDiscrTree</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.createModuleTreeRef"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">createModuleTreeRef</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.findModuleMatches"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">findModuleMatches</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.findMatchesExt"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">findMatchesExt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Meta.LazyDiscrTree.findMatches"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">findMatches</span></a></div></nav><main>
<div class="mod_doc"><h1 id="Lazy-Discrimination-Tree" class="markdown-heading">Lazy Discrimination Tree <a class="hover-link" href="#Lazy-Discrimination-Tree">#</a></h1><p>This file defines a new type of discrimination tree optimized for rapid
population of imported modules for use in tactics.  It uses a lazy
initialization strategy.</p><p>The discrimination tree can be created through
<code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.createImportedDiscrTree">createImportedDiscrTree</a></code>. This creates a discrimination tree from all
public imported modules in an environment using a callback that provides the
entries as <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a></code> values.</p><p>The function <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.getMatch">getMatch</a></code> can be used to get the values that match the
expression as well as an updated lazy discrimination tree that has
elaborated additional parts of the tree.</p></div><div class="decl" id="Lean.Meta.LazyDiscrTree.Key"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L33-L44">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Key</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Discrimination tree key.</p><ul class="constructors"><li class="constructor" id="Lean.Meta.LazyDiscrTree.Key.const">const : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><a href="../.././Init/Prelude.html#Nat">Nat</a> → <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span></span></li><li class="constructor" id="Lean.Meta.LazyDiscrTree.Key.fvar">fvar : <span class="fn"><a href="../.././Lean/Expr.html#Lean.FVarId">FVarId</a> → <span class="fn"><a href="../.././Init/Prelude.html#Nat">Nat</a> → <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span></span></li><li class="constructor" id="Lean.Meta.LazyDiscrTree.Key.lit">lit : <span class="fn"><a href="../.././Lean/Expr.html#Lean.Literal">Literal</a> → <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span></li><li class="constructor" id="Lean.Meta.LazyDiscrTree.Key.star">star : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></li><li class="constructor" id="Lean.Meta.LazyDiscrTree.Key.other">other : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></li><li class="constructor" id="Lean.Meta.LazyDiscrTree.Key.arrow">arrow : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></li><li class="constructor" id="Lean.Meta.LazyDiscrTree.Key.proj">proj : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><a href="../.././Init/Prelude.html#Nat">Nat</a> → <a href="../.././Init/Prelude.html#Nat">Nat</a> → <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span></span></li></ul><details id="instances-for-list-Lean.Meta.LazyDiscrTree.Key" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instInhabitedKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L44-L44">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedKey">Lean.Meta.LazyDiscrTree.instInhabitedKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedKey.default">Lean.Meta.LazyDiscrTree.instInhabitedKey.default</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instInhabitedKey.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L44-L44">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedKey.default"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedKey</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedKey.default">Lean.Meta.LazyDiscrTree.instInhabitedKey.default</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.const">Lean.Meta.LazyDiscrTree.Key.const</a> <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Init/Prelude.html#Inhabited.default">default</a></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.instInhabitedKey.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instBEqKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L44-L44">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instBEqKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instBEqKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instBEqKey">Lean.Meta.LazyDiscrTree.instBEqKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instBEqKey.beq">Lean.Meta.LazyDiscrTree.instBEqKey.beq</a> <a href="../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instBEqKey.beq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L44-L44">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instBEqKey.beq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instBEqKey</span>.<span class="name">beq</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> → <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instBEqKey.beq">Lean.Meta.LazyDiscrTree.instBEqKey.beq</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.const">Lean.Meta.LazyDiscrTree.Key.const</a> <span class="fn">a</span> <span class="fn">a_1</span>)</span>
    <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.const">Lean.Meta.LazyDiscrTree.Key.const</a> <span class="fn">b</span> <span class="fn">b_1</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   (<span class="fn">a</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b</span> <a href="../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">a_1</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b_1</span>)</li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instBEqKey.beq">Lean.Meta.LazyDiscrTree.instBEqKey.beq</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.fvar">Lean.Meta.LazyDiscrTree.Key.fvar</a> <span class="fn">a</span> <span class="fn">a_1</span>)</span>
    <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.fvar">Lean.Meta.LazyDiscrTree.Key.fvar</a> <span class="fn">b</span> <span class="fn">b_1</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   (<span class="fn">a</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b</span> <a href="../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">a_1</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b_1</span>)</li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instBEqKey.beq">Lean.Meta.LazyDiscrTree.instBEqKey.beq</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.lit">Lean.Meta.LazyDiscrTree.Key.lit</a> <span class="fn">a</span>)</span> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.lit">Lean.Meta.LazyDiscrTree.Key.lit</a> <span class="fn">b</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   (<span class="fn">a</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b</span>)</li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instBEqKey.beq">Lean.Meta.LazyDiscrTree.instBEqKey.beq</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.star">Lean.Meta.LazyDiscrTree.Key.star</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.star">Lean.Meta.LazyDiscrTree.Key.star</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instBEqKey.beq">Lean.Meta.LazyDiscrTree.instBEqKey.beq</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.other">Lean.Meta.LazyDiscrTree.Key.other</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.other">Lean.Meta.LazyDiscrTree.Key.other</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instBEqKey.beq">Lean.Meta.LazyDiscrTree.instBEqKey.beq</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.arrow">Lean.Meta.LazyDiscrTree.Key.arrow</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.arrow">Lean.Meta.LazyDiscrTree.Key.arrow</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instBEqKey.beq">Lean.Meta.LazyDiscrTree.instBEqKey.beq</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.proj">Lean.Meta.LazyDiscrTree.Key.proj</a> <span class="fn">a</span> <span class="fn">a_1</span> <span class="fn">a_2</span>)</span>
    <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.proj">Lean.Meta.LazyDiscrTree.Key.proj</a> <span class="fn">b</span> <span class="fn">b_1</span> <span class="fn">b_2</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   (<span class="fn">a</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b</span> <a href="../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> (<span class="fn">a_1</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b_1</span> <a href="../.././Init/Prelude.html#Bool.and">&amp;&amp;</a> <span class="fn">a_2</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b_2</span>))</li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instBEqKey.beq">Lean.Meta.LazyDiscrTree.instBEqKey.beq</a> <span class="fn">x✝¹</span> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.instBEqKey.beq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instReprKey.repr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L44-L44">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instReprKey.repr"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instReprKey</span>.<span class="name">repr</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> → <span class="fn"><a href="../.././Init/Prelude.html#Nat">Nat</a> → <a href="../.././Init/Data/Format/Basic.html#Std.Format">Format</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.instReprKey.repr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instReprKey"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L44-L44">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instReprKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instReprKey</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Data/Repr.html#Repr">Repr</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instReprKey">Lean.Meta.LazyDiscrTree.instReprKey</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Data/Repr.html#Repr.mk">{</a> <span class="fn">reprPrec</span> := <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instReprKey.repr">Lean.Meta.LazyDiscrTree.instReprKey.repr</a> <a href="../.././Init/Data/Repr.html#Repr.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.Key.hash"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L48-L56">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.hash"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Key</span>.<span class="name">hash</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> → <a href="../.././Init/Prelude.html#UInt64">UInt64</a></span></div></div><p>Hash function</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.const">Lean.Meta.LazyDiscrTree.Key.const</a> <span class="fn">a</span> <span class="fn">a_1</span>)</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.hash">hash</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn">5237</span> <span class="fn">(<a href="../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn"><span class="fn">a</span>.<a href="../.././Init/Prelude.html#Lean.Name.hash">hash</a></span> <span class="fn">(<a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a_1</span>)</span>)</span></span></li><li class="equation"><span class="fn"><span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.fvar">Lean.Meta.LazyDiscrTree.Key.fvar</a> <span class="fn">a</span> <span class="fn">a_1</span>)</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.hash">hash</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn">3541</span> <span class="fn">(<a href="../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn">(<a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a</span>)</span> <span class="fn">(<a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a_1</span>)</span>)</span></span></li><li class="equation"><span class="fn"><span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.lit">Lean.Meta.LazyDiscrTree.Key.lit</a> <span class="fn">a</span>)</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.hash">hash</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn">1879</span> <span class="fn">(<a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a</span>)</span></span></li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.star">Lean.Meta.LazyDiscrTree.Key.star</a>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.hash">hash</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">7883</span></li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.other">Lean.Meta.LazyDiscrTree.Key.other</a>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.hash">hash</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">2411</span></li><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.arrow">Lean.Meta.LazyDiscrTree.Key.arrow</a>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.hash">hash</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">17</span></li><li class="equation"><span class="fn"><span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.proj">Lean.Meta.LazyDiscrTree.Key.proj</a> <span class="fn">a</span> <span class="fn">a_1</span> <span class="fn">a_2</span>)</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.hash">hash</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn">(<a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a_2</span>)</span> <span class="fn">(<a href="../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn">(<a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a</span>)</span> <span class="fn">(<a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a_1</span>)</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.Key.hash" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.Key.instHashable"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L58-L58">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.instHashable"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Key</span>.<span class="name">instHashable</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.instHashable">Lean.Meta.LazyDiscrTree.Key.instHashable</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Hashable.mk">{</a> <span class="fn">hash</span> := <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key.hash">Lean.Meta.LazyDiscrTree.Key.hash</a> <a href="../.././Init/Prelude.html#Hashable.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchClone.tmpMVarId"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L65-L65">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.tmpMVarId"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">tmpMVarId</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Expr.html#Lean.MVarId">MVarId</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.tmpMVarId">Lean.Meta.LazyDiscrTree.MatchClone.tmpMVarId</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Expr.html#Lean.MVarId.mk">{</a> <span class="fn">name</span> := <span class="fn">`_discr_tree_tmp</span> <a href="../.././Lean/Expr.html#Lean.MVarId.mk">}</a></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchClone.tmpMVarId" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchClone.tmpStar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L66-L66">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.tmpStar"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">tmpStar</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.tmpStar">Lean.Meta.LazyDiscrTree.MatchClone.tmpStar</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Expr.html#Lean.mkMVar">Lean.mkMVar</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.tmpMVarId">Lean.Meta.LazyDiscrTree.MatchClone.tmpMVarId</a></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchClone.tmpStar" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchClone.ignoreArg"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L68-L89">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.ignoreArg"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">ignoreArg</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">infos</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">ParamInfo</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Returns true iff the argument should be treated as a &quot;wildcard&quot; by the
discrimination tree.</p><p>This includes proofs, instance implicit arguments, implicit arguments,
and terms of the form <code>noIndexing t</code></p><p>This is a clone of <code>Lean.Meta.DiscrTree.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.ignoreArg">ignoreArg</a></code> and mainly added to
avoid coupling between <code>DiscrTree</code> and <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a></code> while both are
potentially subject to independent changes.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchClone.ignoreArg" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchClone.pushArgsAux"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L91-L97">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.pushArgsAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">pushArgsAux</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">infos</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.ParamInfo">ParamInfo</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Nat">Nat</a> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span></span></span></span></div></div></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchClone.isNumeral"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L99-L115">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.isNumeral"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">isNumeral</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Returns <code>true</code> if <code>e</code> is one of the following</p><ul><li>A nat literal (numeral)</li><li><code><a href="../.././Init/Prelude.html#Nat.zero">Nat.zero</a></code></li><li><code><a href="../.././Init/Prelude.html#Nat.succ">Nat.succ</a> x</code> where <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.isNumeral">isNumeral</a> x</code></li><li><code><a href="../.././Init/Prelude.html#OfNat.ofNat">OfNat.ofNat</a> _ x _</code> where <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.isNumeral">isNumeral</a> x</code></li></ul></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchClone.toNatLit?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L117-L140">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.toNatLit?"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">toNatLit?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Literal">Literal</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchClone.toNatLit?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchClone.isNatType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L142-L143">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.isNatType"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">isNatType</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.isNatType">Lean.Meta.LazyDiscrTree.MatchClone.isNatType</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.whnf">Lean.Meta.whnf</a> <span class="fn">e</span></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<span class="fn"><span class="fn">__do_lift</span>.<a href="../.././Lean/Expr.html#Lean.Expr.isConstOf">isConstOf</a></span> <span class="fn">`Nat</span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchClone.isNatType" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchClone.isNatOffset"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L145-L161">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.isNatOffset"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">isNatOffset</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Returns <code>true</code> if <code>e</code> is one of the following</p><ul><li><code><a href="../.././Init/Prelude.html#Nat.add">Nat.add</a> _ k</code> where <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.isNumeral">isNumeral</a> k</code></li><li><code><a href="../.././Init/Prelude.html#Add.add">Add.add</a> <a href="../.././Init/Prelude.html#Nat">Nat</a> _ _ k</code> where <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.isNumeral">isNumeral</a> k</code></li><li><code><a href="../.././Init/Prelude.html#HAdd.hAdd">HAdd.hAdd</a> _ <a href="../.././Init/Prelude.html#Nat">Nat</a> _ _ k</code> where <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.isNumeral">isNumeral</a> k</code></li><li><code><a href="../.././Init/Prelude.html#Nat.succ">Nat.succ</a> _</code>
This function assumes <code>e.isAppOf fName</code></li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchClone.isNatOffset" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchClone.shouldAddAsStar"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L168-L169">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.shouldAddAsStar"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">shouldAddAsStar</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.shouldAddAsStar">Lean.Meta.LazyDiscrTree.MatchClone.shouldAddAsStar</a> <span class="fn">fName</span> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.isNatOffset">Lean.Meta.LazyDiscrTree.MatchClone.isNatOffset</a> <span class="fn">fName</span> <span class="fn">e</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchClone.shouldAddAsStar" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchClone.elimLooseBVarsByBeta"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L171-L190">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.elimLooseBVarsByBeta"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">elimLooseBVarsByBeta</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">CoreM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Eliminate loose bound variables via beta-reduction.</p><p>This is primarily used to reduce pi-terms <code>∀(x : P), T</code> into
non-dependent functions <code>P → T</code>.  The latter has a more specific
discrimination tree key <code>.arrow..</code> and this improves the accuracy of the
discrimination tree.</p><p>Clone of <code>Lean.Meta.DiscrTree.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.elimLooseBVarsByBeta">elimLooseBVarsByBeta</a></code>.  See it for more
discussion.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchClone.elimLooseBVarsByBeta" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchClone.getKeyArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L192-L262">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.getKeyArgs"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">getKeyArgs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">isMatch </span><span class="fn">root</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchClone.getKeyArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchClone.getMatchKeyArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L267-L269">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.getMatchKeyArgs"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchClone</span>.<span class="name">getMatchKeyArgs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">root</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.getMatchKeyArgs">Lean.Meta.LazyDiscrTree.MatchClone.getMatchKeyArgs</a> <span class="fn">e</span> <span class="fn">root</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchClone.getKeyArgs">Lean.Meta.LazyDiscrTree.MatchClone.getKeyArgs</a> <span class="fn">e</span> <a href="../.././Init/Prelude.html#Bool.true">true</a> <span class="fn">root</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchClone.getMatchKeyArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.LazyEntry"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L273-L276">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">LazyEntry</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a> u_1</div></div><p>An unprocessed entry in the lazy discrimination tree.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">Lean.Meta.LazyDiscrTree.LazyEntry</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> (<a href="../.././Lean/LocalContext.html#Lean.LocalContext">Lean.LocalContext</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/MetavarContext.html#Lean.LocalInstances">Lean.LocalInstances</a>) <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn">α</span>)</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.LazyEntry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.TrieIndex"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L278-L282">source</a></div><div class="attributes">@[reducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">TrieIndex</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Index identifying trie in a discrimination tree.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">Lean.Meta.LazyDiscrTree.TrieIndex</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.TrieIndex" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.Trie"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L284-L297">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Trie</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Discrimination tree trie. See <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a></code>.</p><ul class="structure_ext"><li id="Lean.Meta.LazyDiscrTree.Trie.node" class="structure_ext_ctor">node :: (</li><ul class="structure_ext_fields"><li id="Lean.Meta.LazyDiscrTree.Trie.values" class="structure_field"><div class="structure_field_info">values : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span></div><div class="structure_field_doc"><p>Values for matches ending at this trie.</p></div></li><li id="Lean.Meta.LazyDiscrTree.Trie.star" class="structure_field"><div class="structure_field_info">star : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></div><div class="structure_field_doc"><p>Index of trie matching star.</p></div></li><li id="Lean.Meta.LazyDiscrTree.Trie.children" class="structure_field"><div class="structure_field_info">children : <span class="fn"><a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></span></div><div class="structure_field_doc"><p>Following matches based on key of trie.</p></div></li><li id="Lean.Meta.LazyDiscrTree.Trie.pending" class="structure_field"><div class="structure_field_info">pending : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">LazyEntry</a> <span class="fn">α</span>)</span></span></div><div class="structure_field_doc"><p>Lazy entries at this trie that are not processed.</p></div></li></ul><li class="structure_ext_ctor">)</li></ul><details id="instances-for-list-Lean.Meta.LazyDiscrTree.Trie" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instInhabitedTrie"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L297-L297">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedTrie"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedTrie</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a✝</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie">Trie</a> <span class="fn">a✝</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedTrie">Lean.Meta.LazyDiscrTree.instInhabitedTrie</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedTrie.default">Lean.Meta.LazyDiscrTree.instInhabitedTrie.default</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instInhabitedTrie.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L297-L297">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedTrie.default"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedTrie</span>.<span class="name">default</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a✝</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie">Trie</a> <span class="fn">a✝</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedTrie.default">Lean.Meta.LazyDiscrTree.instInhabitedTrie.default</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.node">{</a> <span class="fn">values</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">star</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">children</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">pending</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.node">}</a></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.instInhabitedTrie.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instEmptyCollectionTrie"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L299-L299">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instEmptyCollectionTrie"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instEmptyCollectionTrie</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Core.html#EmptyCollection">EmptyCollection</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie">Trie</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instEmptyCollectionTrie">Lean.Meta.LazyDiscrTree.instEmptyCollectionTrie</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Core.html#EmptyCollection.mk">{</a> <span class="fn">emptyCollection</span> := <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.node">{</a> <span class="fn">values</span> := <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a>, <span class="fn">star</span> := <span class="fn">0</span>, <span class="fn">children</span> := <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.node">}</a> <a href="../.././Init/Core.html#EmptyCollection.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.Trie.pushPending"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L301-L303">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.pushPending"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Trie</span>.<span class="name">pushPending</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie">Trie</a> <span class="fn">α</span></span> → <span class="fn"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">LazyEntry</a> <span class="fn">α</span></span> → <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie">Trie</a> <span class="fn">α</span></span></span></span></div></div><p>Push lazy entry to trie.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.node">{</a> <span class="fn">values</span> := <span class="fn">vs</span>, <span class="fn">star</span> := <span class="fn">star</span>, <span class="fn">children</span> := <span class="fn">cs</span>, <span class="fn">pending</span> := <span class="fn">p</span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.node">}</a>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.pushPending">pushPending</a></span> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.node">{</a> <span class="fn">values</span> := <span class="fn">vs</span>, <span class="fn">star</span> := <span class="fn">star</span>, <span class="fn">children</span> := <span class="fn">cs</span>, <span class="fn">pending</span> := <span class="fn"><span class="fn"><span class="fn">p</span>.<a href="../.././Init/Prelude.html#Array.push">push</a></span> <span class="fn">x✝</span></span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.node">}</a></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.Trie.pushPending" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L307-L324">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p><code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a></code> is a variant of the discriminator tree datatype
<code>DiscrTree</code> in Lean core that is designed to be efficiently
initializable with a large number of patterns.  This is useful
in contexts such as searching an entire Lean environment for
expressions that match a pattern.</p><p>Lazy discriminator trees achieve good performance by minimizing
the amount of work that is done up front to build the discriminator
tree.  When first adding patterns to the tree, only the root
discriminator key is computed and processing the remaining
terms is deferred until demanded by a match.</p><ul class="structure_fields" id="Lean.Meta.LazyDiscrTree.mk"><li id="Lean.Meta.LazyDiscrTree.tries" class="structure_field"><div class="structure_field_info">tries : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie">Trie</a> <span class="fn">α</span>)</span></span></div><div class="structure_field_doc"><p>Backing array of trie entries.  Should be owned by this trie.</p></div></li><li id="Lean.Meta.LazyDiscrTree.roots" class="structure_field"><div class="structure_field_info">roots : <span class="fn"><a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></span></div><div class="structure_field_doc"><p>Map from discriminator trie roots to the index.</p></div></li></ul><details id="instances-for-list-Lean.Meta.LazyDiscrTree" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instInhabited"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L330-L331">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabited"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabited</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabited">Lean.Meta.LazyDiscrTree.instInhabited</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.mk">{</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.pushArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L335-L387">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.pushArgs"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">pushArgs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">root</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">todo</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></div></div><p>Specialization of Lean.Meta.DiscrTree.pushArgs</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.pushArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.initCapacity"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L389-L390">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.initCapacity"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">initCapacity</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Nat">Nat</a></div></div><p>Initial capacity for key and todo vector.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.initCapacity">Lean.Meta.LazyDiscrTree.initCapacity</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">8</span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.initCapacity" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.rootKey"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L392-L396">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.rootKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">rootKey</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></div></div><p>Get the root key and rest of terms of an expression using the specified config.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.rootKey">Lean.Meta.LazyDiscrTree.rootKey</a> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.pushArgs">Lean.Meta.LazyDiscrTree.pushArgs</a> <a href="../.././Init/Prelude.html#Bool.true">true</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.initCapacity">Lean.Meta.LazyDiscrTree.initCapacity</a>)</span> <span class="fn">e</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.rootKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.buildPath"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L398-L405">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.buildPath"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">buildPath</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">op</span> : <span class="fn"><a href="../.././Init/Prelude.html#Bool">Bool</a> → <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.Expr">Expr</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">root</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">todo</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">keys</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a>)</span></span></div></div></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.patternPath"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L407-L416">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.patternPath"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">patternPath</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a>)</span></span></div></div><p>Create a key path from an expression using the function used for patterns.</p><p>This differs from Lean.Meta.DiscrTree.mkPath and targetPath in that the expression
should uses free variables rather than meta-variables for holes.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.patternPath" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.targetPath"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L418-L428">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.targetPath"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">targetPath</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a>)</span></span></div></div><p>Create a key path from an expression we are matching against.</p><p>This should have mvars instantiated where feasible.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.targetPath" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L431-L432">source</a></div><div class="attributes">@[reducible]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchM</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">Lean.Meta.LazyDiscrTree.MatchM</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Control/StateRef.html#StateRefT'">StateRefT'</a> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie">Lean.Meta.LazyDiscrTree.Trie</a> <span class="fn">α</span>)</span>)</span> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.runMatch"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L434-L437">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.runMatch"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">runMatch</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">d</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">MatchM</a> <span class="fn">α</span> <span class="fn">β</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn">β</span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.mk">{</a> <span class="fn">tries</span> := <span class="fn">a</span>, <span class="fn">roots</span> := <span class="fn">r</span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.mk">}</a>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.runMatch">runMatch</a></span> <span class="fn">m</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__discr</span> ← <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducible">Lean.Meta.withReducible</a> <span class="fn">(<a href="../.././Init/Control/StateRef.html#StateRefT'.run">StateRefT'.run</a> <span class="fn">m</span> <span class="fn">a</span>)</span></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href="../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">result</span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">a</span><a href="../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">result</span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.mk">{</a> <span class="fn">tries</span> := <span class="fn">a</span>, <span class="fn">roots</span> := <span class="fn">r</span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.mk">}</a><a href="../.././Init/Prelude.html#Prod.mk">)</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.runMatch" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.setTrie"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L439-L440">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.setTrie"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">setTrie</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">v</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie">Trie</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">MatchM</a> <span class="fn">α</span> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.setTrie">Lean.Meta.LazyDiscrTree.setTrie</a> <span class="fn">i</span> <span class="fn">v</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie">Lean.Meta.LazyDiscrTree.Trie</a> <span class="fn">α</span>)</span></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../.././Init/Data/Array/Set.html#Array.set!">set!</a></span> <span class="fn">i</span> <span class="fn">v</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.setTrie" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.newTrie"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L442-L444">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.newTrie"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">newTrie</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a> u_1</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#MonadState">MonadState</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie">Trie</a> <span class="fn">α</span>)</span>)</span> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">LazyEntry</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></span></div></div><p>Create a new trie with the given lazy entry.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.newTrie" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.addLazyEntryToTrie"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L446-L448">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.addLazyEntryToTrie"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">addLazyEntryToTrie</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">LazyEntry</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">MatchM</a> <span class="fn">α</span> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Add a lazy entry to an existing trie.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.addLazyEntryToTrie">Lean.Meta.LazyDiscrTree.addLazyEntryToTrie</a> <span class="fn">i</span> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie">Lean.Meta.LazyDiscrTree.Trie</a> <span class="fn">α</span>)</span></span>) =&gt;
    <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../.././Init/Data/Array/Basic.html#Array.modify">modify</a></span> <span class="fn">i</span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie">Lean.Meta.LazyDiscrTree.Trie</a> <span class="fn">α</span></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.pushPending">pushPending</a></span> <span class="fn">e</span></span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.addLazyEntryToTrie" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.evalLazyEntry"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L450-L477">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.evalLazyEntry"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">evalLazyEntry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">entry</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">LazyEntry</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">MatchM</a> <span class="fn">α</span> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.evalLazyEntry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.evalLazyEntries"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L479-L490">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.evalLazyEntries"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">evalLazyEntries</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">values</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">starIdx</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">children</span> : <span class="fn"><a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">entries</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">LazyEntry</a> <span class="fn">α</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">MatchM</a> <span class="fn">α</span> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></span>)</span></div></div><p>This evaluates all lazy entries in a trie and updates <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.values">values</a></code>, <code>starIdx</code>, and <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Trie.children">children</a></code>
accordingly.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.evalLazyEntries">Lean.Meta.LazyDiscrTree.evalLazyEntries</a> <span class="fn">values</span> <span class="fn">starIdx</span> <span class="fn">children</span> <span class="fn">entries</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Data/Array/Basic.html#Array.foldlM">Array.foldlM</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.evalLazyEntry">Lean.Meta.LazyDiscrTree.evalLazyEntry</a> <a href="../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">values</span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">starIdx</span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">children</span><a href="../.././Init/Prelude.html#Prod.mk">)</a> <span class="fn">entries</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.evalLazyEntries" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.evalNode"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L492-L501">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.evalNode"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">evalNode</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">MatchM</a> <span class="fn">α</span> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></span>)</span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.evalNode" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.dropKeyAux"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L503-L514">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.dropKeyAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">dropKeyAux</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">next</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rest</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">MatchM</a> <span class="fn">α</span> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.dropKeyAux" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.dropKey"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L516-L525">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.dropKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">dropKey</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">path</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span>)</span></span></div></div><p>This drops a specific key from the lazy discrimination tree so that
all the entries matching that key exactly are removed.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.dropKey">dropKey</a></span> <a href="../.././Init/Prelude.html#List.nil">[</a><a href="../.././Init/Prelude.html#List.nil">]</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">t</span></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.dropKey">dropKey</a></span> (<span class="fn">k</span> <a href="../.././Init/Prelude.html#List.cons">::</a> <span class="fn">r</span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Prod.snd">Prod.snd</a> <a href="../.././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.runMatch">runMatch</a></span> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.dropKeyAux">Lean.Meta.LazyDiscrTree.dropKeyAux</a> <span class="fn">(<span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.roots">roots</a></span>.<a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap.getD">getD</a></span> <span class="fn">k</span> <span class="fn">0</span>)</span> <span class="fn">r</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.dropKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchResult"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L527-L543">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchResult</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A match result contains the terms formed from matching a term against
patterns in the discrimination tree.</p><ul class="structure_fields" id="Lean.Meta.LazyDiscrTree.MatchResult.mk"><li id="Lean.Meta.LazyDiscrTree.MatchResult.elts" class="structure_field"><div class="structure_field_info">elts : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span>)</span>)</span></span></div><div class="structure_field_doc"><p>The elements in the match result.</p><p>The top-level array represents an array from <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PartialMatch.score">score</a></code> values to the
results with that score. A <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PartialMatch.score">score</a></code> is the number of non-star matches
in a pattern against the term, and thus bounded by the size of the
term being matched against.  The elements of this array are themselves
arrays of non-empty arrays so that we can defer concatenating results until
needed.</p></div></li></ul><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchResult" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchResult.push"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L547-L559">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult.push"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchResult</span>.<span class="name">push</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">score</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchResult.push" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchResult.size"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L561-L565">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult.size"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchResult</span>.<span class="name">size</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">mr</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Nat">Nat</a></div></div><p>Number of elements in result</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">mr</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult.size">size</a></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Data/Array/Basic.html#Array.foldl">Array.foldl</a> <span class="fn">(fun (<span class="fn">i</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>) (<span class="fn">a</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span>)</span></span>) =&gt; <span class="fn"><a href="../.././Init/Data/Array/Basic.html#Array.foldl">Array.foldl</a> <span class="fn">(fun (<span class="fn">n</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>) (<span class="fn">a</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span>) =&gt; <span class="fn">n</span> <a href="../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">a</span>.<a href="../.././Init/Prelude.html#Array.size">size</a></span>)</span> <span class="fn">i</span> <span class="fn">a</span></span>)</span> <span class="fn">0</span>
    <span class="fn"><span class="fn">mr</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult.elts">elts</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchResult.size" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchResult.appendResultsAux"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L567-L577">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult.appendResultsAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchResult</span>.<span class="name">appendResultsAux</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">mr</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">β</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Init/Prelude.html#Nat">Nat</a> → <span class="fn"><span class="fn">α</span> → <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">β</span></span></div></div><p>Append results to array</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchResult.appendResultsAux" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.MatchResult.appendResults"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L579-L580">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult.appendResults"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">MatchResult</span>.<span class="name">appendResults</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">mr</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">a</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">mr</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult.appendResults">appendResults</a></span> <span class="fn">a</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">mr</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult.appendResultsAux">appendResultsAux</a></span> <span class="fn">a</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>) (<span class="fn">a</span> : <span class="fn">α</span>) =&gt; <span class="fn">a</span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.MatchResult.appendResults" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.PartialMatch"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L592-L599">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PartialMatch"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PartialMatch</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Lean.Meta.LazyDiscrTree.PartialMatch.mk"><li id="Lean.Meta.LazyDiscrTree.PartialMatch.todo" class="structure_field"><div class="structure_field_info">todo : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></li><li id="Lean.Meta.LazyDiscrTree.PartialMatch.score" class="structure_field"><div class="structure_field_info">score : <a href="../.././Init/Prelude.html#Nat">Nat</a></div></li><li id="Lean.Meta.LazyDiscrTree.PartialMatch.c" class="structure_field"><div class="structure_field_info">c : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></div></li></ul><details id="instances-for-list-Lean.Meta.LazyDiscrTree.PartialMatch" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L599-L599">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedPartialMatch</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PartialMatch">PartialMatch</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch">Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch.default">Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch.default</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L599-L599">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch.default"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedPartialMatch</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PartialMatch">PartialMatch</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch.default">Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch.default</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PartialMatch.mk">{</a> <span class="fn">todo</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">score</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">c</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PartialMatch.mk">}</a></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.instInhabitedPartialMatch.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.getMatchLoop"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L601-L653">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.getMatchLoop"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">getMatchLoop</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">cases</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PartialMatch">PartialMatch</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">result</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">MatchM</a> <span class="fn">α</span> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a> <span class="fn">α</span>)</span></span></div></div><p>Evaluate all partial matches and add resulting matches to <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a></code>.</p><p>The partial matches are stored in an array that is used as a stack. When adding
multiple partial matches to explore next, to ensure the order of results matches
user expectations, this code must add paths we want to prioritize and return
results earlier are added last.</p></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.getStarResult"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L655-L661">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.getStarResult"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">getStarResult</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">root</span> : <span class="fn"><a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">MatchM</a> <span class="fn">α</span> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.getStarResult" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.pushRootCase"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L666-L670">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.pushRootCase"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">pushRootCase</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <span class="fn"><a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">args</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cases</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PartialMatch">PartialMatch</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PartialMatch">PartialMatch</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.pushRootCase">Lean.Meta.LazyDiscrTree.pushRootCase</a> <span class="fn">r</span> <span class="fn">k</span> <span class="fn">args</span> <span class="fn">cases</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn">match <span class="fn">r</span><a href="../.././Init/GetElem.html#GetElem?.getElem?">[</a><span class="fn">k</span><a href="../.././Init/GetElem.html#GetElem?.getElem?">]</a><a href="../.././Init/GetElem.html#GetElem?.getElem?">?</a> with
  | <a href="../.././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn">cases</span>
  | <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">c</span></span> =&gt; <span class="fn"><span class="fn"><span class="fn">cases</span>.<a href="../.././Init/Prelude.html#Array.push">push</a></span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PartialMatch.mk">{</a> <span class="fn">todo</span> := <span class="fn">args</span>, <span class="fn">score</span> := <span class="fn">1</span>, <span class="fn">c</span> := <span class="fn">c</span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PartialMatch.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.pushRootCase" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.getMatchCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L672-L689">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.getMatchCore"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">getMatchCore</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">root</span> : <span class="fn"><a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">MatchM</a> <span class="fn">α</span> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a> <span class="fn">α</span>)</span></span></div></div><p>Find values that match <code>e</code> in <code>root</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.getMatchCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.getMatch"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L691-L698">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.getMatch"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">getMatch</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">d</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span></span>)</span></div></div><p>Find values that match <code>e</code> in <code>d</code>.</p><p>The results are ordered so that the longest matches in terms of number of
non-star keys are first with ties going to earlier operators first.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">d</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.getMatch">getMatch</a></span> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.withReducible">Lean.Meta.withReducible</a> <span class="fn">(<span class="fn"><span class="fn">d</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.runMatch">runMatch</a></span> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.getMatchCore">Lean.Meta.LazyDiscrTree.getMatchCore</a> <span class="fn"><span class="fn">d</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.roots">roots</a></span> <span class="fn">e</span>)</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.getMatch" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.PreDiscrTree"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L700-L709">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PreDiscrTree</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Structure for quickly initializing a lazy discrimination tree with a large number
of elements using concurrent functions for generating entries.</p><ul class="structure_fields" id="Lean.Meta.LazyDiscrTree.PreDiscrTree.mk"><li id="Lean.Meta.LazyDiscrTree.PreDiscrTree.roots" class="structure_field"><div class="structure_field_info">roots : <span class="fn"><a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div><div class="structure_field_doc"><p>Maps keys to index in tries array.</p></div></li><li id="Lean.Meta.LazyDiscrTree.PreDiscrTree.tries" class="structure_field"><div class="structure_field_info">tries : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">LazyEntry</a> <span class="fn">α</span>)</span>)</span></span></div><div class="structure_field_doc"><p>Lazy entries for root of trie.</p></div></li></ul><details id="instances-for-list-Lean.Meta.LazyDiscrTree.PreDiscrTree" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L709-L709">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedPreDiscrTree</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a✝</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">a✝</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree">Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree.default">Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree.default</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L709-L709">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree.default"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedPreDiscrTree</span>.<span class="name">default</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">a✝</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">a✝</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree.default">Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree.default</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree.mk">{</a> <span class="fn">roots</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">tries</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree.mk">}</a></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.instInhabitedPreDiscrTree.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.PreDiscrTree.modifyAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L713-L721">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree.modifyAt"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PreDiscrTree</span>.<span class="name">modifyAt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">d</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">LazyEntry</a> <span class="fn">α</span>)</span></span> → <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">LazyEntry</a> <span class="fn">α</span>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.PreDiscrTree.modifyAt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.PreDiscrTree.push"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L723-L725">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree.push"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PreDiscrTree</span>.<span class="name">push</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">d</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">k</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">LazyEntry</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span></span></div></div><p>Add an entry to the pre-discrimination tree.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">d</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree.push">push</a></span> <span class="fn">k</span> <span class="fn">e</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">d</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree.modifyAt">modifyAt</a></span> <span class="fn">k</span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">Lean.Meta.LazyDiscrTree.LazyEntry</a> <span class="fn">α</span>)</span></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../.././Init/Prelude.html#Array.push">push</a></span> <span class="fn">e</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.PreDiscrTree.push" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.PreDiscrTree.toLazy"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L727-L732">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree.toLazy"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PreDiscrTree</span>.<span class="name">toLazy</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">d</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span></span></div></div><p>Convert a pre-discrimination tree to a lazy discrimination tree.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.PreDiscrTree.toLazy" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.PreDiscrTree.append"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L734-L742">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree.append"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PreDiscrTree</span>.<span class="name">append</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span></span></div></div><p>Merge two discrimination trees.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.PreDiscrTree.append" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.PreDiscrTree.instAppend"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L744-L745">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree.instAppend"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">PreDiscrTree</span>.<span class="name">instAppend</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Append">Append</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree.instAppend">Lean.Meta.LazyDiscrTree.PreDiscrTree.instAppend</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Append.mk">{</a> <span class="fn">append</span> := <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree.append">Lean.Meta.LazyDiscrTree.PreDiscrTree.append</a> <a href="../.././Init/Prelude.html#Append.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.InitEntry"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L749-L754">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">InitEntry</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Initial entry in lazy discrimination tree</p><ul class="structure_fields" id="Lean.Meta.LazyDiscrTree.InitEntry.mk"><li id="Lean.Meta.LazyDiscrTree.InitEntry.key" class="structure_field"><div class="structure_field_info">key : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></div><div class="structure_field_doc"><p>Return root key for an entry.</p></div></li><li id="Lean.Meta.LazyDiscrTree.InitEntry.entry" class="structure_field"><div class="structure_field_info">entry : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.LazyEntry">LazyEntry</a> <span class="fn">α</span></span></div><div class="structure_field_doc"><p>Returns rest of entry for later insertion.</p></div></li></ul><details id="instances-for-list-Lean.Meta.LazyDiscrTree.InitEntry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.InitEntry.fromExpr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L758-L766">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry.fromExpr"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">InitEntry</span>.<span class="name">fromExpr</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">expr</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">value</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span>)</span></span></div></div><p>Constructs an initial entry from an expression and value.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.InitEntry.fromExpr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.InitEntry.mkSubEntry"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L768-L778">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry.mkSubEntry"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">InitEntry</span>.<span class="name">mkSubEntry</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">idx</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">value</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span>)</span></span></div></div><p>Creates an entry for a subterm of an initial entry.</p><p>This is slightly more efficient than using <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry.fromExpr">fromExpr</a></code> on subterms since it avoids a redundant call
to <code>whnf</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.InitEntry.mkSubEntry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.ImportFailure"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L782-L789">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportFailure"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">ImportFailure</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Information about a failed import.</p><ul class="structure_fields" id="Lean.Meta.LazyDiscrTree.ImportFailure.mk"><li id="Lean.Meta.LazyDiscrTree.ImportFailure.module" class="structure_field"><div class="structure_field_info">module : <a href="../.././Init/Prelude.html#Lean.Name">Name</a></div><div class="structure_field_doc"><p>Module with constant that import failed on.</p></div></li><li id="Lean.Meta.LazyDiscrTree.ImportFailure.const" class="structure_field"><div class="structure_field_info">const : <a href="../.././Init/Prelude.html#Lean.Name">Name</a></div><div class="structure_field_doc"><p>Constant that import failed on.</p></div></li><li id="Lean.Meta.LazyDiscrTree.ImportFailure.exception" class="structure_field"><div class="structure_field_info">exception : <a href="../.././Lean/Exception.html#Lean.Exception">Exception</a></div><div class="structure_field_doc"><p>Exception that triggers error.</p></div></li></ul><details id="instances-for-list-Lean.Meta.LazyDiscrTree.ImportFailure" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.ImportData"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L791-L793">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportData"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">ImportData</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Information generation from imported modules.</p><ul class="structure_fields" id="Lean.Meta.LazyDiscrTree.ImportData.mk"><li id="Lean.Meta.LazyDiscrTree.ImportData.errors" class="structure_field"><div class="structure_field_info">errors : <span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportFailure">ImportFailure</a>)</span></span></div></li></ul><details id="instances-for-list-Lean.Meta.LazyDiscrTree.ImportData" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.ImportData.new"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L795-L797">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportData.new"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">ImportData</span>.<span class="name">new</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportData">ImportData</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportData.new">Lean.Meta.LazyDiscrTree.ImportData.new</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">errors</span> ← <span class="fn"><a href="../.././Init/System/IO.html#IO.mkRef">IO.mkRef</a> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportData.mk">{</a> <span class="fn">errors</span> := <span class="fn">errors</span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportData.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.ImportData.new" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.Cache"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L799-L802">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Cache"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Cache</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Lean.Meta.LazyDiscrTree.Cache.mk"><li id="Lean.Meta.LazyDiscrTree.Cache.ngen" class="structure_field"><div class="structure_field_info">ngen : <a href="../.././Init/MetaTypes.html#Lean.NameGenerator">NameGenerator</a></div></li><li id="Lean.Meta.LazyDiscrTree.Cache.core" class="structure_field"><div class="structure_field_info">core : <a href="../.././Lean/CoreM.html#Lean.Core.Cache">Core.Cache</a></div></li><li id="Lean.Meta.LazyDiscrTree.Cache.meta" class="structure_field"><div class="structure_field_info">meta : <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache">Meta.Cache</a></div></li></ul><details id="instances-for-list-Lean.Meta.LazyDiscrTree.Cache" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.Cache.empty"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L804-L804">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Cache.empty"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">Cache</span>.<span class="name">empty</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ngen</span> : <a href="../.././Init/MetaTypes.html#Lean.NameGenerator">NameGenerator</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Cache">Cache</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Cache.empty">Lean.Meta.LazyDiscrTree.Cache.empty</a> <span class="fn">ngen</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Cache.mk">{</a> <span class="fn">ngen</span> := <span class="fn">ngen</span>, <span class="fn">core</span> := <a href="../.././Lean/CoreM.html#Lean.Core.Cache.mk">{</a> <a href="../.././Lean/CoreM.html#Lean.Core.Cache.mk">}</a>, <span class="fn">«meta»</span> := <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.mk">{</a> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.Cache.mk">}</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Cache.mk">}</a></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.Cache.empty" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.blacklistInsertion"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L823-L828">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.blacklistInsertion"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">blacklistInsertion</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href="../.././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">declName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.blacklistInsertion" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.addConstImportData"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L830-L858">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.addConstImportData"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">addConstImportData</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">cctx</span> : <a href="../.././Lean/CoreM.html#Lean.Core.Context">Core.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href="../.././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">modName</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">d</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportData">ImportData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cacheRef</span> : <span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Cache">Cache</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tree</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span>)</span>)</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">name</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">constInfo</span> : <a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.addConstImportData" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.InitResults"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L860-L866">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">InitResults</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Contains the pre discrimination tree and any errors occurring during initialization of
the library search tree.</p><ul class="structure_fields" id="Lean.Meta.LazyDiscrTree.InitResults.mk"><li id="Lean.Meta.LazyDiscrTree.InitResults.tree" class="structure_field"><div class="structure_field_info">tree : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span></span></div></li><li id="Lean.Meta.LazyDiscrTree.InitResults.errors" class="structure_field"><div class="structure_field_info">errors : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportFailure">ImportFailure</a></span></div></li></ul><details id="instances-for-list-Lean.Meta.LazyDiscrTree.InitResults" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.instInhabitedInitResults"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L868-L869">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedInitResults"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">instInhabitedInitResults</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults">InitResults</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.instInhabitedInitResults">Lean.Meta.LazyDiscrTree.instInhabitedInitResults</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.mk">{</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.mk">}</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.InitResults.append"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L873-L877">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.append"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">InitResults</span>.<span class="name">append</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults">InitResults</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults">InitResults</a> <span class="fn">α</span></span></div></div><p>Combine two initial results.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.mk">{</a> <span class="fn">tree</span> := <span class="fn">yv</span>, <span class="fn">errors</span> := <span class="fn">ye</span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.mk">}</a>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.append">append</a></span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.mk">{</a> <span class="fn">tree</span> := <span class="fn">yv_1</span>, <span class="fn">errors</span> := <span class="fn">ye_1</span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.mk">}</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.mk">{</a> <span class="fn">tree</span> := <span class="fn">yv</span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">yv_1</span>, <span class="fn">errors</span> := <span class="fn">ye</span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">ye_1</span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.mk">}</a></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.InitResults.append" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.InitResults.instAppend"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L879-L880">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.instAppend"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">InitResults</span>.<span class="name">instAppend</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Append">Append</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults">InitResults</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.instAppend">Lean.Meta.LazyDiscrTree.InitResults.instAppend</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Append.mk">{</a> <span class="fn">append</span> := <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.append">Lean.Meta.LazyDiscrTree.InitResults.append</a> <a href="../.././Init/Prelude.html#Append.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.toFlat"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L884-L887">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.toFlat"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">toFlat</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">d</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportData">ImportData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tree</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults">InitResults</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.toFlat">Lean.Meta.LazyDiscrTree.toFlat</a> <span class="fn">d</span> <span class="fn">tree</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">de</span> ← <span class="fn"><a href="../.././Init/System/ST.html#ST.Ref.swap">ST.Ref.swap</a> <span class="fn"><span class="fn">d</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportData.errors">errors</a></span> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a></span>
  <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.mk">{</a> <span class="fn">tree</span> := <span class="fn">tree</span>, <span class="fn">errors</span> := <span class="fn">de</span> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.toFlat" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.loadImportedModule"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L889-L904">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.loadImportedModule"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">loadImportedModule</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">cctx</span> : <a href="../.././Lean/CoreM.html#Lean.Core.Context">Core.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href="../.././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span>)</span>)</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">d</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportData">ImportData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cacheRef</span> : <span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Cache">Cache</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tree</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mname</span> : <a href="../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mdata</span> : <a href="../.././Lean/Environment.html#Lean.ModuleData">ModuleData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a> := <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span>)</span></span></div></div></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.createImportedEnvironmentSeq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L906-L919">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.createImportedEnvironmentSeq"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">createImportedEnvironmentSeq</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">cctx</span> : <a href="../.././Lean/CoreM.html#Lean.Core.Context">Core.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ngen</span> : <a href="../.././Init/MetaTypes.html#Lean.NameGenerator">NameGenerator</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href="../.././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span>)</span>)</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">start </span><span class="fn">stop</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitResults">InitResults</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.createImportedEnvironmentSeq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.combineGet"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L921-L923">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.combineGet"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">combineGet</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Append">Append</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">z</span> : <span class="fn">α</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tasks</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">α</span></div></div><p>Get the results of each task and merge using combining function</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.combineGet">Lean.Meta.LazyDiscrTree.combineGet</a> <span class="fn">z</span> <span class="fn">tasks</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Data/Array/Basic.html#Array.foldl">Array.foldl</a> <span class="fn">(fun (<span class="fn">x</span> : <span class="fn">α</span>) (<span class="fn">t</span> : <span class="fn"><a href="../.././Init/Core.html#Task">Task</a> <span class="fn">α</span></span>) =&gt; <span class="fn">x</span> <a href="../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><span class="fn">t</span>.<a href="../.././Init/Core.html#Task.get">get</a></span>)</span> <span class="fn">z</span> <span class="fn">tasks</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.combineGet" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.getChildNgen"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L925-L929">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.getChildNgen"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">getChildNgen</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">M</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">M</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Meta/Defs.html#Lean.MonadNameGenerator">MonadNameGenerator</a> <span class="fn">M</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">M</span> <a href="../.././Init/MetaTypes.html#Lean.NameGenerator">NameGenerator</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.getChildNgen">Lean.Meta.LazyDiscrTree.getChildNgen</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">ngen</span> ← <a href="../.././Init/Meta/Defs.html#Lean.MonadNameGenerator.getNGen">Lean.getNGen</a>
  <span class="fn">match <span class="fn"><span class="fn">ngen</span>.<a href="../.././Init/Meta/Defs.html#Lean.NameGenerator.mkChild">mkChild</a></span> with
    | <a href="../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">cngen</span><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">ngen</span><a href="../.././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn">do
      <span class="fn"><a href="../.././Init/Meta/Defs.html#Lean.MonadNameGenerator.setNGen">Lean.setNGen</a> <span class="fn">ngen</span></span>
      <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">cngen</span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.getChildNgen" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.createLocalPreDiscrTree"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L931-L943">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.createLocalPreDiscrTree"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">createLocalPreDiscrTree</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">cctx</span> : <a href="../.././Lean/CoreM.html#Lean.Core.Context">Core.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ngen</span> : <a href="../.././Init/MetaTypes.html#Lean.NameGenerator">NameGenerator</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href="../.././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">d</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportData">ImportData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span>)</span>)</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.PreDiscrTree">PreDiscrTree</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.createLocalPreDiscrTree" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.dropKeys"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L945-L946">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.dropKeys"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">dropKeys</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">keys</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.dropKeys">dropKeys</a></span> <span class="fn">keys</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Data/List/Control.html#List.foldlM">List.foldlM</a> <span class="fn">(fun (<span class="fn">x1</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">Lean.Meta.LazyDiscrTree</a> <span class="fn">α</span></span>) (<span class="fn">x2</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Lean.Meta.LazyDiscrTree.Key</a></span>) =&gt; <span class="fn"><span class="fn"><span class="fn">x1</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.dropKey">dropKey</a></span> <span class="fn">x2</span></span>)</span> <span class="fn">t</span> <span class="fn">keys</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.dropKeys" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.collectSubtreeAux"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L948-L962">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.collectSubtreeAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">collectSubtreeAux</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">next</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">MatchM</a> <span class="fn">α</span> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span>)</span></span></div></div><p>Collect all values from a subtree recursively and clear them.</p></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.extractKeyAux"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L964-L977">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.extractKeyAux"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">extractKeyAux</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">next</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.TrieIndex">TrieIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rest</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchM">MatchM</a> <span class="fn">α</span> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span>)</span></span></div></div><p>Navigate to a key path and return all values in that subtree, then drop them.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.extractKeyAux" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.extractKey"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L979-L986">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.extractKey"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">extractKey</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">path</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span></span>)</span></div></div><p>Extract and drop entries at a specific key, returning the dropped entries.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.extractKey">extractKey</a></span> <a href="../.././Init/Prelude.html#List.nil">[</a><a href="../.././Init/Prelude.html#List.nil">]</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../.././Init/Prelude.html#Prod.mk">(</a><a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a><a href="../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">t</span><a href="../.././Init/Prelude.html#Prod.mk">)</a></span></li><li class="equation"><span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.extractKey">extractKey</a></span> (<span class="fn">k</span> <a href="../.././Init/Prelude.html#List.cons">::</a> <span class="fn">r</span>)</span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.runMatch">runMatch</a></span> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.extractKeyAux">Lean.Meta.LazyDiscrTree.extractKeyAux</a> <span class="fn">(<span class="fn"><span class="fn"><span class="fn">t</span>.<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.roots">roots</a></span>.<a href="../.././Std/Data/HashMap/Basic.html#Std.HashMap.getD">getD</a></span> <span class="fn">k</span> <span class="fn">0</span>)</span> <span class="fn">r</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.extractKey" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.extractKeys"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L988-L997">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.extractKeys"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">extractKeys</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">t</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">keys</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span></span>)</span></div></div><p>Extract entries at the given keys and also drop them from the tree.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.extractKeys" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.logImportFailure"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L999-L1000">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.logImportFailure"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">logImportFailure</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Lean/Log.html#Lean.MonadLog">MonadLog</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Lean/Message.html#Lean.AddMessageContext">AddMessageContext</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Lean/Data/Options.html#Lean.MonadOptions">MonadOptions</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ImportFailure">ImportFailure</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.logImportFailure" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.createImportedDiscrTree"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L1002-L1032">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.createImportedDiscrTree"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">createImportedDiscrTree</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> → <a href="../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Lean/Log.html#Lean.MonadLog">MonadLog</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Lean/Message.html#Lean.AddMessageContext">AddMessageContext</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Lean/Data/Options.html#Lean.MonadOptions">MonadOptions</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../.././Init/System/IO.html#BaseIO">BaseIO</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">cctx</span> : <a href="../.././Lean/CoreM.html#Lean.Core.Context">Core.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ngen</span> : <a href="../.././Init/MetaTypes.html#Lean.NameGenerator">NameGenerator</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">env</span> : <a href="../.././Lean/Environment.html#Lean.Environment">Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span>)</span>)</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">constantsPerTask</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a> := <span class="fn">1000</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span>)</span></span></div></div><p>Create a discriminator tree for imported environment.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.createImportedDiscrTree" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.createTreeCtx"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L1034-L1043">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.createTreeCtx"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">createTreeCtx</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ctx</span> : <a href="../.././Lean/CoreM.html#Lean.Core.Context">Core.Context</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/CoreM.html#Lean.Core.Context">Core.Context</a></div></div><p>Creates the core context used for initializing a tree using the current context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.createTreeCtx" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.findImportMatches"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L1045-L1073">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.findImportMatches"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">findImportMatches</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ext</span> : <span class="fn"><a href="../.././Lean/Environment.html#Lean.EnvExtension">EnvExtension</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span>)</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">addEntry</span> : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span>)</span>)</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">droppedKeys</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a>)</span></span> := <a href="../.././Init/Prelude.html#List.nil">[</a><a href="../.././Init/Prelude.html#List.nil">]</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">constantsPerTask</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a> := <span class="fn">1000</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">droppedEntriesRef</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span>)</span>)</span>)</span></span> := <a href="../.././Init/Prelude.html#Option.none">none</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ty</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.findImportMatches" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.ModuleDiscrTreeRef"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L1075-L1083">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ModuleDiscrTreeRef"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">ModuleDiscrTreeRef</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A discriminator tree for the current module's declarations only.</p><p>Note. We use different discriminator trees for imported and current module
declarations since imported declarations are typically much more numerous but
not changed after the environment is created.</p><ul class="structure_fields" id="Lean.Meta.LazyDiscrTree.ModuleDiscrTreeRef.mk"><li id="Lean.Meta.LazyDiscrTree.ModuleDiscrTreeRef.ref" class="structure_field"><div class="structure_field_info">ref : <span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span>)</span></span></div></li></ul><details id="instances-for-list-Lean.Meta.LazyDiscrTree.ModuleDiscrTreeRef" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.createModuleDiscrTree"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L1085-L1095">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.createModuleDiscrTree"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">createModuleDiscrTree</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">entriesForConst</span> : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span>)</span>)</span></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">CoreM</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span>)</span></span></div></div><p>Create a discriminator tree for current module declarations.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.createModuleDiscrTree" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.createModuleTreeRef"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L1097-L1116">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.createModuleTreeRef"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">createModuleTreeRef</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">entriesForConst</span> : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span>)</span>)</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">droppedKeys</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">droppedEntriesRef</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span>)</span>)</span>)</span></span> := <a href="../.././Init/Prelude.html#Option.none">none</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ModuleDiscrTreeRef">ModuleDiscrTreeRef</a> <span class="fn">α</span>)</span></span></div></div><p>Creates reference for lazy discriminator tree that only contains this module's definitions.
If <code>droppedEntriesRef</code> is provided, dropped entries (e.g., star-indexed lemmas) are extracted
and appended to the array in the reference.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.createModuleTreeRef" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.findModuleMatches"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L1118-L1129">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.findModuleMatches"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">findModuleMatches</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">moduleRef</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ModuleDiscrTreeRef">ModuleDiscrTreeRef</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ty</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.MatchResult">MatchResult</a> <span class="fn">α</span>)</span></span></div></div><p>Returns candidates from this module in this module that match the expression.</p><ul><li><code>moduleRef</code> is a references to a lazy discriminator tree only containing
this module's definitions.</li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.findModuleMatches" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.findMatchesExt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L1131-L1162">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.findMatchesExt"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">findMatchesExt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α </span><span class="fn">β</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">moduleTreeRef</span> : <span class="fn"><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.ModuleDiscrTreeRef">ModuleDiscrTreeRef</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ext</span> : <span class="fn"><a href="../.././Lean/Environment.html#Lean.EnvExtension">EnvExtension</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span>)</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">addEntry</span> : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span>)</span>)</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">droppedKeys</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a>)</span></span> := <a href="../.././Init/Prelude.html#List.nil">[</a><a href="../.././Init/Prelude.html#List.nil">]</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">constantsPerTask</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a> := <span class="fn">1000</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">droppedEntriesRef</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span>)</span>)</span>)</span></span> := <a href="../.././Init/Prelude.html#Option.none">none</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">adjustResult</span> : <span class="fn"><a href="../.././Init/Prelude.html#Nat">Nat</a> → <span class="fn"><span class="fn">α</span> → <span class="fn">β</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ty</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">β</span>)</span></span></div></div><p><code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.findMatchesExt">findMatchesExt</a></code> searches for entries in a lazily initialized discriminator tree.</p><p>It provides some additional capabilities beyond <code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.findMatches">findMatches</a></code> to adjust results
based on priority and cache module declarations</p><ul><li><code>modulesTreeRef</code> points to the discriminator tree for local environment.
Used for caching and created by <code>createLocalTree</code>.</li><li><code>ext</code> should be an environment extension with an IO.Ref for caching the import lazy
discriminator tree.</li><li><code>addEntry</code> is the function for creating discriminator tree entries from constants.</li><li><code>droppedKeys</code> contains keys we do not want to consider when searching for matches.
It is used for dropping very general keys.</li><li><code>constantsPerTask</code> stores number of constants in imported modules used to
decide when to create new task.</li><li><code>adjustResult</code> takes the priority and value to produce a final result.</li><li><code>ty</code> is the expression type.</li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.findMatchesExt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Meta.LazyDiscrTree.findMatches"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Meta/LazyDiscrTree.lean#L1164-L1183">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.findMatches"><span class="name">Lean</span>.<span class="name">Meta</span>.<span class="name">LazyDiscrTree</span>.<span class="name">findMatches</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ext</span> : <span class="fn"><a href="../.././Lean/Environment.html#Lean.EnvExtension">EnvExtension</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree">LazyDiscrTree</a> <span class="fn">α</span>)</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">addEntry</span> : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Name">Name</a> → <span class="fn"><a href="../.././Lean/Declaration.html#Lean.ConstantInfo">ConstantInfo</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.InitEntry">InitEntry</a> <span class="fn">α</span>)</span>)</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">droppedKeys</span> : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.Key">Key</a>)</span></span> := <a href="../.././Init/Prelude.html#List.nil">[</a><a href="../.././Init/Prelude.html#List.nil">]</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">constantsPerTask</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a> := <span class="fn">1000</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">droppedEntriesRef</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span>)</span>)</span>)</span></span> := <a href="../.././Init/Prelude.html#Option.none">none</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ty</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">α</span>)</span></span></div></div><p><code><a href="../.././Lean/Meta/LazyDiscrTree.html#Lean.Meta.LazyDiscrTree.findMatches">findMatches</a></code> searches for entries in a lazily initialized discriminator tree.</p><ul><li><code>ext</code> should be an environment extension with an IO.Ref for caching the import lazy
discriminator tree.</li><li><code>addEntry</code> is the function for creating discriminator tree entries from constants.</li><li><code>droppedKeys</code> contains keys we do not want to consider when searching for matches.
It is used for dropping very general keys.</li><li><code>droppedEntriesRef</code> optionally stores entries dropped from the tree for later use.</li></ul><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Meta.LazyDiscrTree.findMatches" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>