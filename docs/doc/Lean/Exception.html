<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href=".././style.css"></link><link rel="icon" href=".././favicon.svg"></link><link rel="mask-icon" href=".././favicon.svg" color="#000000"></link><link rel="prefetch" href=".././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Exception</title><script defer="true" src=".././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT=".././";</script><script>const MODULE_NAME="Lean.Exception";</script><script type="module" src=".././jump-src.js"></script><script type="module" src=".././search.js"></script><script type="module" src=".././expand-nav.js"></script><script type="module" src=".././how-about.js"></script><script type="module" src=".././instances.js"></script><script type="module" src=".././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lean</span>.<span class="name">Exception</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href=".././Lean/ErrorExplanation.html">Lean.ErrorExplanation</a></li><li><a href=".././Lean/InternalExceptionId.html">Lean.InternalExceptionId</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Exception" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Exception"><span class="name">Lean</span>.<span class="name">Exception</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Exception.toMessageData"><span class="name">Lean</span>.<span class="name">Exception</span>.<span class="name">toMessageData</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Exception.hasSyntheticSorry"><span class="name">Lean</span>.<span class="name">Exception</span>.<span class="name">hasSyntheticSorry</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Exception.getRef"><span class="name">Lean</span>.<span class="name">Exception</span>.<span class="name">getRef</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instInhabitedException"><span class="name">Lean</span>.<span class="name">instInhabitedException</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.AddErrorMessageContext"><span class="name">Lean</span>.<span class="name">AddErrorMessageContext</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instAddErrorMessageContextOfAddMessageContextOfMonad"><span class="name">Lean</span>.<span class="name">instAddErrorMessageContextOfAddMessageContextOfMonad</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MonadError"><span class="name">Lean</span>.<span class="name">MonadError</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.throwError"><span class="name">Lean</span>.<span class="name">throwError</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.unknownIdentifierMessageTag"><span class="name">Lean</span>.<span class="name">unknownIdentifierMessageTag</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.throwErrorAt"><span class="name">Lean</span>.<span class="name">throwErrorAt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.throwNamedError"><span class="name">Lean</span>.<span class="name">throwNamedError</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.throwNamedErrorAt"><span class="name">Lean</span>.<span class="name">throwNamedErrorAt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.mkUnknownIdentifierMessageCore"><span class="name">Lean</span>.<span class="name">mkUnknownIdentifierMessageCore</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.mkUnknownIdentifierMessage"><span class="name">Lean</span>.<span class="name">mkUnknownIdentifierMessage</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.throwUnknownIdentifierAt"><span class="name">Lean</span>.<span class="name">throwUnknownIdentifierAt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.throwUnknownConstantAt"><span class="name">Lean</span>.<span class="name">throwUnknownConstantAt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.throwUnknownConstant"><span class="name">Lean</span>.<span class="name">throwUnknownConstant</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.ofExcept"><span class="name">Lean</span>.<span class="name">ofExcept</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.interruptExceptionId"><span class="name">Lean</span>.<span class="name">interruptExceptionId</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.throwInterruptException"><span class="name">Lean</span>.<span class="name">throwInterruptException</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Exception.isInterrupt"><span class="name">Lean</span>.<span class="name">Exception</span>.<span class="name">isInterrupt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.throwKernelException"><span class="name">Lean</span>.<span class="name">throwKernelException</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.ofExceptKernelException"><span class="name">Lean</span>.<span class="name">ofExceptKernelException</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.MonadRecDepth"><span class="name">Lean</span>.<span class="name">MonadRecDepth</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instMonadRecDepthReaderT"><span class="name">Lean</span>.<span class="name">instMonadRecDepthReaderT</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instMonadRecDepthStateRefT'OfMonad"><span class="name">Lean</span>.<span class="name">instMonadRecDepthStateRefT'OfMonad</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.instMonadRecDepthMonadCacheTOfMonad"><span class="name">Lean</span>.<span class="name">instMonadRecDepthMonadCacheTOfMonad</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.throwMaxRecDepthAt"><span class="name">Lean</span>.<span class="name">throwMaxRecDepthAt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Exception.isMaxRecDepth"><span class="name">Lean</span>.<span class="name">Exception</span>.<span class="name">isMaxRecDepth</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.withIncRecDepth"><span class="name">Lean</span>.<span class="name">withIncRecDepth</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.termThrowError__"><span class="name">Lean</span>.<span class="name">termThrowError__</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.termThrowErrorAt____"><span class="name">Lean</span>.<span class="name">termThrowErrorAt____</span></a></div></nav><main>
<div class="decl" id="Lean.Exception"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L18-L26">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.Exception"><span class="name">Lean</span>.<span class="name">Exception</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><p>Exception type used in most Lean monads</p><ul class="constructors"><li class="constructor" id="Lean.Exception.error">error<span class="decl_args">
<span class="fn">(<span class="fn">ref</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a>)</span></span>
 : <a href=".././Lean/Exception.html#Lean.Exception">Exception</a><div class="inductive_ctor_doc"><p>Error messages that are displayed to users. <code>ref</code> is used to provide position information.</p></div></li><li class="constructor" id="Lean.Exception.internal">internal<span class="decl_args">
<span class="fn">(<span class="fn">id</span> : <a href=".././Lean/InternalExceptionId.html#Lean.InternalExceptionId">InternalExceptionId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">extra</span> : <a href=".././Lean/Data/KVMap.html#Lean.KVMap">KVMap</a> := <a href=".././Lean/Data/KVMap.html#Lean.KVMap.mk">{</a> <a href=".././Lean/Data/KVMap.html#Lean.KVMap.mk">}</a>)</span></span>
 : <a href=".././Lean/Exception.html#Lean.Exception">Exception</a><div class="inductive_ctor_doc"><p>Internal exceptions that are not meant to be seen by users.
Examples: &quot;postpone elaboration&quot;, &quot;stuck at universe constraint&quot;, etc.</p></div></li></ul><details id="instances-for-list-Lean.Exception" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Exception.toMessageData"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L28-L31">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.Exception.toMessageData"><span class="name">Lean</span>.<span class="name">Exception</span>.<span class="name">toMessageData</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/Exception.html#Lean.Exception">Exception</a> → <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a></span></div></div><p>Convert exception into a structured message.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/Exception.html#Lean.Exception.error">Lean.Exception.error</a> <span class="fn">ref</span> <span class="fn">msg</span>)</span>.<a href=".././Lean/Exception.html#Lean.Exception.toMessageData">toMessageData</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">msg</span></li><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/Exception.html#Lean.Exception.internal">Lean.Exception.internal</a> <span class="fn">id</span> <span class="fn">extra</span>)</span>.<a href=".././Lean/Exception.html#Lean.Exception.toMessageData">toMessageData</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">(<a href=".././Lean/Message.html#Lean.MessageData.ofFormat">Lean.MessageData.ofFormat</a> <a href=".././Init/Prelude.html#Function.comp">∘</a> <a href=".././Init/Data/Format/Basic.html#Std.ToFormat.format">Std.format</a>) <span class="fn"><span class="fn">id</span>.<a href=".././Lean/InternalExceptionId.html#Lean.InternalExceptionId.toString">toString</a></span></span></li></ul></details><details id="instances-for-list-Lean.Exception.toMessageData" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Exception.hasSyntheticSorry"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L33-L35">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.Exception.hasSyntheticSorry"><span class="name">Lean</span>.<span class="name">Exception</span>.<span class="name">hasSyntheticSorry</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/Exception.html#Lean.Exception">Exception</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/Exception.html#Lean.Exception.error">Lean.Exception.error</a> <span class="fn">ref</span> <span class="fn">msg</span>)</span>.<a href=".././Lean/Exception.html#Lean.Exception.hasSyntheticSorry">hasSyntheticSorry</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">msg</span>.<a href=".././Lean/Message.html#Lean.MessageData.hasSyntheticSorry">hasSyntheticSorry</a></span></li><li class="equation"><span class="fn"><span class="fn">x✝</span>.<a href=".././Lean/Exception.html#Lean.Exception.hasSyntheticSorry">hasSyntheticSorry</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.false">false</a></li></ul></details><details id="instances-for-list-Lean.Exception.hasSyntheticSorry" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Exception.getRef"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L37-L43">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.Exception.getRef"><span class="name">Lean</span>.<span class="name">Exception</span>.<span class="name">getRef</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/Exception.html#Lean.Exception">Exception</a> → <a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a></span></div></div><p>Return syntax object providing position information for the exception.
Recall that internal exceptions do not have position information.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/Exception.html#Lean.Exception.error">Lean.Exception.error</a> <span class="fn">ref</span> <span class="fn">msg</span>)</span>.<a href=".././Lean/Exception.html#Lean.Exception.getRef">getRef</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">ref</span></li><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/Exception.html#Lean.Exception.internal">Lean.Exception.internal</a> <span class="fn">id</span> <span class="fn">extra</span>)</span>.<a href=".././Lean/Exception.html#Lean.Exception.getRef">getRef</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Lean.Syntax.missing">Lean.Syntax.missing</a></li></ul></details><details id="instances-for-list-Lean.Exception.getRef" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.instInhabitedException"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L45-L45">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.instInhabitedException"><span class="name">Lean</span>.<span class="name">instInhabitedException</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Init/Prelude.html#Inhabited">Inhabited</a> <a href=".././Lean/Exception.html#Lean.Exception">Exception</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/Exception.html#Lean.instInhabitedException">Lean.instInhabitedException</a> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <span class="fn"><a href=".././Lean/Exception.html#Lean.Exception.error">Lean.Exception.error</a> <a href=".././Init/Prelude.html#Inhabited.default">default</a> <a href=".././Init/Prelude.html#Inhabited.default">default</a></span> <a href=".././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.AddErrorMessageContext"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L47-L52">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.AddErrorMessageContext"><span class="name">Lean</span>.<span class="name">AddErrorMessageContext</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a></div></div><p>Similar to <code>AddMessageContext</code>, but for error messages.
The default instance just uses <code>AddMessageContext</code>.
In error messages, we may want to provide additional information (e.g., macro expansion stack),
and refine the <code>(ref : Syntax)</code>.</p><ul class="structure_fields" id="Lean.AddErrorMessageContext.mk"><li id="Lean.AddErrorMessageContext.add" class="structure_field"><div class="structure_field_info">add : <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a> → <span class="fn"><a href=".././Lean/Message.html#Lean.MessageData">MessageData</a> → <span class="fn"><span class="fn">m</span> (<a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a> <a href=".././Init/Prelude.html#Prod">×</a> <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a>)</span></span></span></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Lean.AddErrorMessageContext" class="instances-list"></ul></details></div></div><div class="decl" id="Lean.instAddErrorMessageContextOfAddMessageContextOfMonad"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L54-L57">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.instAddErrorMessageContextOfAddMessageContextOfMonad"><span class="name">Lean</span>.<span class="name">instAddErrorMessageContextOfAddMessageContextOfMonad</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Message.html#Lean.AddMessageContext">AddMessageContext</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/Exception.html#Lean.AddErrorMessageContext">AddErrorMessageContext</a> <span class="fn">m</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Exception.html#Lean.instAddErrorMessageContextOfAddMessageContextOfMonad">Lean.instAddErrorMessageContextOfAddMessageContextOfMonad</a> <span class="fn">m</span></span> <a href=".././Init/Prelude.html#Eq">=</a>   <a href=".././Lean/Exception.html#Lean.AddErrorMessageContext.mk">{</a>     <span class="fn">add</span> := <span class="fn">fun (<span class="fn">ref</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>) (<span class="fn">msg</span> : <a href=".././Lean/Message.html#Lean.MessageData">Lean.MessageData</a>) =&gt; <span class="fn">do
      let <span class="fn">msg</span> ← <span class="fn"><a href=".././Lean/Message.html#Lean.AddMessageContext.addMessageContext">Lean.addMessageContext</a> <span class="fn">msg</span></span>
      <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <a href=".././Init/Prelude.html#Prod.mk">(</a><span class="fn">ref</span><a href=".././Init/Prelude.html#Prod.mk">,</a> <span class="fn">msg</span><a href=".././Init/Prelude.html#Prod.mk">)</a></span></span></span> <a href=".././Lean/Exception.html#Lean.AddErrorMessageContext.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.MonadError"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L59-L62">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.MonadError"><span class="name">Lean</span>.<span class="name">MonadError</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>)</span></span>
<span class="decl_extends">extends</span> <span class="fn"><a href=".././Init/Prelude.html#MonadExceptOf">MonadExceptOf</a> <a href=".././Lean/Exception.html#Lean.Exception">Lean.Exception</a> <span class="fn">m</span></span>, <span class="fn"><a href=".././Init/Prelude.html#Lean.MonadRef">Lean.MonadRef</a> <span class="fn">m</span></span>, <span class="fn"><a href=".././Lean/Exception.html#Lean.AddErrorMessageContext">Lean.AddErrorMessageContext</a> <span class="fn">m</span></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a> 1</div></div><ul class="structure_fields" id="Lean.MonadError.mk"><li class="structure_field inherited_field"><div class="structure_field_info"><a href=".././Init/Prelude.html#MonadExceptOf.throw">throw</a><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span> : <span class="fn"><a href=".././Lean/Exception.html#Lean.Exception">Lean.Exception</a> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href=".././Init/Prelude.html#MonadExceptOf.tryCatch">tryCatch</a><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">body</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">handler</span> : <span class="fn"><a href=".././Lean/Exception.html#Lean.Exception">Lean.Exception</a> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span>)</span></span>
 : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href=".././Init/Prelude.html#Lean.MonadRef.getRef">getRef</a> : <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href=".././Init/Prelude.html#Lean.MonadRef.withRef">withRef</a><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span> : <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a> → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span></span></div></li><li class="structure_field inherited_field"><div class="structure_field_info"><a href=".././Lean/Exception.html#Lean.AddErrorMessageContext.add">add</a> : <span class="fn"><a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a> → <span class="fn"><a href=".././Lean/Message.html#Lean.MessageData">MessageData</a> → <span class="fn"><span class="fn">m</span> (<a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a> <a href=".././Init/Prelude.html#Prod">×</a> <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a>)</span></span></span></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Lean.MonadError" class="instances-list"></ul></details></div></div><div class="decl" id="Lean.throwError"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L66-L74">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.throwError"><span class="name">Lean</span>.<span class="name">throwError</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Throw an error exception using the given message data.
The result of <code><a href=".././Lean/Exception.html#Lean.Exception.getRef">getRef</a></code> is used as position information.
Recall that <code><a href=".././Lean/Exception.html#Lean.Exception.getRef">getRef</a></code> returns the current &quot;reference&quot; syntax.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Exception.html#Lean.throwError">Lean.throwError</a> <span class="fn">msg</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">ref</span> ← <a href=".././Init/Prelude.html#Lean.MonadRef.getRef">Lean.getRef</a>
  let <span class="fn">__discr</span> ← <span class="fn"><a href=".././Lean/Exception.html#Lean.AddErrorMessageContext.add">Lean.AddErrorMessageContext.add</a> <span class="fn">ref</span> <span class="fn">msg</span></span>
  <span class="fn">match <span class="fn">__discr</span> with
    | <a href=".././Init/Prelude.html#Prod.mk">(</a><span class="fn">ref</span><a href=".././Init/Prelude.html#Prod.mk">,</a> <span class="fn">msg</span><a href=".././Init/Prelude.html#Prod.mk">)</a> =&gt; <span class="fn"><a href=".././Init/Prelude.html#MonadExcept.throw">throw</a> <span class="fn">(<a href=".././Lean/Exception.html#Lean.Exception.error">Lean.Exception.error</a> <span class="fn">ref</span> <span class="fn">msg</span>)</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.throwError" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.unknownIdentifierMessageTag"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L76-L81">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.unknownIdentifierMessageTag"><span class="name">Lean</span>.<span class="name">unknownIdentifierMessageTag</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.Name">Name</a></div></div><p>Tag used for <code>unknown identifier</code> messages.
This tag is used by the 'import unknown identifier' code action to detect messages that should
prompt the code action.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/Exception.html#Lean.unknownIdentifierMessageTag">Lean.unknownIdentifierMessageTag</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/Message.html#Lean.kindOfErrorName">Lean.kindOfErrorName</a> <span class="fn">`lean.unknownIdentifier</span></span></li></ul></details><details id="instances-for-list-Lean.unknownIdentifierMessageTag" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.throwErrorAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L83-L85">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.throwErrorAt"><span class="name">Lean</span>.<span class="name">throwErrorAt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ref</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Throw an error exception using the given message data and reference syntax.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Exception.html#Lean.throwErrorAt">Lean.throwErrorAt</a> <span class="fn">ref</span> <span class="fn">msg</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#Lean.withRef">Lean.withRef</a> <span class="fn">ref</span> <span class="fn">(<a href=".././Lean/Exception.html#Lean.throwError">Lean.throwError</a> <span class="fn">msg</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.throwErrorAt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.throwNamedError"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L87-L97">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.throwNamedError"><span class="name">Lean</span>.<span class="name">throwNamedError</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">name</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Throw an error exception with the specified name, with position information from <code><a href=".././Lean/Exception.html#Lean.Exception.getRef">getRef</a></code>.</p><p>Note: Use the macro <code><a href=".././Lean/Exception.html#Lean.throwNamedError">throwNamedError</a></code>, which validates error names, instead of calling this function
directly.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.throwNamedError" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.throwNamedErrorAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L99-L106">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.throwNamedErrorAt"><span class="name">Lean</span>.<span class="name">throwNamedErrorAt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ref</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">name</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Throw an error exception with the specified name at the position <code>ref</code>.</p><p>Note: Use the macro <code><a href=".././Lean/Exception.html#Lean.throwNamedErrorAt">throwNamedErrorAt</a></code>, which validates error names, instead of calling this
function directly.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Exception.html#Lean.throwNamedErrorAt">Lean.throwNamedErrorAt</a> <span class="fn">ref</span> <span class="fn">name</span> <span class="fn">msg</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#Lean.withRef">Lean.withRef</a> <span class="fn">ref</span> <span class="fn">(<a href=".././Lean/Exception.html#Lean.throwNamedError">Lean.throwNamedError</a> <span class="fn">name</span> <span class="fn">msg</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.throwNamedErrorAt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.mkUnknownIdentifierMessageCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L108-L125">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.mkUnknownIdentifierMessageCore"><span class="name">Lean</span>.<span class="name">mkUnknownIdentifierMessageCore</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">declHint</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a> := <a href=".././Init/Prelude.html#Lean.Name.anonymous">Name.anonymous</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a></span></div></div><p>Like <code><a href=".././Lean/Exception.html#Lean.mkUnknownIdentifierMessage">mkUnknownIdentifierMessage</a></code>, but does not tag the message.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.mkUnknownIdentifierMessageCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.mkUnknownIdentifierMessage"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L127-L140">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.mkUnknownIdentifierMessage"><span class="name">Lean</span>.<span class="name">mkUnknownIdentifierMessage</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">declHint</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a> := <a href=".././Init/Prelude.html#Lean.Name.anonymous">Name.anonymous</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a></span></div></div><p>Creates a <code>MessageData</code> that is tagged with <code><a href=".././Lean/Exception.html#Lean.unknownIdentifierMessageTag">unknownIdentifierMessageTag</a></code>.
This tag is used by the 'import unknown identifier' code action to detect messages that should
prompt the code action.
The end position of the range of an unknown identifier message should always point at the end of the
unknown identifier.</p><p>If <code>declHint</code> is specified, a corresponding hint is added to the message in case the name refers to
a private declaration that is not accessible in the current context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Exception.html#Lean.mkUnknownIdentifierMessage">Lean.mkUnknownIdentifierMessage</a> <span class="fn">msg</span> <span class="fn">declHint</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">msg</span> ← <span class="fn"><a href=".././Lean/Exception.html#Lean.mkUnknownIdentifierMessageCore">Lean.mkUnknownIdentifierMessageCore</a> <span class="fn">msg</span> <span class="fn">declHint</span></span>
  <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href=".././Lean/Message.html#Lean.MessageData.tagged">Lean.MessageData.tagged</a> <a href=".././Lean/Exception.html#Lean.unknownIdentifierMessageTag">Lean.unknownIdentifierMessageTag</a> <span class="fn">msg</span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.mkUnknownIdentifierMessage" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.throwUnknownIdentifierAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L142-L149">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.throwUnknownIdentifierAt"><span class="name">Lean</span>.<span class="name">throwUnknownIdentifierAt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ref</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href=".././Lean/Message.html#Lean.MessageData">MessageData</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">declHint</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a> := <a href=".././Init/Prelude.html#Lean.Name.anonymous">Name.anonymous</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Throw an unknown identifier error message that is tagged with <code><a href=".././Lean/Exception.html#Lean.unknownIdentifierMessageTag">unknownIdentifierMessageTag</a></code>.
The end position of the range of <code>ref</code> should always point at the unknown identifier.
See also <code><a href=".././Lean/Exception.html#Lean.mkUnknownIdentifierMessage">mkUnknownIdentifierMessage</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Exception.html#Lean.throwUnknownIdentifierAt">Lean.throwUnknownIdentifierAt</a> <span class="fn">ref</span> <span class="fn">msg</span> <span class="fn">declHint</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href=".././Lean/Exception.html#Lean.mkUnknownIdentifierMessage">Lean.mkUnknownIdentifierMessage</a> <span class="fn">msg</span> <span class="fn">declHint</span></span>
  <span class="fn"><a href=".././Lean/Exception.html#Lean.throwErrorAt">Lean.throwErrorAt</a> <span class="fn">ref</span> <span class="fn">__do_lift</span></span></span></li></ul></details><details id="instances-for-list-Lean.throwUnknownIdentifierAt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.throwUnknownConstantAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L151-L157">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.throwUnknownConstantAt"><span class="name">Lean</span>.<span class="name">throwUnknownConstantAt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ref</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">constName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Throw an unknown constant error message.
The end position of the range of <code>ref</code> should point at the unknown identifier.
See also <code><a href=".././Lean/Exception.html#Lean.mkUnknownIdentifierMessage">mkUnknownIdentifierMessage</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.throwUnknownConstantAt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.throwUnknownConstant"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L159-L165">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.throwUnknownConstant"><span class="name">Lean</span>.<span class="name">throwUnknownConstant</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Environment.html#Lean.MonadEnv">MonadEnv</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">constName</span> : <a href=".././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Throw an unknown constant error message.
The end position of the range of the current reference should point at the unknown identifier.
See also <code><a href=".././Lean/Exception.html#Lean.mkUnknownIdentifierMessage">mkUnknownIdentifierMessage</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Exception.html#Lean.throwUnknownConstant">Lean.throwUnknownConstant</a> <span class="fn">constName</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href=".././Init/Prelude.html#Lean.MonadRef.getRef">Lean.getRef</a>
  <span class="fn"><a href=".././Lean/Exception.html#Lean.throwUnknownConstantAt">Lean.throwUnknownConstantAt</a> <span class="fn">__do_lift</span> <span class="fn">constName</span></span></span></li></ul></details><details id="instances-for-list-Lean.throwUnknownConstant" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.ofExcept"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L167-L174">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.ofExcept"><span class="name">Lean</span>.<span class="name">ofExcept</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ε </span><span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Message.html#Lean.ToMessageData">ToMessageData</a> <span class="fn">ε</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href=".././Init/Prelude.html#Except">Except</a> <span class="fn">ε</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Convert an <code><a href=".././Init/Prelude.html#Except">Except</a></code> into a <code>m</code> monadic action, where <code>m</code> is any monad that
implements <code><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Exception.html#Lean.ofExcept">Lean.ofExcept</a> <span class="fn">(<a href=".././Init/Prelude.html#Except.ok">Except.ok</a> <span class="fn">a</span>)</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">a</span></span></li><li class="equation"><span class="fn"><a href=".././Lean/Exception.html#Lean.ofExcept">Lean.ofExcept</a> <span class="fn">(<a href=".././Init/Prelude.html#Except.error">Except.error</a> <span class="fn">e</span>)</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/Exception.html#Lean.throwError">Lean.throwError</a> <span class="fn">(<a href=".././Lean/Message.html#Lean.ToMessageData.toMessageData">Lean.toMessageData</a> <span class="fn">e</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.ofExcept" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.interruptExceptionId"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L176-L176">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.interruptExceptionId"><span class="name">Lean</span>.<span class="name">interruptExceptionId</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././Lean/InternalExceptionId.html#Lean.InternalExceptionId">InternalExceptionId</a></div></div></div></div><div class="decl" id="Lean.throwInterruptException"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L178-L183">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.throwInterruptException"><span class="name">Lean</span>.<span class="name">throwInterruptException</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Data/Options.html#Lean.MonadOptions">MonadOptions</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Throws an internal interrupt exception that skips standard <code>catch</code> clauses and should be caught only
at the top level of elaboration.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/Exception.html#Lean.throwInterruptException">Lean.throwInterruptException</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#MonadExcept.throw">throw</a> <span class="fn">(<a href=".././Lean/Exception.html#Lean.Exception.internal">Lean.Exception.internal</a> <a href=".././Lean/Exception.html#Lean.interruptExceptionId">Lean.interruptExceptionId</a>)</span></span></li></ul></details><details id="instances-for-list-Lean.throwInterruptException" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Exception.isInterrupt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L185-L188">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.Exception.isInterrupt"><span class="name">Lean</span>.<span class="name">Exception</span>.<span class="name">isInterrupt</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/Exception.html#Lean.Exception">Exception</a> → <a href=".././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Returns <code>true</code> if the exception is an interrupt generated by <code>checkInterrupted</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/Exception.html#Lean.Exception.internal">Lean.Exception.internal</a> <span class="fn">id</span> <span class="fn">extra</span>)</span>.<a href=".././Lean/Exception.html#Lean.Exception.isInterrupt">isInterrupt</a></span> <a href=".././Init/Prelude.html#Eq">=</a> (<span class="fn">id</span> <a href=".././Init/Prelude.html#BEq.beq">==</a> <a href=".././Lean/Exception.html#Lean.interruptExceptionId">Lean.interruptExceptionId</a>)</li><li class="equation"><span class="fn"><span class="fn">x✝</span>.<a href=".././Lean/Exception.html#Lean.Exception.isInterrupt">isInterrupt</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.false">false</a></li></ul></details><details id="instances-for-list-Lean.Exception.isInterrupt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.throwKernelException"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L190-L196">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.throwKernelException"><span class="name">Lean</span>.<span class="name">throwKernelException</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Data/Options.html#Lean.MonadOptions">MonadOptions</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ex</span> : <a href=".././Lean/Environment.html#Lean.Kernel.Exception">Kernel.Exception</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Throw an error exception for the given kernel exception.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.throwKernelException" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.ofExceptKernelException"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L198-L202">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.ofExceptKernelException"><span class="name">Lean</span>.<span class="name">ofExceptKernelException</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Data/Options.html#Lean.MonadOptions">MonadOptions</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href=".././Init/Prelude.html#Except">Except</a> <a href=".././Lean/Environment.html#Lean.Kernel.Exception">Kernel.Exception</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Lift from <code><a href=".././Init/Prelude.html#Except">Except</a> KernelException</code> to <code>m</code> when <code>m</code> can throw kernel exceptions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href=".././Lean/Exception.html#Lean.ofExceptKernelException">Lean.ofExceptKernelException</a> <span class="fn">(<a href=".././Init/Prelude.html#Except.ok">Except.ok</a> <span class="fn">a</span>)</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">a</span></span></li><li class="equation"><span class="fn"><a href=".././Lean/Exception.html#Lean.ofExceptKernelException">Lean.ofExceptKernelException</a> <span class="fn">(<a href=".././Init/Prelude.html#Except.error">Except.error</a> <span class="fn">e</span>)</span></span> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Lean/Exception.html#Lean.throwKernelException">Lean.throwKernelException</a> <span class="fn">e</span></span></li></ul></details><details id="instances-for-list-Lean.ofExceptKernelException" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.MonadRecDepth"><div class="class"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L206-L209">source</a></div><div class="decl_header"><span class="decl_kind">class</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.MonadRecDepth"><span class="name">Lean</span>.<span class="name">MonadRecDepth</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././foundational_types.html">Type</a> 1</div></div><ul class="structure_fields" id="Lean.MonadRecDepth.mk"><li id="Lean.MonadRecDepth.withRecDepth" class="structure_field"><div class="structure_field_info">withRecDepth<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span> : <span class="fn"><a href=".././Init/Prelude.html#Nat">Nat</a> → <span class="fn"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span> → <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></span></span></div></li><li id="Lean.MonadRecDepth.getRecDepth" class="structure_field"><div class="structure_field_info">getRecDepth : <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Nat">Nat</a></span></div></li><li id="Lean.MonadRecDepth.getMaxRecDepth" class="structure_field"><div class="structure_field_info">getMaxRecDepth : <span class="fn"><span class="fn">m</span> <a href=".././Init/Prelude.html#Nat">Nat</a></span></div></li></ul><details class="instances"><summary>Instances</summary><ul id="instances-list-Lean.MonadRecDepth" class="instances-list"></ul></details></div></div><div class="decl" id="Lean.instMonadRecDepthReaderT"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L211-L214">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.instMonadRecDepthReaderT"><span class="name">Lean</span>.<span class="name">instMonadRecDepthReaderT</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ρ</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadRecDepth">MonadRecDepth</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/Exception.html#Lean.MonadRecDepth">MonadRecDepth</a> <span class="fn">(<a href=".././Init/Prelude.html#ReaderT">ReaderT</a> <span class="fn">ρ</span> <span class="fn">m</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.instMonadRecDepthStateRefT'OfMonad"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L216-L217">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.instMonadRecDepthStateRefT'OfMonad"><span class="name">Lean</span>.<span class="name">instMonadRecDepthStateRefT'OfMonad</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ω </span><span class="fn">σ</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadRecDepth">MonadRecDepth</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/Exception.html#Lean.MonadRecDepth">MonadRecDepth</a> <span class="fn">(<a href=".././Init/Control/StateRef.html#StateRefT'">StateRefT'</a> <span class="fn">ω</span> <span class="fn">σ</span> <span class="fn">m</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/Exception.html#Lean.instMonadRecDepthStateRefT'OfMonad">Lean.instMonadRecDepthStateRefT'OfMonad</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#inferInstanceAs">inferInstanceAs</a> <span class="fn">(<a href=".././Lean/Exception.html#Lean.MonadRecDepth">Lean.MonadRecDepth</a> <span class="fn">(<a href=".././Init/Prelude.html#ReaderT">ReaderT</a> <span class="fn">(<a href=".././Init/System/ST.html#ST.Ref">ST.Ref</a> <span class="fn">ω</span> <span class="fn">σ</span>)</span> <span class="fn">m</span>)</span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.instMonadRecDepthMonadCacheTOfMonad"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L219-L220">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.instMonadRecDepthMonadCacheTOfMonad"><span class="name">Lean</span>.<span class="name">instMonadRecDepthMonadCacheTOfMonad</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">ω </span><span class="fn">β</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#BEq">BEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Hashable">Hashable</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/System/ST.html#STWorld">STWorld</a> <span class="fn">ω</span> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadRecDepth">MonadRecDepth</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href=".././Lean/Exception.html#Lean.MonadRecDepth">MonadRecDepth</a> <span class="fn">(<a href=".././Lean/Util/MonadCache.html#Lean.MonadCacheT">MonadCacheT</a> <span class="fn">α</span> <span class="fn">β</span> <span class="fn">m</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href=".././Lean/Exception.html#Lean.instMonadRecDepthMonadCacheTOfMonad">Lean.instMonadRecDepthMonadCacheTOfMonad</a> <a href=".././Init/Prelude.html#Eq">=</a> <span class="fn"><a href=".././Init/Prelude.html#inferInstanceAs">inferInstanceAs</a> <span class="fn">(<a href=".././Lean/Exception.html#Lean.MonadRecDepth">Lean.MonadRecDepth</a> <span class="fn">(<a href=".././Init/Control/StateRef.html#StateRefT'">StateRefT'</a> <span class="fn">ω</span> <span class="fn">(<a href=".././Std/Data/HashMap/Basic.html#Std.HashMap">Std.HashMap</a> <span class="fn">α</span> <span class="fn">β</span>)</span> <span class="fn">m</span>)</span>)</span></span></li></ul></details></div></div><div class="decl" id="Lean.throwMaxRecDepthAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L222-L226">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.throwMaxRecDepthAt"><span class="name">Lean</span>.<span class="name">throwMaxRecDepthAt</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">ref</span> : <a href=".././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Throw a &quot;maximum recursion depth has been reached&quot; exception using the given reference syntax.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.throwMaxRecDepthAt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Exception.isMaxRecDepth"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L228-L238">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.Exception.isMaxRecDepth"><span class="name">Lean</span>.<span class="name">Exception</span>.<span class="name">isMaxRecDepth</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ex</span> : <a href=".././Lean/Exception.html#Lean.Exception">Exception</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Bool">Bool</a></div></div><p>Return true if <code>ex</code> was generated by <code><a href=".././Lean/Exception.html#Lean.throwMaxRecDepthAt">throwMaxRecDepthAt</a></code>.
This function is a bit hackish. The max rec depth exception should probably be an internal exception,
but it is also produced by <code>MacroM</code> which implemented in the prelude, and internal exceptions have not
been defined yet.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">(<a href=".././Lean/Exception.html#Lean.Exception.error">Lean.Exception.error</a> <span class="fn">ref</span> <span class="fn">msg</span>)</span>.<a href=".././Lean/Exception.html#Lean.Exception.isMaxRecDepth">isMaxRecDepth</a></span> <a href=".././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn"><span class="fn">msg</span>.<a href=".././Lean/Message.html#Lean.MessageData.stripNestedTags">stripNestedTags</a></span>.<a href=".././Lean/Message.html#Lean.MessageData.kind">kind</a></span> <a href=".././Init/Prelude.html#BEq.beq">==</a> <span class="fn">`runtime.maxRecDepth</span>)</li><li class="equation"><span class="fn"><span class="fn">ex</span>.<a href=".././Lean/Exception.html#Lean.Exception.isMaxRecDepth">isMaxRecDepth</a></span> <a href=".././Init/Prelude.html#Eq">=</a> <a href=".././Init/Prelude.html#Bool.false">false</a></li></ul></details><details id="instances-for-list-Lean.Exception.isMaxRecDepth" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.withIncRecDepth"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L240-L251">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.withIncRecDepth"><span class="name">Lean</span>.<span class="name">withIncRecDepth</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href=".././foundational_types.html">Type</a> → <a href=".././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href=".././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadError">MonadError</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href=".././Lean/Exception.html#Lean.MonadRecDepth">MonadRecDepth</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Increment the current recursion depth and then execute <code>x</code>.
Throw an exception if maximum recursion depth has been reached.
We use this combinator to prevent stack overflows.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.withIncRecDepth" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.termThrowError__"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L253-L259">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.termThrowError__"><span class="name">Lean</span>.<span class="name">termThrowError__</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.ParserDescr">ParserDescr</a></div></div><p>Macro for throwing error exceptions. The argument can be an interpolated string.
It is a convenient way of building <code>MessageData</code> objects.
The result of <code><a href=".././Lean/Exception.html#Lean.Exception.getRef">getRef</a></code> is used as position information.
Recall that <code><a href=".././Lean/Exception.html#Lean.Exception.getRef">getRef</a></code> returns the current &quot;reference&quot; syntax.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.termThrowError__" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.termThrowErrorAt____"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Exception.lean#L260-L267">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href=".././Lean/Exception.html#Lean.termThrowErrorAt____"><span class="name">Lean</span>.<span class="name">termThrowErrorAt____</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href=".././Init/Prelude.html#Lean.ParserDescr">ParserDescr</a></div></div><p>Macro for throwing error exceptions. The argument can be an interpolated string.
It is a convenient way of building <code>MessageData</code> objects.
The first argument must be a <code>Syntax</code> that provides position information for
the error message.
<code><a href=".././Lean/Exception.html#Lean.throwErrorAt">throwErrorAt</a> ref msg</code> is equivalent to <code>withRef ref &lt;| <a href=".././Lean/Exception.html#Lean.throwError">throwError</a> msg</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.termThrowErrorAt____" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src=".././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>