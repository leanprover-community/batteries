<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Elab.PreDefinition.Basic</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Lean.Elab.PreDefinition.Basic";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">PreDefinition</span>.<span class="name">Basic</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Lean/Compiler/NoncomputableAttr.html">Lean.Compiler.NoncomputableAttr</a></li><li><a href="../../.././Lean/Elab/DefView.html">Lean.Elab.DefView</a></li><li><a href="../../.././Lean/Elab/RecAppSyntax.html">Lean.Elab.RecAppSyntax</a></li><li><a href="../../.././Lean/Meta/Eqns.html">Lean.Meta.Eqns</a></li><li><a href="../../.././Lean/Util/NumApps.html">Lean.Util.NumApps</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Elab.PreDefinition.Basic" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.cleanup.letToHave"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">cleanup</span>.<span class="name">letToHave</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.PreDefinition"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">PreDefinition</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.instInhabitedPreDefinition"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">instInhabitedPreDefinition</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.instInhabitedPreDefinition.default"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">instInhabitedPreDefinition</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.PreDefinition.filterAttrs"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">PreDefinition</span>.<span class="name">filterAttrs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.instantiateMVarsAtPreDecls"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">instantiateMVarsAtPreDecls</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.levelMVarToParamTypesPreDecls"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">levelMVarToParamTypesPreDecls</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.fixLevelParams"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">fixLevelParams</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.applyAttributesOf"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">applyAttributesOf</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.letToHaveValue"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">letToHaveValue</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.letToHaveType"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">letToHaveType</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.abstractNestedProofs"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">abstractNestedProofs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.addAsAxiom"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addAsAxiom</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.diagnostics.threshold.proofSize"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">diagnostics</span>.<span class="name">threshold</span>.<span class="name">proofSize</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.addPreDefDocs"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addPreDefDocs</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.addPreDefInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addPreDefInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.addAndCompileNonRec"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addAndCompileNonRec</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.addNonRec"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addNonRec</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.eraseRecAppSyntaxExpr"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">eraseRecAppSyntaxExpr</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.eraseRecAppSyntax"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">eraseRecAppSyntax</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.addAndCompileUnsafe"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addAndCompileUnsafe</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.addAndCompilePartialRec"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addAndCompilePartialRec</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.ensureNoRecFn"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">ensureNoRecFn</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.checkCodomainsLevel"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">checkCodomainsLevel</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.shareCommonPreDefs"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">shareCommonPreDefs</span></a></div></nav><main>
<div class="decl" id="Lean.Elab.cleanup.letToHave"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L21-L24">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.cleanup.letToHave"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">cleanup</span>.<span class="name">letToHave</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div></div></div><div class="decl" id="Lean.Elab.PreDefinition"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L26-L41">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">PreDefinition</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>A (potentially recursive) definition.
The elaborator converts it into Kernel definitions using many different strategies.</p><ul class="structure_fields" id="Lean.Elab.PreDefinition.mk"><li id="Lean.Elab.PreDefinition.ref" class="structure_field"><div class="structure_field_info">ref : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a></div></li><li id="Lean.Elab.PreDefinition.kind" class="structure_field"><div class="structure_field_info">kind : <a href="../../.././Lean/Elab/DefView.html#Lean.Elab.DefKind">DefKind</a></div></li><li id="Lean.Elab.PreDefinition.levelParams" class="structure_field"><div class="structure_field_info">levelParams : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Lean.Name">Name</a></span></div></li><li id="Lean.Elab.PreDefinition.modifiers" class="structure_field"><div class="structure_field_info">modifiers : <a href="../../.././Lean/Elab/DeclModifiers.html#Lean.Elab.Modifiers">Modifiers</a></div></li><li id="Lean.Elab.PreDefinition.declName" class="structure_field"><div class="structure_field_info">declName : <a href="../../.././Init/Prelude.html#Lean.Name">Name</a></div></li><li id="Lean.Elab.PreDefinition.binders" class="structure_field"><div class="structure_field_info">binders : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a></div></li><li id="Lean.Elab.PreDefinition.numSectionVars" class="structure_field"><div class="structure_field_info">numSectionVars : <a href="../../.././Init/Prelude.html#Nat">Nat</a></div></li><li id="Lean.Elab.PreDefinition.type" class="structure_field"><div class="structure_field_info">type : <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a></div></li><li id="Lean.Elab.PreDefinition.value" class="structure_field"><div class="structure_field_info">value : <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a></div></li><li id="Lean.Elab.PreDefinition.termination" class="structure_field"><div class="structure_field_info">termination : <a href="../../.././Lean/Elab/PreDefinition/TerminationHint.html#Lean.Elab.TerminationHints">TerminationHints</a></div></li></ul><details id="instances-for-list-Lean.Elab.PreDefinition" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.instInhabitedPreDefinition"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L41-L41">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.instInhabitedPreDefinition"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">instInhabitedPreDefinition</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.instInhabitedPreDefinition">Lean.Elab.instInhabitedPreDefinition</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.instInhabitedPreDefinition.default">Lean.Elab.instInhabitedPreDefinition.default</a> <a href="../../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Elab.instInhabitedPreDefinition.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L41-L41">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.instInhabitedPreDefinition.default"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">instInhabitedPreDefinition</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.instInhabitedPreDefinition.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.PreDefinition.filterAttrs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L43-L44">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition.filterAttrs"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">PreDefinition</span>.<span class="name">filterAttrs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDef</span> : <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><a href="../../.././Lean/Elab/Attributes.html#Lean.Elab.Attribute">Attribute</a> → <a href="../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.PreDefinition.filterAttrs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.instantiateMVarsAtPreDecls"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L46-L51">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.instantiateMVarsAtPreDecls"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">instantiateMVarsAtPreDecls</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDefs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span></div></div><p>Applies <code><a href="../../.././Lean/MetavarContext.html#Lean.instantiateMVars">Lean.instantiateMVars</a></code> to the types of values of each predefinition.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.instantiateMVarsAtPreDecls" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.levelMVarToParamTypesPreDecls"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L53-L58">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.levelMVarToParamTypesPreDecls"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">levelMVarToParamTypesPreDecls</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDefs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span></div></div><p>Applies <code><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.levelMVarToParam">Lean.Elab.Term.levelMVarToParam</a></code> to the types of each predefinition.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.levelMVarToParamTypesPreDecls" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.fixLevelParams"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L75-L89">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.fixLevelParams"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">fixLevelParams</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDefs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">scopeLevelNames </span><span class="fn">allUserLevelNames</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Lean.Name">Name</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.fixLevelParams" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.applyAttributesOf"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L91-L93">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.applyAttributesOf"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">applyAttributesOf</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDefs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">applicationTime</span> : <a href="../../.././Lean/Attributes.html#Lean.AttributeApplicationTime">AttributeApplicationTime</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">TermElabM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.applyAttributesOf" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.letToHaveValue"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L95-L108">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.letToHaveValue"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">letToHaveValue</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDef</span> : <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span></div></div><p>Applies <code>Meta.<a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.cleanup.letToHave">letToHave</a></code> to the values of defs, instances, and abbrevs.
Does not apply the transformation to values that are proofs, or to unsafe definitions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.letToHaveValue" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.letToHaveType"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L110-L118">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.letToHaveType"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">letToHaveType</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDef</span> : <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span></div></div><p>Applies <code>Meta.<a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.cleanup.letToHave">letToHave</a></code> to the type of the predef.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.letToHaveType" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.abstractNestedProofs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L120-L127">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.abstractNestedProofs"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">abstractNestedProofs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDef</span> : <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cache</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a> := <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.abstractNestedProofs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.addAsAxiom"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L129-L132">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.addAsAxiom"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addAsAxiom</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDef</span> : <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Auxiliary method for (temporarily) adding pre definition as an axiom</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.addAsAxiom" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.diagnostics.threshold.proofSize"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L143-L147">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.diagnostics.threshold.proofSize"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">diagnostics</span>.<span class="name">threshold</span>.<span class="name">proofSize</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../../.././Init/Prelude.html#Nat">Nat</a></span></div></div></div></div><div class="decl" id="Lean.Elab.addPreDefDocs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L159-L169">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.addPreDefDocs"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addPreDefDocs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">docCtx</span> : <a href="../../.././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Lean/MetavarContext.html#Lean.LocalInstances">LocalInstances</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">preDef</span> : <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">TermElabM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Adds the docstring, if relevant.</p><p>This should be done just after compilation so the predefinition can be executed in examples in its
docstring. If code generation will not occur, then it should be done after adding the declaration
to the environment.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.addPreDefDocs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.addPreDefInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L171-L177">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.addPreDefInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addPreDefInfo</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDef</span> : <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">TermElabM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Adds constant info to the definition name. This should occur after executing post-compilation
attributes, in case they have an effect on hovers.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.addPreDefInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.addAndCompileNonRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L233-L234">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.addAndCompileNonRec"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addAndCompileNonRec</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">docCtx</span> : <a href="../../.././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Lean/MetavarContext.html#Lean.LocalInstances">LocalInstances</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">preDef</span> : <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">all</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Lean.Name">Name</a></span> := <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn"><span class="fn">preDef</span>.<a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition.declName">declName</a></span><a href="../../.././Init/Prelude.html#List.cons">]</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cleanupValue</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a> := <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">TermElabM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.addAndCompileNonRec">Lean.Elab.addAndCompileNonRec</a> <span class="fn">docCtx</span> <span class="fn">preDef</span> <span class="fn">all</span> <span class="fn">cleanupValue</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Elab/PreDefinition/Basic.html#_private.Lean.Elab.PreDefinition.Basic.0.Lean.Elab.addNonRecAux">Lean.Elab.addNonRecAux✝</a> <span class="fn">docCtx</span> <span class="fn">preDef</span> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <span class="fn">all</span> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <span class="fn">cleanupValue</span></span></li></ul></details><details id="instances-for-list-Lean.Elab.addAndCompileNonRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.addNonRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L236-L237">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.addNonRec"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addNonRec</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">docCtx</span> : <a href="../../.././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Lean/MetavarContext.html#Lean.LocalInstances">LocalInstances</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">preDef</span> : <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">applyAttrAfterCompilation</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a> := <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">all</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Init/Prelude.html#Lean.Name">Name</a></span> := <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn"><span class="fn">preDef</span>.<a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition.declName">declName</a></span><a href="../../.././Init/Prelude.html#List.cons">]</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cacheProofs</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a> := <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cleanupValue</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a> := <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">TermElabM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.addNonRec">Lean.Elab.addNonRec</a> <span class="fn">docCtx</span> <span class="fn">preDef</span> <span class="fn">applyAttrAfterCompilation</span> <span class="fn">all</span> <span class="fn">cacheProofs</span> <span class="fn">cleanupValue</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Elab/PreDefinition/Basic.html#_private.Lean.Elab.PreDefinition.Basic.0.Lean.Elab.addNonRecAux">Lean.Elab.addNonRecAux✝</a> <span class="fn">docCtx</span> <span class="fn">preDef</span> <a href="../../.././Init/Prelude.html#Bool.false">false</a> <span class="fn">all</span> <span class="fn">applyAttrAfterCompilation</span> <span class="fn">cacheProofs</span> <span class="fn">cleanupValue</span></span></li></ul></details><details id="instances-for-list-Lean.Elab.addNonRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.eraseRecAppSyntaxExpr"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L239-L246">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.eraseRecAppSyntaxExpr"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">eraseRecAppSyntaxExpr</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">CoreM</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Eliminate recursive application annotations containing syntax. These annotations are used by the well-founded recursion module
to produce better error messages.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.eraseRecAppSyntaxExpr" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.eraseRecAppSyntax"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L248-L249">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.eraseRecAppSyntax"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">eraseRecAppSyntax</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDef</span> : <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">CoreM</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.eraseRecAppSyntax" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.addAndCompileUnsafe"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L251-L274">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.addAndCompileUnsafe"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addAndCompileUnsafe</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">docCtx</span> : <a href="../../.././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Lean/MetavarContext.html#Lean.LocalInstances">LocalInstances</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">preDefs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">safety</span> : <a href="../../.././Lean/Declaration.html#Lean.DefinitionSafety">DefinitionSafety</a> := <a href="../../.././Lean/Declaration.html#Lean.DefinitionSafety.unsafe">DefinitionSafety.unsafe</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">TermElabM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.addAndCompileUnsafe" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.addAndCompilePartialRec"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L276-L291">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.addAndCompilePartialRec"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">addAndCompilePartialRec</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">docCtx</span> : <a href="../../.././Lean/LocalContext.html#Lean.LocalContext">LocalContext</a> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Lean/MetavarContext.html#Lean.LocalInstances">LocalInstances</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">preDefs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">TermElabM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.addAndCompilePartialRec" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.ensureNoRecFn"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L296-L300">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.ensureNoRecFn"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">ensureNoRecFn</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">recFnNames</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Init/Prelude.html#Lean.Name">Name</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.ensureNoRecFn" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.checkCodomainsLevel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L302-L318">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.checkCodomainsLevel"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">checkCodomainsLevel</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDefs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Checks that all codomains have the same level, throws an error otherwise.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.checkCodomainsLevel" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.shareCommonPreDefs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/PreDefinition/Basic.lean#L320-L331">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.shareCommonPreDefs"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">shareCommonPreDefs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">preDefs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/CoreM.html#Lean.Core.CoreM">CoreM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Array">Array</a> <a href="../../.././Lean/Elab/PreDefinition/Basic.html#Lean.Elab.PreDefinition">PreDefinition</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.shareCommonPreDefs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>