<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Elab.Tactic.Basic</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Lean.Elab.Tactic.Basic";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">Basic</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init/Omega.html">Init.Omega</a></li><li><a href="../../.././Lean/Elab/Term.html">Lean.Elab.Term</a></li><li><a href="../../.././Lean/Meta/Tactic/Util.html">Lean.Meta.Tactic.Util</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Elab.Tactic.Basic" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.admitGoal"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">admitGoal</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.goalsToMessageData"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">goalsToMessageData</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.reportUnsolvedGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">reportUnsolvedGoals</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.Context"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">Context</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.TacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">TacticM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.Tactic"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">Tactic</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.instMonadTacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">instMonadTacticM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.instInhabitedTacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">instInhabitedTacticM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.getGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getGoals</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.setGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">setGoals</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.pruneSolvedGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">pruneSolvedGoals</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.getUnsolvedGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getUnsolvedGoals</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.run"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">run</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.saveState"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">saveState</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.SavedState.restore"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">SavedState</span>.<span class="name">restore</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.withRestoreOrSaveFull"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withRestoreOrSaveFull</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.getCurrMacroScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getCurrMacroScope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.getMainModule"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getMainModule</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.tacticElabAttribute"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">tacticElabAttribute</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.mkTacticInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">mkTacticInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.mkInitialTacticInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">mkInitialTacticInfo</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.withTacticInfoContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withTacticInfoContext</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.EvalTacticFailure"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">EvalTacticFailure</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.evalTactic"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">evalTactic</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.throwNoGoalsToBeSolved"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">throwNoGoalsToBeSolved</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.done"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">done</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.focus"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">focus</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.focusAndDone"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">focusAndDone</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.closeUsingOrAdmit"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">closeUsingOrAdmit</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.instMonadBacktrackSavedStateTacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">instMonadBacktrackSavedStateTacticM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.tryCatch"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">tryCatch</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.tryCatchRestore"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">tryCatchRestore</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.instMonadExceptExceptionTacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">instMonadExceptExceptionTacticM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.withoutRecover"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withoutRecover</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.withRecover"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withRecover</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.withSuppressedMessages"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withSuppressedMessages</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.withCapturedMessages"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withCapturedMessages</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.hasErrorMessages"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">hasErrorMessages</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.throwOrLogErrorAt"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">throwOrLogErrorAt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.throwOrLogError"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">throwOrLogError</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.orElse"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">orElse</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.instOrElseTacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">instOrElseTacticM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.instAlternativeTacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">instAlternativeTacticM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.saveTacticInfoForToken"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">saveTacticInfoForToken</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.withMacroExpansion"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withMacroExpansion</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.adaptExpander"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">adaptExpander</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.pushGoal"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">pushGoal</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.pushGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">pushGoals</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.appendGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">appendGoals</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.replaceMainGoal"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">replaceMainGoal</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.getMainGoal"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getMainGoal</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.popMainGoal"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">popMainGoal</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.getMainDecl"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getMainDecl</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.getMainTag"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getMainTag</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.getMainTarget"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getMainTarget</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.withMainContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withMainContext</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.evalTacticAt"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">evalTacticAt</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.evalTacticAtRaw"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">evalTacticAtRaw</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.ensureHasNoMVars"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">ensureHasNoMVars</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.closeMainGoal"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">closeMainGoal</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.liftMetaMAtMain"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">liftMetaMAtMain</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.liftMetaTacticAux"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">liftMetaTacticAux</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.liftMetaTactic"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">liftMetaTactic</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.liftMetaTactic1"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">liftMetaTactic1</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.liftMetaFinishingTactic"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">liftMetaFinishingTactic</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.tryTactic?"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">tryTactic?</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.tryTactic"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">tryTactic</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.tagUntaggedGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">tagUntaggedGoals</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.getNameOfIdent'"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getNameOfIdent'</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Tactic.withCaseRef"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withCaseRef</span></a></div></nav><main>
<div class="decl" id="Lean.Elab.admitGoal"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L18-L22">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.admitGoal"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">admitGoal</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">synthetic</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a> := <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Assign <code>mvarId := sorry</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.admitGoal" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.goalsToMessageData"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L24-L25">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.goalsToMessageData"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">goalsToMessageData</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goals</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Message.html#Lean.MessageData">MessageData</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.goalsToMessageData">Lean.Elab.goalsToMessageData</a> <span class="fn">goals</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Message.html#Lean.MessageData.joinSep">Lean.MessageData.joinSep</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List.map">List.map</a> <a href="../../.././Lean/Message.html#Lean.MessageData.ofGoal">Lean.MessageData.ofGoal</a> <span class="fn">goals</span>)</span> <span class="fn">(<a href="../../.././Lean/Message.html#Lean.ToMessageData.toMessageData">Lean.toMessageData</a> <span class="fn">&quot;\n\n&quot;</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Elab.goalsToMessageData" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.reportUnsolvedGoals"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L27-L29">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Term.reportUnsolvedGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">reportUnsolvedGoals</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goals</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Term.reportUnsolvedGoals" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.Context"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L33-L41">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">Context</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Lean.Elab.Tactic.Context.mk"><li id="Lean.Elab.Tactic.Context.elaborator" class="structure_field"><div class="structure_field_info">elaborator : <a href="../../.././Init/Prelude.html#Lean.Name">Name</a></div><div class="structure_field_doc"><p>Declaration name of the executing elaborator, used by <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.mkTacticInfo">mkTacticInfo</a></code> to persist it in the info tree</p></div></li><li id="Lean.Elab.Tactic.Context.recover" class="structure_field"><div class="structure_field_info">recover : <a href="../../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>If <code>true</code>, enable &quot;error recovery&quot; in some tactics. For example, <code>cases</code> tactic
admits unsolved alternatives when <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context.recover">recover</a> == true</code>. The combinator <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withoutRecover">withoutRecover</a> &lt;tac&gt;</code> disables
&quot;error recovery&quot; while executing <code>&lt;tac&gt;</code>. This is useful for tactics such as <code>first | ... | ...</code>.</p></div></li></ul><details id="instances-for-list-Lean.Elab.Tactic.Context" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.TacticM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L43-L49">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">TacticM</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>The tactic monad, which extends the term elaboration monad <code>TermElabM</code> with state that contains the
current goals (<code><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State">Lean.Elab.Tactic.State</a></code>, accessible via <code><a href="../../.././Init/Prelude.html#MonadStateOf">MonadStateOf</a></code>) and local information about
the current tactic's name and whether error recovery is enabled (<code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context">Lean.Elab.Tactic.Context</a></code>,
accessible via <code><a href="../../.././Init/Prelude.html#MonadReaderOf">MonadReaderOf</a></code>).</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">Lean.Elab.Tactic.TacticM</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Prelude.html#ReaderT">ReaderT</a> <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context">Lean.Elab.Tactic.Context</a> <span class="fn">(<a href="../../.././Init/Control/StateRef.html#StateRefT'">StateRefT'</a> <a href="../../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State">Lean.Elab.Tactic.State</a> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a>)</span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.TacticM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.Tactic"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L50-L56">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Tactic"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">Tactic</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>A tactic is a function from syntax to an action in the tactic monad.</p><p>A given tactic syntax kind may have multiple <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Tactic">Tactic</a></code>s associated with it, all of which will be
attempted until one succeeds.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Tactic">Lean.Elab.Tactic.Tactic</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">Lean.Elab.Tactic.TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span>)</span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.Tactic" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.instMonadTacticM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L64-L67">source</a></div><div class="attributes">@[instance_reducible, always_inline]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.instMonadTacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">instMonadTacticM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.instInhabitedTacticM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L69-L70">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.instInhabitedTacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">instInhabitedTacticM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.instInhabitedTacticM">Lean.Elab.Tactic.instInhabitedTacticM</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context">Lean.Elab.Tactic.Context</a>) (<span class="fn">x_1</span> : <span class="fn"><a href="../../.././Init/System/ST.html#ST.Ref">ST.Ref</a> <a href="../../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State">Lean.Elab.Tactic.State</a></span>) =&gt; <a href="../../.././Init/Prelude.html#Inhabited.default">default</a></span> <a href="../../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.getGoals"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L72-L74">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getGoals</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span></div></div><p>Returns the list of goals. Goals may or may not already be assigned.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getGoals">Lean.Elab.Tactic.getGoals</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../../.././Init/Prelude.html#MonadState.get">get</a>
  <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State.goals">goals</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.getGoals" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.setGoals"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L76-L77">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.setGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">setGoals</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarIds</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.setGoals">Lean.Elab.Tactic.setGoals</a> <span class="fn">mvarIds</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State">Lean.Elab.Tactic.State</a>) =&gt; <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State.mk">{</a> <span class="fn">goals</span> := <span class="fn">mvarIds</span> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.setGoals" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.pruneSolvedGoals"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L79-L82">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.pruneSolvedGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">pruneSolvedGoals</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.pruneSolvedGoals">Lean.Elab.Tactic.pruneSolvedGoals</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">gs</span> ← <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getGoals">Lean.Elab.Tactic.getGoals</a>
  let <span class="fn">gs</span> ← <span class="fn"><a href="../../.././Init/Data/List/Control.html#List.filterM">List.filterM</a> <span class="fn">(fun (<span class="fn">g</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>) =&gt; <a href="../../.././Init/Prelude.html#Bool.not">not</a> <a href="../../.././Init/Prelude.html#Functor.map">&lt;$&gt;</a> <span class="fn"><span class="fn">g</span>.<a href="../../.././Lean/MetavarContext.html#Lean.MVarId.isAssigned">isAssigned</a></span>)</span> <span class="fn">gs</span></span>
  <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.setGoals">Lean.Elab.Tactic.setGoals</a> <span class="fn">gs</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.pruneSolvedGoals" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.getUnsolvedGoals"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L84-L86">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getUnsolvedGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getUnsolvedGoals</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getUnsolvedGoals">Lean.Elab.Tactic.getUnsolvedGoals</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.pruneSolvedGoals">Lean.Elab.Tactic.pruneSolvedGoals</a>
  <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getGoals">Lean.Elab.Tactic.getGoals</a></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.getUnsolvedGoals" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.run"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L94-L112">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.run"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">run</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">TermElabM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.run" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.saveState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L114-L115">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.saveState"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">saveState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.SavedState">SavedState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.saveState">Lean.Elab.Tactic.saveState</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href="../../.././Init/Prelude.html#liftM">liftM</a> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.saveState">Lean.Elab.Term.saveState</a></span>
  let <span class="fn">__do_lift_1</span> ← <a href="../../.././Init/Prelude.html#MonadState.get">get</a>
  <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.SavedState.mk">{</a> <span class="fn">term</span> := <span class="fn">__do_lift</span>, <span class="fn">tactic</span> := <span class="fn">__do_lift_1</span> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.SavedState.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.saveState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.SavedState.restore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L117-L119">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.SavedState.restore"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">SavedState</span>.<span class="name">restore</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">b</span> : <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.SavedState">SavedState</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">restoreInfo</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a> := <a href="../../.././Init/Prelude.html#Bool.false">false</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">b</span>.<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.SavedState.restore">restore</a></span> <span class="fn">restoreInfo</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  <span class="fn"><a href="../../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<span class="fn"><span class="fn"><span class="fn">b</span>.<a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.SavedState.term">term</a></span>.<a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.SavedState.restore">restore</a></span> <span class="fn">restoreInfo</span>)</span></span>
  <span class="fn"><a href="../../.././Init/Prelude.html#MonadStateOf.set">set</a> <span class="fn"><span class="fn">b</span>.<a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.SavedState.tactic">tactic</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.SavedState.restore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.withRestoreOrSaveFull"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L121-L130">source</a></div><div class="attributes">@[specialize #[]]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withRestoreOrSaveFull"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withRestoreOrSaveFull</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">reusableResult?</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> (<span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.SavedState">SavedState</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">tacSnap?</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../../.././Lean/Language/Basic.html#Lean.Language.SnapshotBundle">Language.SnapshotBundle</a> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.TacticParsedSnapshot">TacticParsedSnapshot</a>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">act</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> (<span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.SavedState">SavedState</a>)</span></div></div><p>Like <code>Meta.<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withRestoreOrSaveFull">withRestoreOrSaveFull</a></code> for <code>TermElabM</code>, but also takes a <code>tacSnap?</code> that</p><ul><li>when running <code>act</code>, is set as <code>Context.tacSnap?</code></li><li>otherwise (i.e. on restore) is used to update the new snapshot promise to the old task's
value.
This extra restore step is necessary because while <code>reusableResult?</code> can be used to replay any
effects on <code>State</code>, <code>Context.tacSnap?</code> is not part of it but changed via an <code><a href="../../.././Init/System/IO.html#IO">IO</a></code> side effect, so
it needs to be replayed separately.</li></ul><p>We use an explicit parameter instead of accessing <code>Context.tacSnap?</code> directly because this prevents
<code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withRestoreOrSaveFull">withRestoreOrSaveFull</a></code> and <code>withReader</code> from being used in the wrong order.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.withRestoreOrSaveFull" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.getCurrMacroScope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L132-L132">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getCurrMacroScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getCurrMacroScope</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Lean.MacroScope">MacroScope</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getCurrMacroScope">Lean.Elab.Tactic.getCurrMacroScope</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href="../../.././Init/Prelude.html#readThe">readThe</a> <a href="../../.././Lean/CoreM.html#Lean.Core.Context">Lean.Core.Context</a></span>
  <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../../.././Lean/CoreM.html#Lean.Core.Context.currMacroScope">currMacroScope</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.getCurrMacroScope" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.getMainModule"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L133-L133">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainModule"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getMainModule</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Lean.Name">Name</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainModule">Lean.Elab.Tactic.getMainModule</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../../.././Lean/Environment.html#Lean.MonadEnv.getEnv">Lean.getEnv</a>
  <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../../.././Lean/Environment.html#Lean.Environment.mainModule">mainModule</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.getMainModule" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.tacticElabAttribute"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L135-L147">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.tacticElabAttribute"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">tacticElabAttribute</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/KeyedDeclsAttribute.html#Lean.KeyedDeclsAttribute">KeyedDeclsAttribute</a> <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Tactic">Tactic</a></span></div></div><p>Registers a tactic elaborator for the given syntax node kind.</p><p>A tactic elaborator should have type <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Tactic">Lean.Elab.Tactic.Tactic</a></code> (which is
<code><a href="../../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">Lean.Elab.Tactic.TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></code>), i.e. should take syntax of the given syntax
node kind as a parameter and alter the tactic state.</p><p>The <code>elab_rules</code> and <code>elab</code> commands should usually be preferred over using this attribute
directly.</p></div></div><div class="decl" id="Lean.Elab.Tactic.mkTacticInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L149-L157">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.mkTacticInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">mkTacticInfo</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mctxBefore</span> : <a href="../../.././Lean/MetavarContext.html#Lean.MetavarContext">MetavarContext</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">goalsBefore</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info">Info</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.mkTacticInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.mkInitialTacticInfo"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L159-L162">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.mkInitialTacticInfo"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">mkInitialTacticInfo</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">(<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.Info">Info</a>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.mkInitialTacticInfo">Lean.Elab.Tactic.mkInitialTacticInfo</a> <span class="fn">stx</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">mctxBefore</span> ← <a href="../../.././Lean/MetavarContext.html#Lean.MonadMCtx.getMCtx">Lean.getMCtx</a>
  let <span class="fn">goalsBefore</span> ← <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getUnsolvedGoals">Lean.Elab.Tactic.getUnsolvedGoals</a>
  <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.mkTacticInfo">Lean.Elab.Tactic.mkTacticInfo</a> <span class="fn">mctxBefore</span> <span class="fn">goalsBefore</span> <span class="fn">stx</span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.mkInitialTacticInfo" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.withTacticInfoContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L164-L165">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withTacticInfoContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withTacticInfoContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withTacticInfoContext">Lean.Elab.Tactic.withTacticInfoContext</a> <span class="fn">stx</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.mkInitialTacticInfo">Lean.Elab.Tactic.mkInitialTacticInfo</a> <span class="fn">stx</span></span>
  <span class="fn"><a href="../../.././Lean/Elab/InfoTree/Main.html#Lean.Elab.withInfoContext">Lean.Elab.withInfoContext</a> <span class="fn">x</span> <span class="fn">__do_lift</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.withTacticInfoContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><p>Important: we must define <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.evalTactic">evalTactic</a></code> before we define
the instance <code><a href="../../.././Init/Prelude.html#MonadExcept">MonadExcept</a></code> for <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a></code> since it backtracks the state including error messages,
and this is bad when rethrowing the exception at the <code>catch</code> block in these methods.
We marked these places with a <code>(*)</code> in these methods.</p></div><div class="decl" id="Lean.Elab.Tactic.EvalTacticFailure"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L174-L179">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.EvalTacticFailure"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">EvalTacticFailure</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././foundational_types.html">Type</a></div></div><p>Auxiliary datastructure for capturing exceptions at <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.evalTactic">evalTactic</a></code>.</p><ul class="structure_fields" id="Lean.Elab.Tactic.EvalTacticFailure.mk"><li id="Lean.Elab.Tactic.EvalTacticFailure.exception" class="structure_field"><div class="structure_field_info">exception : <a href="../../.././Lean/Exception.html#Lean.Exception">Exception</a></div></li><li id="Lean.Elab.Tactic.EvalTacticFailure.state" class="structure_field"><div class="structure_field_info">state : <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.SavedState">SavedState</a></div></li></ul><details id="instances-for-list-Lean.Elab.Tactic.EvalTacticFailure" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.evalTactic"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L181-L295">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.evalTactic"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">evalTactic</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Tactic.throwNoGoalsToBeSolved"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L297-L298">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.throwNoGoalsToBeSolved"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">throwNoGoalsToBeSolved</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.throwNoGoalsToBeSolved">Lean.Elab.Tactic.throwNoGoalsToBeSolved</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Lean/Exception.html#Lean.throwError">Lean.throwError</a> <span class="fn">(<a href="../../.././Lean/Message.html#Lean.ToMessageData.toMessageData">Lean.toMessageData</a> <span class="fn">&quot;No goals to be solved&quot;</span>)</span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.throwNoGoalsToBeSolved" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.done"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L300-L304">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.done"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">done</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.done" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.focus"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L306-L316">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.focus"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">focus</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><p>Runs <code>x</code> with only the first unsolved goal as the goal.
Fails if there are no goal to be solved.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.focus" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.focusAndDone"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L318-L326">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.focusAndDone"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">focusAndDone</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">tactic</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><p>Runs <code>tactic</code> with only the first unsolved goal as the goal, and expects it leave no goals.
Fails if there are no goal to be solved.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.focusAndDone">Lean.Elab.Tactic.focusAndDone</a> <span class="fn">tactic</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.focus">Lean.Elab.Tactic.focus</a> <span class="fn">do
    let <span class="fn">a</span> ← <span class="fn">tactic</span>
    <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.done">Lean.Elab.Tactic.done</a>
    <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">a</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.focusAndDone" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.closeUsingOrAdmit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L328-L341">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.closeUsingOrAdmit"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">closeUsingOrAdmit</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">tac</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Close the main goal using the given tactic. If it fails, log the error and <code>admit</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.closeUsingOrAdmit" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.instMonadBacktrackSavedStateTacticM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L343-L345">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.instMonadBacktrackSavedStateTacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">instMonadBacktrackSavedStateTacticM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Util/MonadBacktrack.html#Lean.MonadBacktrack">MonadBacktrack</a> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.SavedState">SavedState</a> <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.instMonadBacktrackSavedStateTacticM">Lean.Elab.Tactic.instMonadBacktrackSavedStateTacticM</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Lean/Util/MonadBacktrack.html#Lean.MonadBacktrack.mk">{</a> <span class="fn">saveState</span> := <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.saveState">Lean.Elab.Tactic.saveState</a>, <span class="fn">restoreState</span> := <span class="fn">fun (<span class="fn">b</span> : <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.SavedState">Lean.Elab.Tactic.SavedState</a>) =&gt; <span class="fn"><span class="fn">b</span>.<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.SavedState.restore">restore</a></span></span> <a href="../../.././Lean/Util/MonadBacktrack.html#Lean.MonadBacktrack.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.tryCatch"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L347-L351">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.tryCatch"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">tryCatch</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Lean/Exception.html#Lean.Exception">Exception</a> → <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><p>Non-backtracking <code>try</code>/<code>catch</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.tryCatch">Lean.Elab.Tactic.tryCatch</a> <span class="fn">x</span> <span class="fn">h</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadExcept.tryCatch">tryCatch</a> <span class="fn">x</span> <span class="fn">fun (<span class="fn">ex</span> : <a href="../../.././Lean/Exception.html#Lean.Exception">Lean.Exception</a>) =&gt; <span class="fn"><span class="fn">h</span> <span class="fn">ex</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.tryCatch" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.tryCatchRestore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L353-L358">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.tryCatchRestore"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">tryCatchRestore</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../.././Lean/Exception.html#Lean.Exception">Exception</a> → <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><p>Backtracking <code>try</code>/<code>catch</code>. This is used for the <code><a href="../../.././Init/Prelude.html#MonadExcept">MonadExcept</a></code> instance for <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.tryCatchRestore">Lean.Elab.Tactic.tryCatchRestore</a> <span class="fn">x</span> <span class="fn">h</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">b</span> ← <a href="../../.././Lean/Util/MonadBacktrack.html#Lean.MonadBacktrack.saveState">Lean.saveState</a>
  <span class="fn"><a href="../../.././Init/Prelude.html#MonadExcept.tryCatch">tryCatch</a> <span class="fn">x</span> <span class="fn">fun (<span class="fn">ex</span> : <a href="../../.././Lean/Exception.html#Lean.Exception">Lean.Exception</a>) =&gt; <span class="fn">do
      <span class="fn"><span class="fn">b</span>.<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.SavedState.restore">restore</a></span>
      <span class="fn"><span class="fn">h</span> <span class="fn">ex</span></span></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.tryCatchRestore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.instMonadExceptExceptionTacticM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L360-L362">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.instMonadExceptExceptionTacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">instMonadExceptExceptionTacticM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#MonadExcept">MonadExcept</a> <a href="../../.././Lean/Exception.html#Lean.Exception">Exception</a> <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.instMonadExceptExceptionTacticM">Lean.Elab.Tactic.instMonadExceptExceptionTacticM</a> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Init/Prelude.html#MonadExcept.mk">{</a> <span class="fn">throw</span> := <span class="fn">fun {<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>} =&gt; <a href="../../.././Init/Prelude.html#MonadExcept.throw">throw</a></span>, <span class="fn">tryCatch</span> := <span class="fn">fun {<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>} =&gt; <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.tryCatchRestore">Lean.Elab.Tactic.tryCatchRestore</a></span> <a href="../../.././Init/Prelude.html#MonadExcept.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.withoutRecover"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L364-L366">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withoutRecover"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withoutRecover</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> with error recovery disabled</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withoutRecover">Lean.Elab.Tactic.withoutRecover</a> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadWithReader.withReader">withReader</a> <span class="fn">(fun (<span class="fn">ctx</span> : <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context">Lean.Elab.Tactic.Context</a>) =&gt; <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context.mk">{</a> <span class="fn">elaborator</span> := <span class="fn"><span class="fn">ctx</span>.<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context.elaborator">elaborator</a></span>, <span class="fn">recover</span> := <a href="../../.././Init/Prelude.html#Bool.false">false</a> <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context.mk">}</a>)</span> <span class="fn">x</span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.withoutRecover" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.withRecover"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L368-L370">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withRecover"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withRecover</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">recover</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> with error recovery disabled</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withRecover">Lean.Elab.Tactic.withRecover</a> <span class="fn">recover</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadWithReader.withReader">withReader</a> <span class="fn">(fun (<span class="fn">ctx</span> : <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context">Lean.Elab.Tactic.Context</a>) =&gt; <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context.mk">{</a> <span class="fn">elaborator</span> := <span class="fn"><span class="fn">ctx</span>.<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context.elaborator">elaborator</a></span>, <span class="fn">recover</span> := <span class="fn">recover</span> <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context.mk">}</a>)</span> <span class="fn">x</span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.withRecover" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><h2 id="Message-log-utilities" class="markdown-heading">Message log utilities <a class="hover-link" href="#Message-log-utilities">#</a></h2></div><div class="decl" id="Lean.Elab.Tactic.withSuppressedMessages"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L374-L382">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withSuppressedMessages"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withSuppressedMessages</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">action</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><p>Execute an action while suppressing any new messages it generates.
Restores the original message log after the action completes.
Useful for trying tactics without polluting the message log with errors from failed attempts.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withSuppressedMessages">Lean.Elab.Tactic.withSuppressedMessages</a> <span class="fn">action</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">initialLog</span> ← <span class="fn"><a href="../../.././Init/Prelude.html#liftM">liftM</a> <a href="../../.././Lean/CoreM.html#Lean.Core.getMessageLog">Lean.Core.getMessageLog</a></span>
  <span class="fn"><a href="../../.././Init/Control/Except.html#tryFinally">tryFinally</a> <span class="fn">action</span> <span class="fn">(<a href="../../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<a href="../../.././Lean/CoreM.html#Lean.Core.setMessageLog">Lean.Core.setMessageLog</a> <span class="fn">initialLog</span>)</span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.withSuppressedMessages" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.withCapturedMessages"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L384-L393">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withCapturedMessages"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withCapturedMessages</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">action</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> (<span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Message.html#Lean.Message">Message</a></span>)</span></div></div><p>Execute an action and return any new messages it generates.
Restores the original message log afterward.
Useful for inspecting messages produced by a tactic without committing them.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.withCapturedMessages" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.hasErrorMessages"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L395-L397">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.hasErrorMessages"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">hasErrorMessages</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">msgs</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Message.html#Lean.Message">Message</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Check if any messages in the list are errors.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.hasErrorMessages">Lean.Elab.Tactic.hasErrorMessages</a> <span class="fn">msgs</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">msgs</span>.<a href="../../.././Init/Data/List/Basic.html#List.any">any</a></span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././Lean/Message.html#Lean.Message">Lean.Message</a>) =&gt; <span class="fn"><span class="fn">x</span>.<a href="../../.././Lean/Message.html#Lean.BaseMessage.severity">severity</a></span> <a href="../../.././Init/Prelude.html#BEq.beq">==</a> <a href="../../.././Lean/Message.html#Lean.MessageSeverity.error">Lean.MessageSeverity.error</a></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.hasErrorMessages" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.throwOrLogErrorAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L399-L406">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.throwOrLogErrorAt"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">throwOrLogErrorAt</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ref</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href="../../.././Lean/Message.html#Lean.MessageData">MessageData</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Like <code>throwErrorAt</code>, but, if recovery is enabled, logs the error instead.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.throwOrLogErrorAt">Lean.Elab.Tactic.throwOrLogErrorAt</a> <span class="fn">ref</span> <span class="fn">msg</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../../.././Init/Prelude.html#MonadReader.read">read</a>
  <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Context.recover">recover</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn"><a href="../../.././Lean/Log.html#Lean.logErrorAt">Lean.logErrorAt</a> <span class="fn">ref</span> <span class="fn">msg</span></span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn"><a href="../../.././Lean/Exception.html#Lean.throwErrorAt">Lean.throwErrorAt</a> <span class="fn">ref</span> <span class="fn">msg</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.throwOrLogErrorAt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.throwOrLogError"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L408-L412">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.throwOrLogError"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">throwOrLogError</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">msg</span> : <a href="../../.././Lean/Message.html#Lean.MessageData">MessageData</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Like <code>throwError</code>, but, if recovery is enabled, logs the error instead.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.throwOrLogError">Lean.Elab.Tactic.throwOrLogError</a> <span class="fn">msg</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../../.././Init/Prelude.html#Lean.MonadRef.getRef">Lean.getRef</a>
  <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.throwOrLogErrorAt">Lean.Elab.Tactic.throwOrLogErrorAt</a> <span class="fn">__do_lift</span> <span class="fn">msg</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.throwOrLogError" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.orElse"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L414-L415">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.orElse"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">orElse</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">y</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Unit">Unit</a> → <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.orElse">Lean.Elab.Tactic.orElse</a> <span class="fn">x</span> <span class="fn">y</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#MonadExcept.tryCatch">tryCatch</a> <span class="fn">(<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withoutRecover">Lean.Elab.Tactic.withoutRecover</a> <span class="fn">x</span>)</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././Lean/Exception.html#Lean.Exception">Lean.Exception</a>) =&gt; <span class="fn"><span class="fn">y</span> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.orElse" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.instOrElseTacticM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L417-L418">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.instOrElseTacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">instOrElseTacticM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Prelude.html#OrElse">OrElse</a> <span class="fn">(<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.instOrElseTacticM">Lean.Elab.Tactic.instOrElseTacticM</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#OrElse.mk">{</a> <span class="fn">orElse</span> := <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.orElse">Lean.Elab.Tactic.orElse</a> <a href="../../.././Init/Prelude.html#OrElse.mk">}</a></li></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.instAlternativeTacticM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L420-L422">source</a></div><div class="attributes">@[instance_reducible]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.instAlternativeTacticM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">instAlternativeTacticM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Init/Control/Basic.html#Alternative">Alternative</a> <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.saveTacticInfoForToken"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L424-L431">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.saveTacticInfoForToken"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">saveTacticInfoForToken</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Save the current tactic state for a token <code>stx</code>.
This method is a no-op if <code>stx</code> has no position information.
We use this method to save the tactic state at punctuation such as <code>;</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.saveTacticInfoForToken">Lean.Elab.Tactic.saveTacticInfoForToken</a> <span class="fn">stx</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn"><span class="fn">stx</span>.<a href="../../.././Init/Prelude.html#Lean.Syntax.getPos?">getPos?</a></span>.<a href="../../.././Init/Data/Option/Basic.html#Option.isNone">isNone</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#PUnit.unit">PUnit.unit</a></span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withTacticInfoContext">Lean.Elab.Tactic.withTacticInfoContext</a> <span class="fn">stx</span> <span class="fn">(<a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a>)</span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.saveTacticInfoForToken" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.withMacroExpansion"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L433-L437">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withMacroExpansion"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withMacroExpansion</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">beforeStx </span><span class="fn">afterStx</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><p>Elaborate <code>x</code> with <code>stx</code> on the macro stack</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.withMacroExpansion" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.adaptExpander"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L439-L442">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.adaptExpander"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">adaptExpander</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">exp</span> : <span class="fn"><a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a> → <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.Tactic">Tactic</a></div></div><p>Adapt a syntax transformation to a regular tactic evaluator.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.adaptExpander">Lean.Elab.Tactic.adaptExpander</a> <span class="fn">exp</span> <span class="fn">stx</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">stx'</span> ← <span class="fn"><span class="fn">exp</span> <span class="fn">stx</span></span>
  <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withMacroExpansion">Lean.Elab.Tactic.withMacroExpansion</a> <span class="fn">stx</span> <span class="fn">stx'</span> <span class="fn">(<a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.evalTactic">Lean.Elab.Tactic.evalTactic</a> <span class="fn">stx'</span>)</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.adaptExpander" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.pushGoal"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L444-L446">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.pushGoal"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">pushGoal</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Add the given goal to the front of the current list of goals.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.pushGoal">Lean.Elab.Tactic.pushGoal</a> <span class="fn">mvarId</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">s</span> : <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State">Lean.Elab.Tactic.State</a>) =&gt; <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State.mk">{</a> <span class="fn">goals</span> := <span class="fn">mvarId</span> <a href="../../.././Init/Prelude.html#List.cons">::</a> <span class="fn"><span class="fn">s</span>.<a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State.goals">goals</a></span> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.pushGoal" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.pushGoals"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L448-L450">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.pushGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">pushGoals</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarIds</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Add the given goals to the front of the current list of goals.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.pushGoals">Lean.Elab.Tactic.pushGoals</a> <span class="fn">mvarIds</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">s</span> : <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State">Lean.Elab.Tactic.State</a>) =&gt; <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State.mk">{</a> <span class="fn">goals</span> := <span class="fn">mvarIds</span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn"><span class="fn">s</span>.<a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State.goals">goals</a></span> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.pushGoals" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.appendGoals"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L452-L454">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.appendGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">appendGoals</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarIds</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Add the given goals at the end of the current list of goals.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.appendGoals">Lean.Elab.Tactic.appendGoals</a> <span class="fn">mvarIds</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#modify">modify</a> <span class="fn">fun (<span class="fn">s</span> : <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State">Lean.Elab.Tactic.State</a>) =&gt; <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State.mk">{</a> <span class="fn">goals</span> := <span class="fn"><span class="fn">s</span>.<a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State.goals">goals</a></span> <a href="../../.././Init/Prelude.html#HAppend.hAppend">++</a> <span class="fn">mvarIds</span> <a href="../../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Tactic.State.mk">}</a></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.appendGoals" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.replaceMainGoal"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L456-L466">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.replaceMainGoal"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">replaceMainGoal</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">mvarIds</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Discard the first goal and replace it by the given list of goals,
keeping the other goals. This is used in conjunction with <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainGoal">getMainGoal</a></code>.</p><p>Contract: between <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainGoal">getMainGoal</a></code> and <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.replaceMainGoal">replaceMainGoal</a></code>, nothing manipulates the goal list.</p><p>See also <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.popMainGoal">Lean.Elab.Tactic.popMainGoal</a></code> and <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.pushGoal">Lean.Elab.Tactic.pushGoal</a></code>/<code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.pushGoal">Lean.Elab.Tactic.pushGoal</a></code> for another interface.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.replaceMainGoal" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.getMainGoal"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L468-L479">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainGoal"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getMainGoal</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a></span></div></div><p>Return the first goal.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainGoal">Lean.Elab.Tactic.getMainGoal</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getGoals">Lean.Elab.Tactic.getGoals</a>
  <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#_private.Lean.Elab.Tactic.Basic.0.Lean.Elab.Tactic.getMainGoal.loop">Lean.Elab.Tactic.getMainGoal.loop✝</a> <span class="fn">__do_lift</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.getMainGoal" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.popMainGoal"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L481-L489">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.popMainGoal"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">popMainGoal</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a></span></div></div><p>Return the first goal, and remove it from the goal list.</p><p>See also: <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.pushGoal">Lean.Elab.Tactic.pushGoal</a></code> and <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.pushGoals">Lean.Elab.Tactic.pushGoals</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.popMainGoal">Lean.Elab.Tactic.popMainGoal</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">mvarId</span> ← <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainGoal">Lean.Elab.Tactic.getMainGoal</a>
  <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.replaceMainGoal">Lean.Elab.Tactic.replaceMainGoal</a> <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a></span>
  <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">mvarId</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.popMainGoal" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.getMainDecl"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L491-L493">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainDecl"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getMainDecl</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Lean/MetavarContext.html#Lean.MetavarDecl">MetavarDecl</a></span></div></div><p>Return the main goal metavariable declaration.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainDecl">Lean.Elab.Tactic.getMainDecl</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainGoal">Lean.Elab.Tactic.getMainGoal</a>
  <span class="fn"><a href="../../.././Init/Prelude.html#liftM">liftM</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../../.././Lean/Meta/Basic.html#Lean.MVarId.getDecl">getDecl</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.getMainDecl" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.getMainTag"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L495-L497">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainTag"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getMainTag</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Lean.Name">Name</a></span></div></div><p>Return the main goal tag.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainTag">Lean.Elab.Tactic.getMainTag</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainDecl">Lean.Elab.Tactic.getMainDecl</a>
  <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../../.././Lean/MetavarContext.html#Lean.MetavarDecl.userName">userName</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.getMainTag" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.getMainTarget"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L499-L501">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainTarget"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getMainTarget</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Return expected type for the main goal.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainTarget">Lean.Elab.Tactic.getMainTarget</a> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainDecl">Lean.Elab.Tactic.getMainDecl</a>
  <span class="fn"><a href="../../.././Lean/MetavarContext.html#Lean.instantiateMVars">Lean.instantiateMVars</a> <span class="fn"><span class="fn">__do_lift</span>.<a href="../../.././Lean/MetavarContext.html#Lean.MetavarDecl.type">type</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.getMainTarget" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.withMainContext"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L503-L505">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withMainContext"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withMainContext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><p>Execute <code>x</code> using the main goal local context and instances</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withMainContext">Lean.Elab.Tactic.withMainContext</a> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainGoal">Lean.Elab.Tactic.getMainGoal</a>
  <span class="fn"><span class="fn"><span class="fn">__do_lift</span>.<a href="../../.././Lean/Meta/Basic.html#Lean.MVarId.withContext">withContext</a></span> <span class="fn">x</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.withMainContext" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.evalTacticAt"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L507-L516">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.evalTacticAt"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">evalTacticAt</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">tac</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span></div></div><p>Evaluate <code>tac</code> at <code>mvarId</code>, and return the list of resulting subgoals.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.evalTacticAt" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.evalTacticAtRaw"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L518-L525">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.evalTacticAtRaw"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">evalTacticAtRaw</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">tac</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">mvarId</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span></div></div><p>Like <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.evalTacticAt">evalTacticAt</a></code>, but without restoring the goal list or pruning solved goals.
Useful when these tasks are already being done in an outer loop.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.evalTacticAtRaw">Lean.Elab.Tactic.evalTacticAtRaw</a> <span class="fn">tac</span> <span class="fn">mvarId</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.setGoals">Lean.Elab.Tactic.setGoals</a> <a href="../../.././Init/Prelude.html#List.cons">[</a><span class="fn">mvarId</span><a href="../../.././Init/Prelude.html#List.cons">]</a></span>
  <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.evalTactic">Lean.Elab.Tactic.evalTactic</a> <span class="fn">tac</span></span>
  <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getGoals">Lean.Elab.Tactic.getGoals</a></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.evalTacticAtRaw" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.ensureHasNoMVars"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L527-L532">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.ensureHasNoMVars"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">ensureHasNoMVars</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.ensureHasNoMVars" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.closeMainGoal"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L534-L546">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.closeMainGoal"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">closeMainGoal</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">tacName</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">val</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Expr</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">checkUnassigned</span> : <a href="../../.././Init/Prelude.html#Bool">Bool</a> := <a href="../../.././Init/Prelude.html#Bool.true">true</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Closes main goal using the given expression.
If <code>checkUnassigned == true</code>, then <code>val</code> must not contain unassigned metavariables.
Returns <code>true</code> if <code>val</code> was successfully used to close the goal.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.closeMainGoal" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.liftMetaMAtMain"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L548-L549">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.liftMetaMAtMain"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">liftMetaMAtMain</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a> → <span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.liftMetaMAtMain">Lean.Elab.Tactic.liftMetaMAtMain</a> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withMainContext">Lean.Elab.Tactic.withMainContext</a> <span class="fn">do
    let <span class="fn">__do_lift</span> ← <a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getMainGoal">Lean.Elab.Tactic.getMainGoal</a>
    <span class="fn"><a href="../../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<span class="fn">x</span> <span class="fn">__do_lift</span>)</span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.liftMetaMAtMain" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.liftMetaTacticAux"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L551-L555">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.liftMetaTacticAux"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">liftMetaTacticAux</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">tac</span> : <span class="fn"><a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a> → <span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> (<span class="fn">α</span> <a href="../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a></span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.liftMetaTacticAux" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.liftMetaTactic"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L557-L562">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.liftMetaTactic"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">liftMetaTactic</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">tactic</span> : <span class="fn"><a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a> → <span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Get the mvarid of the main goal, run the given <code>tactic</code>,
then set the new goals to be the resulting goal list.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.liftMetaTactic">Lean.Elab.Tactic.liftMetaTactic</a> <span class="fn">tactic</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.liftMetaTacticAux">Lean.Elab.Tactic.liftMetaTacticAux</a> <span class="fn">fun (<span class="fn">mvarId</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>) =&gt; <span class="fn">do
    let <span class="fn">gs</span> ← <span class="fn"><span class="fn">tactic</span> <span class="fn">mvarId</span></span>
    <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#Prod.mk">(</a><a href="../../.././Init/Prelude.html#Unit.unit">(</a><a href="../../.././Init/Prelude.html#Unit.unit">)</a><a href="../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">gs</span><a href="../../.././Init/Prelude.html#Prod.mk">)</a></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.liftMetaTactic" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.liftMetaTactic1"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L564-L569">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.liftMetaTactic1"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">liftMetaTactic1</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">tactic</span> : <span class="fn"><a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a> → <span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a>)</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.liftMetaTactic1" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.liftMetaFinishingTactic"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L571-L573">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.liftMetaFinishingTactic"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">liftMetaFinishingTactic</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">tac</span> : <span class="fn"><a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a> → <span class="fn"><a href="../../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">MetaM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Analogue of <code><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.liftMetaTactic">liftMetaTactic</a></code> for tactics that do not return any goals.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.liftMetaFinishingTactic">Lean.Elab.Tactic.liftMetaFinishingTactic</a> <span class="fn">tac</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.liftMetaTactic">Lean.Elab.Tactic.liftMetaTactic</a> <span class="fn">fun (<span class="fn">g</span> : <a href="../../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>) =&gt; <span class="fn">do
    <span class="fn"><span class="fn">tac</span> <span class="fn">g</span></span>
    <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#List.nil">[</a><a href="../../.././Init/Prelude.html#List.nil">]</a></span></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.liftMetaFinishingTactic" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.tryTactic?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L575-L579">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.tryTactic?"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">tryTactic?</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">tactic</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Option">Option</a> <span class="fn">α</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.tryTactic?">Lean.Elab.Tactic.tryTactic?</a> <span class="fn">tactic</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadExcept.tryCatch">tryCatch</a>
    <span class="fn">(do
      let <span class="fn">__do_lift</span> ← <span class="fn">tactic</span>
      <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Option.some">some</a> <span class="fn">__do_lift</span>)</span></span>)</span>
    <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././Lean/Exception.html#Lean.Exception">Lean.Exception</a>) =&gt; <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#Option.none">none</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.tryTactic?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.tryTactic"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L581-L586">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.tryTactic"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">tryTactic</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">tactic</span> : <span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.tryTactic">Lean.Elab.Tactic.tryTactic</a> <span class="fn">tactic</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../.././Init/Prelude.html#MonadExcept.tryCatch">tryCatch</a>
    <span class="fn">(do
      <span class="fn"><a href="../../.././Init/Control/Basic.html#Functor.discard">discard</a> <span class="fn">tactic</span></span>
      <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a></span>)</span>
    <span class="fn">fun (<span class="fn">x</span> : <a href="../../.././Lean/Exception.html#Lean.Exception">Lean.Exception</a>) =&gt; <span class="fn"><a href="../../.././Init/Prelude.html#Pure.pure">pure</a> <a href="../../.././Init/Prelude.html#Bool.false">false</a></span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.tryTactic" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.tagUntaggedGoals"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L587-L607">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.tagUntaggedGoals"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">tagUntaggedGoals</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">parentTag </span><span class="fn">newSuffix</span> : <a href="../../.././Init/Prelude.html#Lean.Name">Name</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">newGoals</span> : <span class="fn"><a href="../../.././Init/Prelude.html#List">List</a> <a href="../../.././Lean/Expr.html#Lean.MVarId">MVarId</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.TacticM">TacticM</a> <a href="../../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p>Use <code>parentTag</code> to tag untagged goals at <code>newGoals</code>.
If there are multiple new untagged goals, they are named using <code>&lt;parentTag&gt;.&lt;newSuffix&gt;_&lt;idx&gt;</code> where <code>idx &gt; 0</code>.
If there is only one new untagged goal, then we just use <code>parentTag</code></p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.tagUntaggedGoals" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.getNameOfIdent'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L610-L611">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getNameOfIdent'"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">getNameOfIdent'</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">id</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.Name">Name</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.getNameOfIdent'">Lean.Elab.Tactic.getNameOfIdent'</a> <span class="fn">id</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#ite">if</a> <span class="fn"><span class="fn">id</span>.<a href="../../.././Init/Prelude.html#Lean.Syntax.isIdent">isIdent</a></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <a href="../../.././Init/Prelude.html#Bool.true">true</a> <a href="../../.././Init/Prelude.html#ite">then</a> <span class="fn"><span class="fn">id</span>.<a href="../../.././Init/Prelude.html#Lean.Syntax.getId">getId</a></span> <a href="../../.././Init/Prelude.html#ite">else</a> <span class="fn">`_</span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.getNameOfIdent'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Tactic.withCaseRef"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/985f350dcd18fc7814dfa677cac09933f44f3215/src/Lean/Elab/Tactic/Basic.lean#L613-L618">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withCaseRef"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Tactic</span>.<span class="name">withCaseRef</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">m</span> : <span class="fn"><a href="../../.././foundational_types.html">Type</a> → <a href="../../.././foundational_types.html">Type</a></span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../.././foundational_types.html">Type</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">m</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../.././Init/Prelude.html#Lean.MonadRef">MonadRef</a> <span class="fn">m</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">arrow </span><span class="fn">body</span> : <a href="../../.././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><span class="fn">m</span> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">m</span> <span class="fn">α</span></span></div></div><p>Use position of <code>=&gt; $body</code> for error messages.
If there is a line break before <code>body</code>, the message will be displayed on <code>=&gt;</code> only,
but the &quot;full range&quot; for the info view will still include <code>body</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../.././Lean/Elab/Tactic/Basic.html#Lean.Elab.Tactic.withCaseRef">Lean.Elab.Tactic.withCaseRef</a> <span class="fn">arrow</span> <span class="fn">body</span> <span class="fn">x</span></span> <a href="../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../../.././Init/Prelude.html#Lean.withRef">Lean.withRef</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Lean.mkNullNode">Lean.mkNullNode</a> <a href="../../.././Init/Prelude.html#List.toArray">#[</a><span class="fn">arrow</span><a href="../../.././Init/Prelude.html#List.cons">,</a> <span class="fn">body</span><a href="../../.././Init/Prelude.html#List.toArray">]</a>)</span> <span class="fn">x</span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Tactic.withCaseRef" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>