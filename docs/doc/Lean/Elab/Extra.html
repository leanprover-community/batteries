<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="icon" href="../.././favicon.svg"></link><link rel="mask-icon" href="../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Elab.Extra</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Lean.Elab.Extra";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Extra</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Lean/Elab/App.html">Lean.Elab.App</a></li><li><a href="../.././Lean/Elab/BuiltinNotation.html">Lean.Elab.BuiltinNotation</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Elab.Extra" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.elabForIn"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">elabForIn</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.elabForIn'"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">elabForIn'</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.Op.elabOp"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabOp</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.Op.elabBinOp"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabBinOp</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.Op.elabBinOpLazy"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabBinOpLazy</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.Op.elabLeftact"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabLeftact</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.Op.elabRightact"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabRightact</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.Op.elabUnOp"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabUnOp</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.Op.elabBinRelCore"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabBinRelCore</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.Op.elabBinRel"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabBinRel</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.Op.elabBinRelNoProp"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabBinRelNoProp</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Term.Op.elabDefaultOrNonempty"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabDefaultOrNonempty</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Auxiliary-elaboration-functions-AKA-custom-elaborators">Auxiliary elaboration functions: AKA custom elaborators <a class="hover-link" href="#Auxiliary-elaboration-functions-AKA-custom-elaborators">#</a></h1></div><div class="decl" id="Lean.Elab.Term.elabForIn"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean#L30-L52">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.elabForIn"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">elabForIn</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElab">TermElab</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Term.elabForIn" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.elabForIn'"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean#L54-L78">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.elabForIn'"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">elabForIn'</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElab">TermElab</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Term.elabForIn'" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="mod_doc"><p>The elaborator for expression trees of <code>binop%</code>, <code>binop_lazy%</code>, <code>leftact%</code>, <code>rightact%</code>, and <code>unop%</code> terms.</p><p>At a high level, the elaborator tries to solve for a type that each of the operands in the expression tree
can be coerced to, while taking into account the expected type for the entire expression tree.
Once this type is computed (and if it exists), it inserts coercions where needed.</p><p>Here are brief descriptions of each of the operator types:</p><ul>
<li><code>binop% f a b</code> elaborates <code>f a b</code> as a binary operator with two operands <code>a</code> and <code>b</code>,
and each operand participates in the protocol.</li>
<li><code>binop_lazy% f a b</code> is like <code>binop%</code> but elaborates as <code>f a (fun () =&gt; b)</code>.</li>
<li><code>unop% f a</code> elaborates <code>f a</code> as a unary operator with one operand <code>a</code>, which participates in the protocol.</li>
<li><code>leftact% f a b</code> elaborates <code>f a b</code> as a left action (the <code>a</code> operand &quot;acts upon&quot; the <code>b</code> operand).
Only <code>b</code> participates in the protocol since <code>a</code> can have an unrelated type, for example scalar multiplication of vectors.</li>
<li><code>rightact% f a b</code> elaborates <code>f a b</code> as a right action (the <code>b</code> operand &quot;acts upon&quot; the <code>a</code> operand).
Only <code>a</code> participates in the protocol since <code>b</code> can have an unrelated type.
This is used by <code><a href="../.././Init/Prelude.html#HPow">HPow</a></code> since, for example, there are both <code>Real -&gt; <a href="../.././Init/Prelude.html#Nat">Nat</a> -&gt; Real</code> and <code>Real -&gt; Real -&gt; Real</code>
exponentiation functions, and we prefer the former in the case of <code>x ^ 2</code>, but <code>binop%</code> would choose the latter. (#2854)</li>
<li>There are also <code>binrel%</code> and <code>binrel_no_prop%</code> (see the docstring for <code><a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabBinRelCore">elabBinRelCore</a></code>).</li>
</ul><p>The elaborator works as follows:</p><p>1- Expand macros.
2- Convert <code>Syntax</code> object corresponding to the <code>binop%/...</code> term into a <code>Tree</code>.
The <code>toTree</code> method visits nested <code>binop%/...</code> terms and parentheses.
3- Synthesize pending metavariables without applying default instances and using the
<code>(mayPostpone := true)</code>.
4- Tries to compute a maximal type for the tree computed at step 2.
We say a type α is smaller than type β if there is a (nondependent) coercion from α to β.
We are currently ignoring the case we may have cycles in the coercion graph.
If there are &quot;uncomparable&quot; types α and β in the tree, we skip the next step.
We say two types are &quot;uncomparable&quot; if there isn't a coercion between them.
Note that two types may be &quot;uncomparable&quot; because some typing information may still be missing.
5- We traverse the tree and inject coercions to the &quot;maximal&quot; type when needed.</p><p>Recall that the coercions are expanded eagerly by the elaborator.</p><p>Properties:</p><p>a) Given <code>n : <a href="../.././Init/Prelude.html#Nat">Nat</a></code> and <code>i : <a href="../.././Init/Prelude.html#Nat">Nat</a></code>, it can successfully elaborate <code>n + i</code> and <code>i + n</code>. Recall that Lean 3
fails on the former.</p><p>b) The coercions are inserted in the &quot;leaves&quot; like in Lean 3.</p><p>c) There are no coercions &quot;hidden&quot; inside instances, and we can elaborate</p><pre><code>axiom <a href="../.././Init/Data/Int/Lemmas.html#Int.add_comm">Int.add_comm</a> (i j : Int) : i + j = j + i

example (n : Nat) (i : Int) : n + i = i + n := by
  rw [Int.add_comm]
</code></pre><p>Recall that the <code>rw</code> tactic used to fail because our old <code>binop%</code> elaborator would hide
coercions inside of a <code><a href="../.././Init/Prelude.html#HAdd">HAdd</a></code> instance.</p><p>Remarks:</p><ul>
<li><p>In the new <code>binop%</code> and related elaborators the decision whether a coercion will be inserted or not
is made at <code>binop%</code> elaboration time. This was not the case in the old elaborator.
For example, an instance, such as <code><a href="../.././Init/Prelude.html#HAdd">HAdd</a> <a href="../.././Init/Data/Int/Basic.html#Int">Int</a> ?m ?n</code>, could be created when executing
the <code>binop%</code> elaborator, and only resolved much later. We try to minimize this problem
by synthesizing pending metavariables at step 3.</p>
</li>
<li><p>For types containing heterogeneous operators (e.g., matrix multiplication), step 4 will fail
and we will skip coercion insertion. For example, <code>x : Matrix Real 5 4</code> and <code>y : Matrix Real 4 8</code>,
there is no coercion <code>Matrix Real 5 4</code> from <code>Matrix Real 4 8</code> and vice-versa, but
<code>x * y</code> is elaborated successfully and has type <code>Matrix Real 5 8</code>.</p>
</li>
<li><p>The <code>leftact%</code> and <code>rightact%</code> elaborators are to handle binary operations where only one of
the arguments participates in the protocol. For example, in <code>2 ^ n + y</code> with <code>n : <a href="../.././Init/Prelude.html#Nat">Nat</a></code> and <code>y : Real</code>,
we do not want to coerce <code>n</code> to be a real as well, but we do want to elaborate <code>2 : Real</code>.</p>
</li>
</ul></div><div class="decl" id="Lean.Elab.Term.Op.elabOp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean#L475-L476">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabOp"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabOp</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElab">TermElab</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabOp">Lean.Elab.Term.Op.elabOp</a> <span class="fn">stx</span> <span class="fn">expectedType?</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">do
  let <span class="fn">__do_lift</span> ← <span class="fn"><a href="../.././Lean/Elab/Extra.html#_private.Lean.Elab.Extra.0.Lean.Elab.Term.Op.toTree">Lean.Elab.Term.Op.toTree✝</a> <span class="fn">stx</span></span>
  <span class="fn"><a href="../.././Lean/Elab/Extra.html#_private.Lean.Elab.Extra.0.Lean.Elab.Term.Op.toExpr">Lean.Elab.Term.Op.toExpr✝</a> <span class="fn">__do_lift</span> <span class="fn">expectedType?</span></span></span></li></ul></details><details id="instances-for-list-Lean.Elab.Term.Op.elabOp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.Op.elabBinOp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean#L478-L478">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabBinOp"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabBinOp</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElab">TermElab</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabBinOp">Lean.Elab.Term.Op.elabBinOp</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabOp">Lean.Elab.Term.Op.elabOp</a></li></ul></details><details id="instances-for-list-Lean.Elab.Term.Op.elabBinOp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.Op.elabBinOpLazy"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean#L479-L479">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabBinOpLazy"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabBinOpLazy</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElab">TermElab</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabBinOpLazy">Lean.Elab.Term.Op.elabBinOpLazy</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabOp">Lean.Elab.Term.Op.elabOp</a></li></ul></details><details id="instances-for-list-Lean.Elab.Term.Op.elabBinOpLazy" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.Op.elabLeftact"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean#L480-L480">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabLeftact"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabLeftact</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElab">TermElab</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabLeftact">Lean.Elab.Term.Op.elabLeftact</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabOp">Lean.Elab.Term.Op.elabOp</a></li></ul></details><details id="instances-for-list-Lean.Elab.Term.Op.elabLeftact" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.Op.elabRightact"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean#L481-L481">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabRightact"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabRightact</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElab">TermElab</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabRightact">Lean.Elab.Term.Op.elabRightact</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabOp">Lean.Elab.Term.Op.elabOp</a></li></ul></details><details id="instances-for-list-Lean.Elab.Term.Op.elabRightact" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.Op.elabUnOp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean#L482-L482">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabUnOp"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabUnOp</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElab">TermElab</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabUnOp">Lean.Elab.Term.Op.elabUnOp</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabOp">Lean.Elab.Term.Op.elabOp</a></li></ul></details><details id="instances-for-list-Lean.Elab.Term.Op.elabUnOp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.Op.elabBinRelCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean#L484-L562">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabBinRelCore"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabBinRelCore</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">noProp</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">stx</span> : <a href="../.././Init/Prelude.html#Lean.Syntax">Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">expectedType?</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM">TermElabM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Expr</a></span></div></div><p>Elaboration functions for <code>binrel%</code> and <code>binrel_no_prop%</code> notations.
We use the infrastructure for <code>binop%</code> to make sure we propagate information between the left and right hand sides
of a binary relation.</p><ul>
<li><code>binrel% R x y</code> elaborates <code>R x y</code> using the <code>binop%/...</code> expression trees in both <code>x</code> and <code>y</code>.
It is similar to how <code>binop% R x y</code> elaborates but with a significant difference:
it does not use the expected type when computing the types of the operands.</li>
<li><code>binrel_no_prop% R x y</code> elaborates <code>R x y</code> like <code>binrel% R x y</code>, but if the resulting type for <code>x</code> and <code>y</code>
is <code>Prop</code> they are coerced to <code><a href="../.././Init/Prelude.html#Bool">Bool</a></code>.
This is used for relations such as <code>==</code> which do not support <code>Prop</code>, but we still want
to be able to write <code>(5 &gt; 2) == (2 &gt; 1)</code> for example.</li>
</ul><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Term.Op.elabBinRelCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.Op.elabBinRel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean#L564-L564">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabBinRel"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabBinRel</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElab">TermElab</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabBinRel">Lean.Elab.Term.Op.elabBinRel</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabBinRelCore">Lean.Elab.Term.Op.elabBinRelCore</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></span></li></ul></details><details id="instances-for-list-Lean.Elab.Term.Op.elabBinRel" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.Op.elabBinRelNoProp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean#L566-L566">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabBinRelNoProp"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabBinRelNoProp</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElab">TermElab</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabBinRelNoProp">Lean.Elab.Term.Op.elabBinRelNoProp</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabBinRelCore">Lean.Elab.Term.Op.elabBinRelCore</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></span></li></ul></details><details id="instances-for-list-Lean.Elab.Term.Op.elabBinRelNoProp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Lean.Elab.Term.Op.elabDefaultOrNonempty"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Lean/Elab/Extra.lean#L568-L584">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Extra.html#Lean.Elab.Term.Op.elabDefaultOrNonempty"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Term</span>.<span class="name">Op</span>.<span class="name">elabDefaultOrNonempty</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElab">TermElab</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Lean.Elab.Term.Op.elabDefaultOrNonempty" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>