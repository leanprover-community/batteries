<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../../../../.././style.css"></link><link rel="icon" href="../../../../../.././favicon.svg"></link><link rel="mask-icon" href="../../../../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../../../../.././/declarations/declaration-data.bmp" as="image"></link><title>Std.Tactic.BVDecide.LRAT.Internal.Formula.Implementation</title><script defer="true" src="../../../../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../../../../.././";</script><script>const MODULE_NAME="Std.Tactic.BVDecide.LRAT.Internal.Formula.Implementation";</script><script type="module" src="../../../../../.././jump-src.js"></script><script type="module" src="../../../../../.././search.js"></script><script type="module" src="../../../../../.././expand-nav.js"></script><script type="module" src="../../../../../.././how-about.js"></script><script type="module" src="../../../../../.././instances.js"></script><script type="module" src="../../../../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">Formula</span>.<span class="name">Implementation</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../../../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Class.html">Std.Tactic.BVDecide.LRAT.Internal.Formula.Class</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Std.Tactic.BVDecide.LRAT.Internal.Formula.Implementation" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ext"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">ext</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ext_iff"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">ext_iff</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.instInhabited"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">instInhabited</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.toList"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">toList</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ofArray_fold_fn"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">ofArray_fold_fn</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ofArray"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">ofArray</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insert"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">insert</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.deleteOne"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">deleteOne</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.delete"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">delete</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.instEntailsPosFin"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">instEntailsPosFin</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.formulaEntails_def"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">formulaEntails_def</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insertUnit"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">insertUnit</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insertRupUnits"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">insertRupUnits</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insertRatUnits"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">insertRatUnits</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearUnit"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">clearUnit</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearRupUnits"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">clearRupUnits</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearRatUnits"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">clearRatUnits</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.restoreAssignments"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">restoreAssignments</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.confirmRupHint"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">confirmRupHint</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRupCheck"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">performRupCheck</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRupAdd"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">performRupAdd</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.getRatClauseIndices"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">getRatClauseIndices</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratHintsExhaustive"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">ratHintsExhaustive</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRatCheck"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">performRatCheck</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRatAdd"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">performRatAdd</span></a></div><div class="nav_link"><a class="break_within" href="#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.numClausesInFormula"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">numClausesInFormula</span></a></div></nav><main>
<div class="mod_doc"><p>This module contains the default implementation of the <code>Formula</code> typeclass that is used in the
surface level LRAT checker.</p></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L25-L67">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">numVarsSucc</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../../../../.././foundational_types.html">Type</a></div></div><p>The structure <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> n</code> takes in a parameter <code>n</code> which is intended to be one greater than the total number of variables that
can appear in the formula (hence why the parameter <code>n</code> is called <code>numVarsSucc</code> below). The structure has 4 fields:</p><ul>
<li><p>The <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clauses">clauses</a></code> field maintains the total set of clauses that appear in the formula. Additionally, when a default formula is created
by parsing a CNF file and modified by a series of LRAT additions and deletions, the following informal invariant is maintained:</p>
<ol>
<li><code>clauses[0]</code> is always set to <code>none</code>.</li>
<li>The m clauses in the original CNF file are stored in indices 1 through m of the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clauses">clauses</a></code> field (and they are stored in the order
in which they appear in the CNF file).</li>
<li>Each subsequent LRAT addition is pushed to the very end of the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clauses">clauses</a></code> array, even if there are elements in the current array set
to none.</li>
<li>When a clause index is deleted via <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.delete">delete</a></code>, that index in <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clauses">clauses</a></code> is set to <code>none</code></li>
</ol>
<p>The purpose of this invariant is to preserve a 1-to-1 correspondence between indices referenced by any external LRAT proof and the internal
indices used within <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clauses">clauses</a></code></p>
</li>
<li><p>The <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits">rupUnits</a></code> field is empty except during the processing of RUP additions and RAT additions. During a RUP addition or a RAT addition, the
<code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits">rupUnits</a></code> field is used to store negated units from the clause being evaluated for the addition. Regardless of whether the addition is
successful, the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits">rupUnits</a></code> field is cleared prior to returning. The reason that <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits">rupUnits</a></code> is included as part of the default formula
structure (as opposed to simply being an Array that is passed through the helper functions relating to RUP and RAT additions) is to simplify
the semantics of default formulas. Since <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits">rupUnits</a></code> is part of the default formula structure, it can be taken into account in the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.toList">toList</a></code>
function that defines its satisfiability semantics, making it possible to &quot;add&quot; negated units to a default formula and have it affect its
semantics in an easily reversible manner.</p>
</li>
<li><p>The <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratUnits">ratUnits</a></code> field is empty except during the processing of RAT additions. This field serves an extremely similar role to <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits">rupUnits</a></code> in that
it is used to temporarily store negated units during unit propagation. The primary difference between the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits">rupUnits</a></code> field and <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratUnits">ratUnits</a></code> field
is that the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits">rupUnits</a></code> field is only updated twice for each RUP or RAT addition (once to add negated units and then once again to remove said
negated units), the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratUnits">ratUnits</a></code> field is updated zero times for each RUP addition and updated m times for each RAT addition where m is the number
of negative hints in said RAT addition (i.e. the number of clauses in the formula containing the RAT addition's negated pivot literal).</p>
</li>
<li><p>The <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.assignments">assignments</a></code> field is maintained to quickly look up which values (if any) are entailed for a variable by the formula. At most points in time,
(i.e. at all points in time except during a RUP or RAT addition), the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.assignments">assignments</a></code> field must satisfy the <code>StrongAssignmentsInvariant</code> defined
in Formula.Lemmas.lean. During RUP and RAT additions, the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.assignments">assignments</a></code> field must satisfy the <code>AssignmentsInvariant</code> defined in Formula.Lemmas.lean.
The reason that the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.assignments">assignments</a></code> field is contained as an explicit part of the default formula (as opposed to simply being an Array that is passed
through the helper functions concerning unit propagation), is so that the (potentially large) Array does not need to repeatedly be allocated and
deallocated. By having the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.assignments">assignments</a></code> Array be a field of the default formula, it is easier to ensure that the Array is used linearly.</p>
</li>
</ul><ul class="structure_fields" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.mk"><li id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clauses" class="structure_field"><div class="structure_field_info">clauses : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Clause.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultClause">DefaultClause</a> <span class="fn">numVarsSucc</span>)</span>)</span></span></div></li><li id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits" class="structure_field"><div class="structure_field_info">rupUnits : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../../../../../.././Std/Sat/CNF/Literal.html#Std.Sat.Literal">Sat.Literal</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">numVarsSucc</span>)</span>)</span></span></div></li><li id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratUnits" class="structure_field"><div class="structure_field_info">ratUnits : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../../../../../.././Std/Sat/CNF/Literal.html#Std.Sat.Literal">Sat.Literal</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">numVarsSucc</span>)</span>)</span></span></div></li><li id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.assignments" class="structure_field"><div class="structure_field_info">assignments : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Assignment.html#Std.Tactic.BVDecide.LRAT.Internal.Assignment">Assignment</a></span></div></li></ul><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ext"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L61-L61">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ext"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">ext</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">numVarsSucc</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">numVarsSucc</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">clauses</span> : <span class="fn"><span class="fn">x</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clauses">clauses</a></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clauses">clauses</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rupUnits</span> : <span class="fn"><span class="fn">x</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits">rupUnits</a></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits">rupUnits</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ratUnits</span> : <span class="fn"><span class="fn">x</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratUnits">ratUnits</a></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratUnits">ratUnits</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">assignments</span> : <span class="fn"><span class="fn">x</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.assignments">assignments</a></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.assignments">assignments</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">y</span></div></div></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ext_iff"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L61-L61">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ext_iff"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">ext_iff</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">numVarsSucc</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">numVarsSucc</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">x</span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">y</span> <a href="../../../../../.././Init/Core.html#Iff">↔</a> <span class="fn"><span class="fn">x</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clauses">clauses</a></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clauses">clauses</a></span> <a href="../../../../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn">x</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits">rupUnits</a></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.rupUnits">rupUnits</a></span> <a href="../../../../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn">x</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratUnits">ratUnits</a></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratUnits">ratUnits</a></span> <a href="../../../../../.././Init/Prelude.html#And">∧</a> <span class="fn"><span class="fn">x</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.assignments">assignments</a></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">y</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.assignments">assignments</a></span></div></div></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.instInhabited"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L71-L72">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.instInhabited"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">instInhabited</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Init/Prelude.html#Inhabited">Inhabited</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.toList"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L74-L76">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.toList"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">toList</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Init/Prelude.html#List">List</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Clause.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultClause">DefaultClause</a> <span class="fn">n</span>)</span></span></div></div><p>Note: This function is only for reasoning about semantics. Its efficiency doesn't actually matter</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.toList" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ofArray_fold_fn"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L78-L86">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ofArray_fold_fn"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">ofArray_fold_fn</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">assignments</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Assignment.html#Std.Tactic.BVDecide.LRAT.Internal.Assignment">Assignment</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cOpt</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Clause.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultClause">DefaultClause</a> <span class="fn">n</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Assignment.html#Std.Tactic.BVDecide.LRAT.Internal.Assignment">Assignment</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li><li class="equation"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ofArray_fold_fn">Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ofArray_fold_fn</a> <span class="fn">assignments</span> <a href="../../../../../.././Init/Prelude.html#Option.none">none</a></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">assignments</span></li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ofArray_fold_fn" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ofArray"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L88-L94">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ofArray"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">ofArray</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">clauses</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Clause.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultClause">DefaultClause</a> <span class="fn">n</span>)</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span></div></div><p>Note: This function assumes that the provided <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clauses">clauses</a></code> Array is indexed according to the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clauses">clauses</a></code>
field invariant described in the DefaultFormula doc comment.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ofArray" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insert"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L96-L101">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insert"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">insert</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Clause.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultClause">DefaultClause</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insert" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.deleteOne"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L103-L109">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.deleteOne"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">deleteOne</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">id</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.deleteOne" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.delete"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L111-L112">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.delete"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">delete</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ids</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">f</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.delete">delete</a></span> <span class="fn">ids</span></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../../../../.././Init/Data/Array/Basic.html#Array.foldl">Array.foldl</a> <span class="fn">(fun (<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula</a> <span class="fn">n</span></span>) (<span class="fn">id</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">f</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.deleteOne">deleteOne</a></span> <span class="fn">id</span></span>)</span> <span class="fn">f</span> <span class="fn">ids</span></span></li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.delete" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.instEntailsPosFin"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L114-L115">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.instEntailsPosFin"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">instEntailsPosFin</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Entails.html#Std.Tactic.BVDecide.LRAT.Internal.Entails">Entails</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span>)</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.formulaEntails_def"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L117-L118">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.formulaEntails_def"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">formulaEntails_def</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">p</span> : <span class="fn"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span></span> → <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Entails.html#Std.Tactic.BVDecide.LRAT.Internal.Entails.eval">Entails.eval</a> <span class="fn">p</span> <span class="fn">f</span></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> (<span class="fn">(<span class="fn"><span class="fn"><span class="fn">f</span>.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.toList">toList</a></span>.<a href="../../../../../.././Init/Data/List/Basic.html#List.all">all</a></span> <span class="fn">fun (<span class="fn">c</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Clause.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultClause">DefaultClause</a> <span class="fn">n</span></span>) =&gt; <span class="fn"><a href="../../../../../.././Init/Prelude.html#Decidable.decide">decide</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Entails.html#Std.Tactic.BVDecide.LRAT.Internal.Entails.eval">Entails.eval</a> <span class="fn">p</span> <span class="fn">c</span>)</span></span></span>)</span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../../../.././Init/Prelude.html#Bool.true">true</a>)</div></div></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insertUnit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L120-L130">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insertUnit"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">insertUnit</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../../../../../.././Std/Sat/CNF/Literal.html#Std.Sat.Literal">Sat.Literal</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span>)</span></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Assignment.html#Std.Tactic.BVDecide.LRAT.Internal.Assignment">Assignment</a></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a> →
  <span class="fn"><span class="fn"><a href="../../../../../.././Std/Sat/CNF/Literal.html#Std.Sat.Literal">Sat.Literal</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span></span> → <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../../../../../.././Std/Sat/CNF/Literal.html#Std.Sat.Literal">Sat.Literal</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span>)</span></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Assignment.html#Std.Tactic.BVDecide.LRAT.Internal.Assignment">Assignment</a></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insertUnit" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insertRupUnits"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L132-L140">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insertRupUnits"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">insertRupUnits</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ls</span> : <span class="fn"><a href="../../../../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.Clause">Sat.CNF.Clause</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Returns an updated formula f and a bool which indicates whether a contradiction was found in the
process of updating f.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insertRupUnits" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insertRatUnits"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L142-L149">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insertRatUnits"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">insertRatUnits</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ls</span> : <span class="fn"><a href="../../../../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.Clause">Sat.CNF.Clause</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Returns an updated formula f and a bool which indicates whether a contradiction was found in the
process of updating f.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insertRatUnits" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearUnit"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L151-L152">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearUnit"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">clearUnit</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Assignment.html#Std.Tactic.BVDecide.LRAT.Internal.Assignment">Assignment</a></span> → <span class="fn"><span class="fn"><a href="../../../../../.././Std/Sat/CNF/Literal.html#Std.Sat.Literal">Sat.Literal</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span></span> → <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Assignment.html#Std.Tactic.BVDecide.LRAT.Internal.Assignment">Assignment</a></span></span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearUnit">Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearUnit</a> <span class="fn">x✝</span> <a href="../../../../../.././Init/Prelude.html#Prod.mk">(</a><span class="fn">l</span><a href="../../../../../.././Init/Prelude.html#Prod.mk">,</a> <span class="fn">b</span><a href="../../../../../.././Init/Prelude.html#Prod.mk">)</a></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn">x✝</span>.<a href="../../../../../.././Init/Data/Array/Basic.html#Array.modify">modify</a></span> <span class="fn"><span class="fn">l</span>.<a href="../../../../../.././Init/Prelude.html#Subtype.val">val</a></span> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Assignment.html#Std.Tactic.BVDecide.LRAT.Internal.Assignment.removeAssignment">Std.Tactic.BVDecide.LRAT.Internal.Assignment.removeAssignment</a> <span class="fn">b</span>)</span></span></li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearUnit" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearRupUnits"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L154-L158">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearRupUnits"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">clearRupUnits</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearRupUnits" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearRatUnits"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L160-L164">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearRatUnits"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">clearRatUnits</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearRatUnits" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.restoreAssignments"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L166-L171">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.restoreAssignments"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">restoreAssignments</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">assignments</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Assignment.html#Std.Tactic.BVDecide.LRAT.Internal.Assignment">Assignment</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">derivedLits</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#List">List</a> (<span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Assignment.html#Std.Tactic.BVDecide.LRAT.Internal.Assignment">Assignment</a></span></div></div><p>Reverts assignments to the array it was prior to adding derivedLits.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.restoreAssignments">Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.restoreAssignments</a> <span class="fn">assignments</span> <span class="fn">derivedLits</span></span> <a href="../../../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../../../../../.././Init/Prelude.html#List.foldl">List.foldl</a> <a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearUnit">Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.clearUnit</a> <span class="fn">assignments</span> <span class="fn">derivedLits</span></span></li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.restoreAssignments" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.confirmRupHint"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L173-L195">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.confirmRupHint"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">confirmRupHint</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">clauses</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Clause.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultClause">DefaultClause</a> <span class="fn">n</span>)</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Assignment.html#Std.Tactic.BVDecide.LRAT.Internal.Assignment">Assignment</a></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../../../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.Clause">Sat.CNF.Clause</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a> →
  <span class="fn"><a href="../../../../../.././Init/Prelude.html#Nat">Nat</a> → <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Assignment.html#Std.Tactic.BVDecide.LRAT.Internal.Assignment">Assignment</a></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../../../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.Clause">Sat.CNF.Clause</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a></span></span></div></div><p>The fold function used for performRupCheck.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.confirmRupHint" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRupCheck"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L197-L212">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRupCheck"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">performRupCheck</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rupHints</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../../../../.././Std/Sat/CNF/Basic.html#Std.Sat.CNF.Clause">Sat.CNF.Clause</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Takes in a formula f and an array of rupHints and attempts to verify that f is unsatisfiable. It returns:</p><ul>
<li>f', which is the same as f but the assignments field has been updated to be consistent with anything learned over the
course of the rupCheck</li>
<li>derivedLits, which is the list of literals that were derived over the course of the rupCheck (these are needed to
eventually reconstruct the original assignment)</li>
<li>derivedEmpty, which indicates whether the empty clause or a contradiction was derived</li>
<li>encounteredError, which is true if the rupCheck failed and false otherwise</li>
</ul><p>Note: This function assumes that any rupUnits and ratUnits corresponding to this rup check have already been added to f.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRupCheck" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRupAdd"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L214-L238">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRupAdd"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">performRupAdd</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Clause.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultClause">DefaultClause</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rupHints</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Attempts to verify that c can be added to f via unit propagation. If it can, it returns
<code>((f.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insert">insert</a> c), true)</code>. If it can't, it returns false as the second part of the tuple
(and no guarantees are made about what formula is returned).</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRupAdd" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.getRatClauseIndices"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L240-L249">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.getRatClauseIndices"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">getRatClauseIndices</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">clauses</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../../../../../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Clause.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultClause">DefaultClause</a> <span class="fn">n</span>)</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">l</span> : <span class="fn"><a href="../../../../../.././Std/Sat/CNF/Literal.html#Std.Sat.Literal">Sat.Literal</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a></span></div></div><p>Returns an array of indices corresponding to clauses that contain the negation of l</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.getRatClauseIndices" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratHintsExhaustive"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L251-L261">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratHintsExhaustive"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">ratHintsExhaustive</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pivot</span> : <span class="fn"><a href="../../../../../.././Std/Sat/CNF/Literal.html#Std.Sat.Literal">Sat.Literal</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ratHints</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> (<a href="../../../../../.././Init/Prelude.html#Nat">Nat</a> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a></span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../../../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Checks that for each clause <code>c ∈ f</code> such that <code>(Literal.negate pivot) ∈ c</code>, <code>c</code>'s index is in
<code>ratHints.map (fun x =&gt; x.1)</code>. This function assumes that ratHints are ordered by the value of their
first argument, which is consistent with LRAT's specification</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratHintsExhaustive" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRatCheck"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L263-L297">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRatCheck"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">performRatCheck</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">negPivot</span> : <span class="fn"><a href="../../../../../.././Std/Sat/CNF/Literal.html#Std.Sat.Literal">Sat.Literal</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ratHint</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Takes in a formula <code>f</code> and a single <code>ratHint</code> and attempts to verify that <code>f</code> is inconsistent with the
negation of the <code>ratHint</code>'s clause. It returns:</p><ul>
<li><code>f</code> which is the same as the original <code>f</code> (including the ratUnits and assignment fields)<ul>
<li>Although the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratUnits">ratUnits</a></code> and <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.assignments">assignments</a></code> fields are updated during the procedure,
they are restored prior to returning..</li>
</ul>
</li>
<li><code>success</code>, which indicates whether empty was successfully derived without any errors</li>
</ul><p>Note: This function assumes that the <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.ratUnits">ratUnits</a></code> corresponding to this rat check have NOT already
been added to <code>f</code>. In terms of input expectations and output guarantees, this function is more
analogous to <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRupAdd">performRupAdd</a></code> than <code><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRupCheck">performRupCheck</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRatCheck" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRatAdd"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L299-L329">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRatAdd"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">performRatAdd</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">c</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Clause.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultClause">DefaultClause</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pivot</span> : <span class="fn"><a href="../../../../../.././Std/Sat/CNF/Literal.html#Std.Sat.Literal">Sat.Literal</a> <span class="fn">(<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/PosFin.html#Std.Tactic.BVDecide.LRAT.Internal.PosFin">PosFin</a> <span class="fn">n</span>)</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rupHints</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ratHints</span> : <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> (<a href="../../../../../.././Init/Prelude.html#Nat">Nat</a> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../../../../../.././Init/Prelude.html#Array">Array</a> <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a></span>)</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span> <a href="../../../../../.././Init/Prelude.html#Prod">×</a> <a href="../../../../../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Attempts to verify that <code>c</code> can be added to <code>f</code> via unit propagation. If it can, it returns
<code>((f.<a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.insert">insert</a> c), true)</code>. If it can't, it returns false as the second part of the tuple
(and no guarantees are made about what formula is returned).</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.performRatAdd" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.numClausesInFormula"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/744f98064b056ee27fc8c97f524797c8cc96f436/src/Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.lean#L331-L336">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.numClausesInFormula"><span class="name">Std</span>.<span class="name">Tactic</span>.<span class="name">BVDecide</span>.<span class="name">LRAT</span>.<span class="name">Internal</span>.<span class="name">DefaultFormula</span>.<span class="name">numClausesInFormula</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../../../.././Init/Prelude.html#Nat">Nat</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../../../.././Std/Tactic/BVDecide/LRAT/Internal/Formula/Implementation.html#Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula">DefaultFormula</a> <span class="fn">n</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../../../../../.././Init/Prelude.html#Nat">Nat</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Std.Tactic.BVDecide.LRAT.Internal.DefaultFormula.numClausesInFormula" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../../../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>